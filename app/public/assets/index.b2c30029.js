var wO=Object.defineProperty,SO=Object.defineProperties;var EO=Object.getOwnPropertyDescriptors;var eu=Object.getOwnPropertySymbols;var h_=Object.prototype.hasOwnProperty,p_=Object.prototype.propertyIsEnumerable;var m_=(t,e,r)=>e in t?wO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ge=(t,e)=>{for(var r in e||(e={}))h_.call(e,r)&&m_(t,r,e[r]);if(eu)for(var r of eu(e))p_.call(e,r)&&m_(t,r,e[r]);return t},ot=(t,e)=>SO(t,EO(e));var __=(t,e)=>{var r={};for(var n in t)h_.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&eu)for(var n of eu(t))e.indexOf(n)<0&&p_.call(t,n)&&(r[n]=t[n]);return r};import{ab as O,am as Pe,ak as K,d as Gc,a2 as y_,g as TO,o as jt,c as $n,b as Ee,w as xe,u as Oe,k as Qn,W as tu,Q as Bo,a as qi,l as Lr,t as ru,i as PO,af as OO,an as CO,ao as MO,ap as kO,a0 as v_,Y as g_,aq as xO,r as Xc,ar as RO,as as NO,at as IO,au as jO,av as AO,aw as FO,ax as LO,f as b_,ay as DO,R as zO,S as qO,az as UO,m as BO,aA as HO}from"./vendor.cc63ba10.js";/* empty css               *//* empty css               */import{c as Jc}from"./index.3aeb4558.js";/* empty css               */import KO from"electron";function C(t,e){return e.forEach(function(r){Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}var VO=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get default(){return h$}},[h$])),WO=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get default(){return AB}},[up])),GO=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get default(){return fE}},[fE])),XO=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get default(){return $E}},[$E])),JO=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get default(){return qP}},[qP]));var Ui={},Yc={},Ze={},YO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ze}),ue=O(YO),nu={exports:{}},iu={exports:{}},Bi=typeof Reflect=="object"?Reflect:null,$_=Bi&&typeof Bi.apply=="function"?Bi.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ou;Bi&&typeof Bi.ownKeys=="function"?ou=Bi.ownKeys:Object.getOwnPropertySymbols?ou=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ou=function(e){return Object.getOwnPropertyNames(e)};function QO(t){console&&console.warn&&console.warn(t)}var w_=Number.isNaN||function(e){return e!==e};function Ke(){Ke.init.call(this)}iu.exports=Ke;var ZO=iu.exports.once=nC;Ke.EventEmitter=Ke;Ke.prototype._events=void 0;Ke.prototype._eventsCount=0;Ke.prototype._maxListeners=void 0;var S_=10;function au(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ke,"defaultMaxListeners",{enumerable:!0,get:function(){return S_},set:function(t){if(typeof t!="number"||t<0||w_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");S_=t}});Ke.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ke.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||w_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function E_(t){return t._maxListeners===void 0?Ke.defaultMaxListeners:t._maxListeners}Ke.prototype.getMaxListeners=function(){return E_(this)};Ke.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")$_(l,this,r);else for(var u=l.length,c=M_(l,u),n=0;n<u;++n)$_(c[n],this,r);return!0};function T_(t,e,r,n){var i,o,a;if(au(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),a===void 0)a=o[e]=r,++t._eventsCount;else if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=E_(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,QO(s)}return t}Ke.prototype.addListener=function(e,r){return T_(this,e,r,!1)};Ke.prototype.on=Ke.prototype.addListener;Ke.prototype.prependListener=function(e,r){return T_(this,e,r,!0)};function eC(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function P_(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=eC.bind(n);return i.listener=r,n.wrapFn=i,i}Ke.prototype.once=function(e,r){return au(r),this.on(e,P_(this,e,r)),this};Ke.prototype.prependOnceListener=function(e,r){return au(r),this.prependListener(e,P_(this,e,r)),this};Ke.prototype.removeListener=function(e,r){var n,i,o,a,s;if(au(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():tC(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,s||r)}return this};Ke.prototype.off=Ke.prototype.removeListener;Ke.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function O_(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?rC(i):M_(i,i.length)}Ke.prototype.listeners=function(e){return O_(this,e,!0)};Ke.prototype.rawListeners=function(e){return O_(this,e,!1)};Ke.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):C_.call(t,e)};Ke.prototype.listenerCount=C_;function C_(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ke.prototype.eventNames=function(){return this._eventsCount>0?ou(this._events):[]};function M_(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function tC(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function rC(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function nC(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,o),n(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}k_(t,e,o,{once:!0}),e!=="error"&&iC(t,i,{once:!0})})}function iC(t,e,r){typeof t.on=="function"&&k_(t,"error",e,r)}function k_(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var oC=iu.exports,aC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:oC,once:ZO},[iu.exports])),Zn=O(aC),x_=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},sC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:x_},[x_])),uC=O(sC);const ei=uC,lC=new Set(["__proto__","prototype","constructor"]),cC=t=>!t.some(e=>lC.has(e));function su(t){const e=t.split("."),r=[];for(let n=0;n<e.length;n++){let i=e[n];for(;i[i.length-1]==="\\"&&e[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=e[++n];r.push(i)}return cC(r)?r:[]}var R_={get(t,e,r){if(!ei(t)||typeof e!="string")return r===void 0?t:r;const n=su(e);if(n.length!==0){for(let i=0;i<n.length;i++)if(t=t[n[i]],t==null){if(i!==n.length-1)return r;break}return t===void 0?r:t}},set(t,e,r){if(!ei(t)||typeof e!="string")return t;const n=t,i=su(e);for(let o=0;o<i.length;o++){const a=i[o];ei(t[a])||(t[a]={}),o===i.length-1&&(t[a]=r),t=t[a]}return n},delete(t,e){if(!ei(t)||typeof e!="string")return!1;const r=su(e);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete t[i],!0;if(t=t[i],!ei(t))return!1}},has(t,e){if(!ei(t)||typeof e!="string")return!1;const r=su(e);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(ei(t)){if(!(r[n]in t))return!1;t=t[r[n]]}else return!1;return!0}},dC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:R_},[R_])),fC=O(dC),uu={exports:{}},lu={exports:{}},cu={exports:{}},du={exports:{}};const N_=ue;du.exports=t=>new Promise(e=>{N_.access(t,r=>{e(!r)})});var hC=du.exports.sync=t=>{try{return N_.accessSync(t),!0}catch(e){return!1}},pC=du.exports,mC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pC,sync:hC},[du.exports])),_C=O(mC),fu={exports:{}},hu={exports:{}};const I_=(t,...e)=>new Promise(r=>{r(t(...e))});hu.exports=I_;hu.exports.default=I_;var yC=hu.exports,vC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:yC},[hu.exports])),gC=O(vC);const bC=gC,j_=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const e=[];let r=0;const n=()=>{r--,e.length>0&&e.shift()()},i=(s,l,...u)=>{r++;const c=bC(s,...u);l(c),c.then(n,n)},o=(s,l,...u)=>{r<t?i(s,l,...u):e.push(i.bind(null,s,l,...u))},a=(s,...l)=>new Promise(u=>o(s,u,...l));return Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),a};fu.exports=j_;fu.exports.default=j_;var $C=fu.exports,wC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:$C},[fu.exports])),SC=O(wC);const A_=SC;class F_ extends Error{constructor(e){super();this.value=e}}const EC=(t,e)=>Promise.resolve(t).then(e),TC=t=>Promise.all(t).then(e=>e[1]===!0&&Promise.reject(new F_(e[0])));var L_=(t,e,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=A_(r.concurrency),i=[...t].map(a=>[a,n(EC,a,e)]),o=A_(r.preserveOrder?1:1/0);return Promise.all(i.map(a=>o(TC,a))).then(()=>{}).catch(a=>a instanceof F_?a.value:Promise.reject(a))},PC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:L_},[L_])),OC=O(PC);const D_=ue,z_=_C,CC=OC;cu.exports=(t,e)=>(e=Object.assign({cwd:process.cwd()},e),CC(t,r=>z_(D_.resolve(e.cwd,r)),e));var MC=cu.exports.sync=(t,e)=>{e=Object.assign({cwd:process.cwd()},e);for(const r of t)if(z_.sync(D_.resolve(e.cwd,r)))return r},kC=cu.exports,xC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:kC,sync:MC},[cu.exports])),RC=O(xC);const wn=ue,q_=RC;lu.exports=(t,e={})=>{const r=wn.resolve(e.cwd||""),{root:n}=wn.parse(r),i=[].concat(t);return new Promise(o=>{(function a(s){q_(i,{cwd:s}).then(l=>{l?o(wn.join(s,l)):s===n?o(null):a(wn.dirname(s))})})(r)})};var NC=lu.exports.sync=(t,e={})=>{let r=wn.resolve(e.cwd||"");const{root:n}=wn.parse(r),i=[].concat(t);for(;;){const o=q_.sync(i,{cwd:r});if(o)return wn.join(r,o);if(r===n)return null;r=wn.dirname(r)}},IC=lu.exports,jC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:IC,sync:NC},[lu.exports])),AC=O(jC);const U_=AC;uu.exports=async({cwd:t}={})=>U_("package.json",{cwd:t});var FC=uu.exports.sync=({cwd:t}={})=>U_.sync("package.json",{cwd:t}),LC=uu.exports,DC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:LC,sync:FC},[uu.exports])),zC=O(DC),pu={exports:{}};const at=ue,B_=ue,Sn=B_.homedir(),Qc=B_.tmpdir(),{env:Hi}=process,qC=t=>{const e=at.join(Sn,"Library");return{data:at.join(e,"Application Support",t),config:at.join(e,"Preferences",t),cache:at.join(e,"Caches",t),log:at.join(e,"Logs",t),temp:at.join(Qc,t)}},UC=t=>{const e=Hi.APPDATA||at.join(Sn,"AppData","Roaming"),r=Hi.LOCALAPPDATA||at.join(Sn,"AppData","Local");return{data:at.join(r,t,"Data"),config:at.join(e,t,"Config"),cache:at.join(r,t,"Cache"),log:at.join(r,t,"Log"),temp:at.join(Qc,t)}},BC=t=>{const e=at.basename(Sn);return{data:at.join(Hi.XDG_DATA_HOME||at.join(Sn,".local","share"),t),config:at.join(Hi.XDG_CONFIG_HOME||at.join(Sn,".config"),t),cache:at.join(Hi.XDG_CACHE_HOME||at.join(Sn,".cache"),t),log:at.join(Hi.XDG_STATE_HOME||at.join(Sn,".local","state"),t),temp:at.join(Qc,e,t)}},H_=(t,e)=>{if(typeof t!="string")throw new TypeError(`Expected string, got ${typeof t}`);return e=Object.assign({suffix:"nodejs"},e),e.suffix&&(t+=`-${e.suffix}`),process.platform==="darwin"?qC(t):process.platform==="win32"?UC(t):BC(t)};pu.exports=H_;pu.exports.default=H_;var HC=pu.exports,KC=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:HC},[pu.exports])),VC=O(KC),cr={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});var K_=Ve.NOOP=ry=Ve.LIMIT_FILES_DESCRIPTORS=ty=Ve.LIMIT_BASENAME_LENGTH=ey=Ve.IS_USER_ROOT=Z_=Ve.IS_POSIX=Q_=Ve.DEFAULT_TIMEOUT_SYNC=Y_=Ve.DEFAULT_TIMEOUT_ASYNC=J_=Ve.DEFAULT_WRITE_OPTIONS=X_=Ve.DEFAULT_READ_OPTIONS=G_=Ve.DEFAULT_FOLDER_MODE=W_=Ve.DEFAULT_FILE_MODE=V_=Ve.DEFAULT_ENCODING=void 0;const WC="utf8";var V_=Ve.DEFAULT_ENCODING=WC;const GC=438;var W_=Ve.DEFAULT_FILE_MODE=GC;const XC=511;var G_=Ve.DEFAULT_FOLDER_MODE=XC;const JC={};var X_=Ve.DEFAULT_READ_OPTIONS=JC;const YC={};var J_=Ve.DEFAULT_WRITE_OPTIONS=YC;const QC=5e3;var Y_=Ve.DEFAULT_TIMEOUT_ASYNC=QC;const ZC=100;var Q_=Ve.DEFAULT_TIMEOUT_SYNC=ZC;const eM=!!process.getuid;var Z_=Ve.IS_POSIX=eM;const tM=process.getuid?!process.getuid():!1;var ey=Ve.IS_USER_ROOT=tM;const rM=128;var ty=Ve.LIMIT_BASENAME_LENGTH=rM;const nM=1e4;var ry=Ve.LIMIT_FILES_DESCRIPTORS=nM;const iM=()=>{};K_=Ve.NOOP=iM;var oM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get NOOP(){return K_},get LIMIT_FILES_DESCRIPTORS(){return ry},get LIMIT_BASENAME_LENGTH(){return ty},get IS_USER_ROOT(){return ey},get IS_POSIX(){return Z_},get DEFAULT_TIMEOUT_SYNC(){return Q_},get DEFAULT_TIMEOUT_ASYNC(){return Y_},get DEFAULT_WRITE_OPTIONS(){return J_},get DEFAULT_READ_OPTIONS(){return X_},get DEFAULT_FOLDER_MODE(){return G_},get DEFAULT_FILE_MODE(){return W_},get DEFAULT_ENCODING(){return V_},default:Ve},[Ve])),Ho=O(oM),Zc={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});var ny=ti.attemptifySync=oy=ti.attemptifyAsync=void 0;const iy=Ho,aM=(t,e=iy.NOOP)=>function(){return t.apply(void 0,arguments).catch(e)};var oy=ti.attemptifyAsync=aM;const sM=(t,e=iy.NOOP)=>function(){try{return t.apply(void 0,arguments)}catch(r){return e(r)}};ny=ti.attemptifySync=sM;var uM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get attemptifySync(){return ny},get attemptifyAsync(){return oy},default:ti},[ti])),lM=O(uM),ed={};Object.defineProperty(ed,"__esModule",{value:!0});const cM=Ho,ay={isChangeErrorOk:t=>{const{code:e}=t;return e==="ENOSYS"||!cM.IS_USER_ROOT&&(e==="EINVAL"||e==="EPERM")},isRetriableError:t=>{const{code:e}=t;return e==="EMFILE"||e==="ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!ay.isChangeErrorOk(t))throw t}};var dM=ed.default=ay,fM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:dM},[ed])),hM=O(fM),ri={},td={};Object.defineProperty(td,"__esModule",{value:!0});const pM=Ho,Je={interval:25,intervalId:void 0,limit:pM.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{Je.intervalId||(Je.intervalId=setInterval(Je.tick,Je.interval))},reset:()=>{!Je.intervalId||(clearInterval(Je.intervalId),delete Je.intervalId)},add:t=>{Je.queueWaiting.add(t),Je.queueActive.size<Je.limit/2?Je.tick():Je.init()},remove:t=>{Je.queueWaiting.delete(t),Je.queueActive.delete(t)},schedule:()=>new Promise(t=>{const e=()=>Je.remove(r),r=()=>t(e);Je.add(r)}),tick:()=>{if(!(Je.queueActive.size>=Je.limit)){if(!Je.queueWaiting.size)return Je.reset();for(const t of Je.queueWaiting){if(Je.queueActive.size>=Je.limit)break;Je.queueWaiting.delete(t),Je.queueActive.add(t),t()}}}};var mM=td.default=Je,_M=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:mM},[td])),yM=O(_M);Object.defineProperty(ri,"__esModule",{value:!0});var sy=ri.retryifySync=uy=ri.retryifyAsync=void 0;const vM=yM,gM=(t,e)=>function(r){return function n(){return vM.default.schedule().then(i=>t.apply(void 0,arguments).then(o=>(i(),o),o=>{if(i(),Date.now()>=r)throw o;if(e(o)){const a=Math.round(100+400*Math.random());return new Promise(l=>setTimeout(l,a)).then(()=>n.apply(void 0,arguments))}throw o}))}};var uy=ri.retryifyAsync=gM;const bM=(t,e)=>function(r){return function n(){try{return t.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(e(i))return n.apply(void 0,arguments);throw i}}};sy=ri.retryifySync=bM;var $M=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get retryifySync(){return sy},get retryifyAsync(){return uy},default:ri},[ri])),wM=O($M);Object.defineProperty(Zc,"__esModule",{value:!0});const Ue=ue,At=ue,Ft=lM,bt=hM,Kt=wM,SM={chmodAttempt:Ft.attemptifyAsync(At.promisify(Ue.chmod),bt.default.onChangeError),chownAttempt:Ft.attemptifyAsync(At.promisify(Ue.chown),bt.default.onChangeError),closeAttempt:Ft.attemptifyAsync(At.promisify(Ue.close)),fsyncAttempt:Ft.attemptifyAsync(At.promisify(Ue.fsync)),mkdirAttempt:Ft.attemptifyAsync(At.promisify(Ue.mkdir)),realpathAttempt:Ft.attemptifyAsync(At.promisify(Ue.realpath)),statAttempt:Ft.attemptifyAsync(At.promisify(Ue.stat)),unlinkAttempt:Ft.attemptifyAsync(At.promisify(Ue.unlink)),closeRetry:Kt.retryifyAsync(At.promisify(Ue.close),bt.default.isRetriableError),fsyncRetry:Kt.retryifyAsync(At.promisify(Ue.fsync),bt.default.isRetriableError),openRetry:Kt.retryifyAsync(At.promisify(Ue.open),bt.default.isRetriableError),readFileRetry:Kt.retryifyAsync(At.promisify(Ue.readFile),bt.default.isRetriableError),renameRetry:Kt.retryifyAsync(At.promisify(Ue.rename),bt.default.isRetriableError),statRetry:Kt.retryifyAsync(At.promisify(Ue.stat),bt.default.isRetriableError),writeRetry:Kt.retryifyAsync(At.promisify(Ue.write),bt.default.isRetriableError),chmodSyncAttempt:Ft.attemptifySync(Ue.chmodSync,bt.default.onChangeError),chownSyncAttempt:Ft.attemptifySync(Ue.chownSync,bt.default.onChangeError),closeSyncAttempt:Ft.attemptifySync(Ue.closeSync),mkdirSyncAttempt:Ft.attemptifySync(Ue.mkdirSync),realpathSyncAttempt:Ft.attemptifySync(Ue.realpathSync),statSyncAttempt:Ft.attemptifySync(Ue.statSync),unlinkSyncAttempt:Ft.attemptifySync(Ue.unlinkSync),closeSyncRetry:Kt.retryifySync(Ue.closeSync,bt.default.isRetriableError),fsyncSyncRetry:Kt.retryifySync(Ue.fsyncSync,bt.default.isRetriableError),openSyncRetry:Kt.retryifySync(Ue.openSync,bt.default.isRetriableError),readFileSyncRetry:Kt.retryifySync(Ue.readFileSync,bt.default.isRetriableError),renameSyncRetry:Kt.retryifySync(Ue.renameSync,bt.default.isRetriableError),statSyncRetry:Kt.retryifySync(Ue.statSync,bt.default.isRetriableError),writeSyncRetry:Kt.retryifySync(Ue.writeSync,bt.default.isRetriableError)};var EM=Zc.default=SM,TM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:EM},[Zc])),ly=O(TM),rd={};Object.defineProperty(rd,"__esModule",{value:!0});const PM={isFunction:t=>typeof t=="function",isString:t=>typeof t=="string",isUndefined:t=>typeof t=="undefined"};var OM=rd.default=PM,CM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:OM},[rd])),MM=O(CM),nd={};Object.defineProperty(nd,"__esModule",{value:!0});const mu={},id={next:t=>{const e=mu[t];if(!e)return;e.shift();const r=e[0];r?r(()=>id.next(t)):delete mu[t]},schedule:t=>new Promise(e=>{let r=mu[t];r||(r=mu[t]=[]),r.push(e),!(r.length>1)&&e(()=>id.next(t))})};var kM=nd.default=id,xM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:kM},[nd])),RM=O(xM),od={};Object.defineProperty(od,"__esModule",{value:!0});const NM=ue,cy=Ho,dy=ly,Jt={store:{},create:t=>{const e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${e}`;return`${t}${i}`},get:(t,e,r=!0)=>{const n=Jt.truncate(e(t));return n in Jt.store?Jt.get(t,e,r):(Jt.store[n]=r,[n,()=>delete Jt.store[n]])},purge:t=>{!Jt.store[t]||(delete Jt.store[t],dy.default.unlinkAttempt(t))},purgeSync:t=>{!Jt.store[t]||(delete Jt.store[t],dy.default.unlinkSyncAttempt(t))},purgeSyncAll:()=>{for(const t in Jt.store)Jt.purgeSync(t)},truncate:t=>{const e=NM.basename(t);if(e.length<=cy.LIMIT_BASENAME_LENGTH)return t;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!r)return t;const n=e.length-cy.LIMIT_BASENAME_LENGTH;return`${t.slice(0,-e.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Jt.purgeSyncAll);var IM=od.default=Jt,jM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:IM},[od])),AM=O(jM);Object.defineProperty(cr,"__esModule",{value:!0});var fy=cr.writeFileSync=gy=cr.writeFile=yy=cr.readFileSync=my=cr.readFile=void 0;const hy=ue,St=Ho,De=ly,Yt=MM,FM=RM,En=AM;function py(t,e=St.DEFAULT_READ_OPTIONS){var r;if(Yt.default.isString(e))return py(t,{encoding:e});const n=Date.now()+((r=e.timeout)!==null&&r!==void 0?r:St.DEFAULT_TIMEOUT_ASYNC);return De.default.readFileRetry(n)(t,e)}var my=cr.readFile=py;function _y(t,e=St.DEFAULT_READ_OPTIONS){var r;if(Yt.default.isString(e))return _y(t,{encoding:e});const n=Date.now()+((r=e.timeout)!==null&&r!==void 0?r:St.DEFAULT_TIMEOUT_SYNC);return De.default.readFileSyncRetry(n)(t,e)}var yy=cr.readFileSync=_y;const vy=(t,e,r,n)=>{if(Yt.default.isFunction(r))return vy(t,e,St.DEFAULT_WRITE_OPTIONS,r);const i=by(t,e,r);return n&&i.then(n,n),i};var gy=cr.writeFile=vy;const by=async(t,e,r=St.DEFAULT_WRITE_OPTIONS)=>{var n;if(Yt.default.isString(r))return by(t,e,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:St.DEFAULT_TIMEOUT_ASYNC);let o=null,a=null,s=null,l=null,u=null;try{r.schedule&&(o=await r.schedule(t)),a=await FM.default.schedule(t),t=await De.default.realpathAttempt(t)||t,[l,s]=En.default.get(t,r.tmpCreate||En.default.create,r.tmpPurge!==!1);const c=St.IS_POSIX&&Yt.default.isUndefined(r.chown),d=Yt.default.isUndefined(r.mode);if(c||d){const p=await De.default.statAttempt(t);p&&(r=ge({},r),c&&(r.chown={uid:p.uid,gid:p.gid}),d&&(r.mode=p.mode))}const h=hy.dirname(t);await De.default.mkdirAttempt(h,{mode:St.DEFAULT_FOLDER_MODE,recursive:!0}),u=await De.default.openRetry(i)(l,"w",r.mode||St.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(l),Yt.default.isString(e)?await De.default.writeRetry(i)(u,e,0,r.encoding||St.DEFAULT_ENCODING):Yt.default.isUndefined(e)||await De.default.writeRetry(i)(u,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await De.default.fsyncRetry(i)(u):De.default.fsyncAttempt(u)),await De.default.closeRetry(i)(u),u=null,r.chown&&await De.default.chownAttempt(l,r.chown.uid,r.chown.gid),r.mode&&await De.default.chmodAttempt(l,r.mode);try{await De.default.renameRetry(i)(l,t)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;await De.default.renameRetry(i)(l,En.default.truncate(t))}s(),l=null}finally{u&&await De.default.closeAttempt(u),l&&En.default.purge(l),o&&o(),a&&a()}},$y=(t,e,r=St.DEFAULT_WRITE_OPTIONS)=>{var n;if(Yt.default.isString(r))return $y(t,e,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:St.DEFAULT_TIMEOUT_SYNC);let o=null,a=null,s=null;try{t=De.default.realpathSyncAttempt(t)||t,[a,o]=En.default.get(t,r.tmpCreate||En.default.create,r.tmpPurge!==!1);const l=St.IS_POSIX&&Yt.default.isUndefined(r.chown),u=Yt.default.isUndefined(r.mode);if(l||u){const d=De.default.statSyncAttempt(t);d&&(r=ge({},r),l&&(r.chown={uid:d.uid,gid:d.gid}),u&&(r.mode=d.mode))}const c=hy.dirname(t);De.default.mkdirSyncAttempt(c,{mode:St.DEFAULT_FOLDER_MODE,recursive:!0}),s=De.default.openSyncRetry(i)(a,"w",r.mode||St.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(a),Yt.default.isString(e)?De.default.writeSyncRetry(i)(s,e,0,r.encoding||St.DEFAULT_ENCODING):Yt.default.isUndefined(e)||De.default.writeSyncRetry(i)(s,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?De.default.fsyncSyncRetry(i)(s):De.default.fsyncAttempt(s)),De.default.closeSyncRetry(i)(s),s=null,r.chown&&De.default.chownSyncAttempt(a,r.chown.uid,r.chown.gid),r.mode&&De.default.chmodSyncAttempt(a,r.mode);try{De.default.renameSyncRetry(i)(a,t)}catch(d){if(d.code!=="ENAMETOOLONG")throw d;De.default.renameSyncRetry(i)(a,En.default.truncate(t))}o(),a=null}finally{s&&De.default.closeSyncAttempt(s),a&&En.default.purge(a)}};fy=cr.writeFileSync=$y;var LM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get writeFileSync(){return fy},get writeFile(){return gy},get readFileSync(){return yy},get readFile(){return my},default:cr},[cr])),DM=O(LM),_u={exports:{}},ad={},Jr={},ni={},sd={},ud={},ld={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(m){super();if(!t.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(m){super();this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((g,w)=>`${g}${w}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((g,w)=>(w instanceof r&&(g[w.str]=(g[w.str]||0)+1),g),{})}}t._Code=n,t.nil=new n("");function i(f,...m){const g=[f[0]];let w=0;for(;w<m.length;)s(g,m[w]),g.push(f[++w]);return new n(g)}t._=i;const o=new n("+");function a(f,...m){const g=[p(f[0])];let w=0;for(;w<m.length;)g.push(o),s(g,m[w]),g.push(o,p(f[++w]));return l(g),new n(g)}t.str=a;function s(f,m){m instanceof n?f.push(...m._items):m instanceof r?f.push(m):f.push(d(m))}t.addCodeArg=s;function l(f){let m=1;for(;m<f.length-1;){if(f[m]===o){const g=u(f[m-1],f[m+1]);if(g!==void 0){f.splice(m-1,3,g);continue}f[m++]="+"}m++}}function u(f,m){if(m==='""')return f;if(f==='""')return m;if(typeof f=="string")return m instanceof r||f[f.length-1]!=='"'?void 0:typeof m!="string"?`${f.slice(0,-1)}${m}"`:m[0]==='"'?f.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(f instanceof r))return`"${f}${m.slice(1)}`}function c(f,m){return m.emptyStr()?f:f.emptyStr()?m:a`${f}${m}`}t.strConcat=c;function d(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:p(Array.isArray(f)?f.join(","):f)}function h(f){return new n(p(f))}t.stringify=h;function p(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function y(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new n(`.${f}`):i`[${f}]`}t.getProperty=y;function _(f){return new n(f.toString())}t.regexpCode=_})(ld);var zM=Pe(ld),qM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zM},[ld])),yu=O(qM),cd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=yu;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`);this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0?void 0:d.has(u))||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=i;class o extends e.Name{constructor(u,c){super(c);this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(c)}[${d}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class s extends i{constructor(u){super(u);this._values={},this._scope=u.scope,this.opts=ot(ge({},u),{_n:u.lines?a:e.nil})}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:p}=h,y=(d=c.key)!==null&&d!==void 0?d:c.ref;let _=this._values[p];if(_){const g=_.get(y);if(g)return g}else _=this._values[p]=new Map;_.set(y,h);const f=this._scope[p]||(this._scope[p]=[]),m=f.length;return f[m]=c.ref,h.setValue(c,{property:p,itemIndex:m}),h}getValue(u,c){const d=this._values[u];if(!!d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,d)}_reduceValues(u,c,d={},h){let p=e.nil;for(const y in u){const _=u[y];if(!_)continue;const f=d[y]=d[y]||new Map;_.forEach(m=>{if(f.has(m))return;f.set(m,n.Started);let g=c(m);if(g){const w=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${w} ${m} = ${g};${this.opts._n}`}else if(g=h==null?void 0:h(m))p=(0,e._)`${p}${g}${this.opts._n}`;else throw new r(m);f.set(m,n.Completed)})}return p}}t.ValueScope=s})(cd);var UM=Pe(cd),BM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:UM},[cd])),wy=O(BM);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=yu,r=wy;var n=yu;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=wy;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(v,T){return this}}class a extends o{constructor(v,T,F){super();this.varKind=v,this.name=T,this.rhs=F}render({es5:v,_n:T}){const F=v?r.varKinds.var:this.varKind,ee=this.rhs===void 0?"":` = ${this.rhs}`;return`${F} ${this.name}${ee};`+T}optimizeNames(v,T){if(!!v[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,v,T)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(v,T,F){super();this.lhs=v,this.rhs=T,this.sideEffects=F}render({_n:v}){return`${this.lhs} = ${this.rhs};`+v}optimizeNames(v,T){if(!(this.lhs instanceof e.Name&&!v[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,v,T),this}get names(){const v=this.lhs instanceof e.Name?{}:ge({},this.lhs.names);return ae(v,this.rhs)}}class l extends s{constructor(v,T,F,ee){super(v,F,ee);this.op=T}render({_n:v}){return`${this.lhs} ${this.op}= ${this.rhs};`+v}}class u extends o{constructor(v){super();this.label=v,this.names={}}render({_n:v}){return`${this.label}:`+v}}class c extends o{constructor(v){super();this.label=v,this.names={}}render({_n:v}){return`break${this.label?` ${this.label}`:""};`+v}}class d extends o{constructor(v){super();this.error=v}render({_n:v}){return`throw ${this.error};`+v}get names(){return this.error.names}}class h extends o{constructor(v){super();this.code=v}render({_n:v}){return`${this.code};`+v}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(v,T){return this.code=se(this.code,v,T),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends o{constructor(v=[]){super();this.nodes=v}render(v){return this.nodes.reduce((T,F)=>T+F.render(v),"")}optimizeNodes(){const{nodes:v}=this;let T=v.length;for(;T--;){const F=v[T].optimizeNodes();Array.isArray(F)?v.splice(T,1,...F):F?v[T]=F:v.splice(T,1)}return v.length>0?this:void 0}optimizeNames(v,T){const{nodes:F}=this;let ee=F.length;for(;ee--;){const X=F[ee];X.optimizeNames(v,T)||(ce(v,X.names),F.splice(ee,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((v,T)=>G(v,T.names),{})}}class y extends p{render(v){return"{"+v._n+super.render(v)+"}"+v._n}}class _ extends p{}class f extends y{}f.kind="else";class m extends y{constructor(v,T){super(T);this.condition=v}render(v){let T=`if(${this.condition})`+super.render(v);return this.else&&(T+="else "+this.else.render(v)),T}optimizeNodes(){super.optimizeNodes();const v=this.condition;if(v===!0)return this.nodes;let T=this.else;if(T){const F=T.optimizeNodes();T=this.else=Array.isArray(F)?new f(F):F}if(T)return v===!1?T instanceof m?T:T.nodes:this.nodes.length?this:new m(ye(v),T instanceof m?[T]:T.nodes);if(!(v===!1||!this.nodes.length))return this}optimizeNames(v,T){var F;if(this.else=(F=this.else)===null||F===void 0?void 0:F.optimizeNames(v,T),!!(super.optimizeNames(v,T)||this.else))return this.condition=se(this.condition,v,T),this}get names(){const v=super.names;return ae(v,this.condition),this.else&&G(v,this.else.names),v}}m.kind="if";class g extends y{}g.kind="for";class w extends g{constructor(v){super();this.iteration=v}render(v){return`for(${this.iteration})`+super.render(v)}optimizeNames(v,T){if(!!super.optimizeNames(v,T))return this.iteration=se(this.iteration,v,T),this}get names(){return G(super.names,this.iteration.names)}}class P extends g{constructor(v,T,F,ee){super();this.varKind=v,this.name=T,this.from=F,this.to=ee}render(v){const T=v.es5?r.varKinds.var:this.varKind,{name:F,from:ee,to:X}=this;return`for(${T} ${F}=${ee}; ${F}<${X}; ${F}++)`+super.render(v)}get names(){const v=ae(super.names,this.from);return ae(v,this.to)}}class A extends g{constructor(v,T,F,ee){super();this.loop=v,this.varKind=T,this.name=F,this.iterable=ee}render(v){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(v)}optimizeNames(v,T){if(!!super.optimizeNames(v,T))return this.iterable=se(this.iterable,v,T),this}get names(){return G(super.names,this.iterable.names)}}class S extends y{constructor(v,T,F){super();this.name=v,this.args=T,this.async=F}render(v){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(v)}}S.kind="func";class M extends p{render(v){return"return "+super.render(v)}}M.kind="return";class L extends y{render(v){let T="try"+super.render(v);return this.catch&&(T+=this.catch.render(v)),this.finally&&(T+=this.finally.render(v)),T}optimizeNodes(){var v,T;return super.optimizeNodes(),(v=this.catch)===null||v===void 0||v.optimizeNodes(),(T=this.finally)===null||T===void 0||T.optimizeNodes(),this}optimizeNames(v,T){var F,ee;return super.optimizeNames(v,T),(F=this.catch)===null||F===void 0||F.optimizeNames(v,T),(ee=this.finally)===null||ee===void 0||ee.optimizeNames(v,T),this}get names(){const v=super.names;return this.catch&&G(v,this.catch.names),this.finally&&G(v,this.finally.names),v}}class W extends y{constructor(v){super();this.error=v}render(v){return`catch(${this.error})`+super.render(v)}}W.kind="catch";class z extends y{render(v){return"finally"+super.render(v)}}z.kind="finally";class Z{constructor(v,T={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ot(ge({},T),{_n:T.lines?`
`:""}),this._extScope=v,this._scope=new r.Scope({parent:v}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(v){return this._scope.name(v)}scopeName(v){return this._extScope.name(v)}scopeValue(v,T){const F=this._extScope.value(v,T);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(v,T){return this._extScope.getValue(v,T)}scopeRefs(v){return this._extScope.scopeRefs(v,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(v,T,F,ee){const X=this._scope.toName(T);return F!==void 0&&ee&&(this._constants[X.str]=F),this._leafNode(new a(v,X,F)),X}const(v,T,F){return this._def(r.varKinds.const,v,T,F)}let(v,T,F){return this._def(r.varKinds.let,v,T,F)}var(v,T,F){return this._def(r.varKinds.var,v,T,F)}assign(v,T,F){return this._leafNode(new s(v,T,F))}add(v,T){return this._leafNode(new l(v,t.operators.ADD,T))}code(v){return typeof v=="function"?v():v!==e.nil&&this._leafNode(new h(v)),this}object(...v){const T=["{"];for(const[F,ee]of v)T.length>1&&T.push(","),T.push(F),(F!==ee||this.opts.es5)&&(T.push(":"),(0,e.addCodeArg)(T,ee));return T.push("}"),new e._Code(T)}if(v,T,F){if(this._blockNode(new m(v)),T&&F)this.code(T).else().code(F).endIf();else if(T)this.code(T).endIf();else if(F)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(v){return this._elseNode(new m(v))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(m,f)}_for(v,T){return this._blockNode(v),T&&this.code(T).endFor(),this}for(v,T){return this._for(new w(v),T)}forRange(v,T,F,ee,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const oe=this._scope.toName(v);return this._for(new P(X,oe,T,F),()=>ee(oe))}forOf(v,T,F,ee=r.varKinds.const){const X=this._scope.toName(v);if(this.opts.es5){const oe=T instanceof e.Name?T:this.var("_arr",T);return this.forRange("_i",0,(0,e._)`${oe}.length`,Ge=>{this.var(X,(0,e._)`${oe}[${Ge}]`),F(X)})}return this._for(new A("of",ee,X,T),()=>F(X))}forIn(v,T,F,ee=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(v,(0,e._)`Object.keys(${T})`,F);const X=this._scope.toName(v);return this._for(new A("in",ee,X,T),()=>F(X))}endFor(){return this._endBlockNode(g)}label(v){return this._leafNode(new u(v))}break(v){return this._leafNode(new c(v))}return(v){const T=new M;if(this._blockNode(T),this.code(v),T.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}try(v,T,F){if(!T&&!F)throw new Error('CodeGen: "try" without "catch" and "finally"');const ee=new L;if(this._blockNode(ee),this.code(v),T){const X=this.name("e");this._currNode=ee.catch=new W(X),T(X)}return F&&(this._currNode=ee.finally=new z,this.code(F)),this._endBlockNode(W,z)}throw(v){return this._leafNode(new d(v))}block(v,T){return this._blockStarts.push(this._nodes.length),v&&this.code(v).endBlock(T),this}endBlock(v){const T=this._blockStarts.pop();if(T===void 0)throw new Error("CodeGen: not in self-balancing block");const F=this._nodes.length-T;if(F<0||v!==void 0&&F!==v)throw new Error(`CodeGen: wrong number of nodes: ${F} vs ${v} expected`);return this._nodes.length=T,this}func(v,T=e.nil,F,ee){return this._blockNode(new S(v,T,F)),ee&&this.code(ee).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(v=1){for(;v-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(v){return this._currNode.nodes.push(v),this}_blockNode(v){this._currNode.nodes.push(v),this._nodes.push(v)}_endBlockNode(v,T){const F=this._currNode;if(F instanceof v||T&&F instanceof T)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${T?`${v.kind}/${T.kind}`:v.kind}"`)}_elseNode(v){const T=this._currNode;if(!(T instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=T.else=v,this}get _root(){return this._nodes[0]}get _currNode(){const v=this._nodes;return v[v.length-1]}set _currNode(v){const T=this._nodes;T[T.length-1]=v}}t.CodeGen=Z;function G(D,v){for(const T in v)D[T]=(D[T]||0)+(v[T]||0);return D}function ae(D,v){return v instanceof e._CodeOrName?G(D,v.names):D}function se(D,v,T){if(D instanceof e.Name)return F(D);if(!ee(D))return D;return new e._Code(D._items.reduce((X,oe)=>(oe instanceof e.Name&&(oe=F(oe)),oe instanceof e._Code?X.push(...oe._items):X.push(oe),X),[]));function F(X){const oe=T[X.str];return oe===void 0||v[X.str]!==1?X:(delete v[X.str],oe)}function ee(X){return X instanceof e._Code&&X._items.some(oe=>oe instanceof e.Name&&v[oe.str]===1&&T[oe.str]!==void 0)}}function ce(D,v){for(const T in v)D[T]=(D[T]||0)-(v[T]||0)}function ye(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,e._)`!${B(D)}`}t.not=ye;const de=I(t.operators.AND);function N(...D){return D.reduce(de)}t.and=N;const E=I(t.operators.OR);function k(...D){return D.reduce(E)}t.or=k;function I(D){return(v,T)=>v===e.nil?T:T===e.nil?v:(0,e._)`${B(v)} ${D} ${B(T)}`}function B(D){return D instanceof e.Name?D:(0,e._)`(${D})`}})(ud);var HM=Pe(ud),KM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:HM},[ud])),Re=O(KM),dd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Re,r=yu;function n(S){const M={};for(const L of S)M[L]=!0;return M}t.toHash=n;function i(S,M){return typeof M=="boolean"?M:Object.keys(M).length===0?!0:(o(S,M),!a(M,S.self.RULES.all))}t.alwaysValidSchema=i;function o(S,M=S.schema){const{opts:L,self:W}=S;if(!L.strictSchema||typeof M=="boolean")return;const z=W.RULES.keywords;for(const Z in M)z[Z]||A(S,`unknown keyword: "${Z}"`)}t.checkUnknownRules=o;function a(S,M){if(typeof S=="boolean")return!S;for(const L in S)if(M[L])return!0;return!1}t.schemaHasRules=a;function s(S,M){if(typeof S=="boolean")return!S;for(const L in S)if(L!=="$ref"&&M.all[L])return!0;return!1}t.schemaHasRulesButRef=s;function l({topSchemaRef:S,schemaPath:M},L,W,z){if(!z){if(typeof L=="number"||typeof L=="boolean")return L;if(typeof L=="string")return(0,e._)`${L}`}return(0,e._)`${S}${M}${(0,e.getProperty)(W)}`}t.schemaRefOrVal=l;function u(S){return h(decodeURIComponent(S))}t.unescapeFragment=u;function c(S){return encodeURIComponent(d(S))}t.escapeFragment=c;function d(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=d;function h(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=h;function p(S,M){if(Array.isArray(S))for(const L of S)M(L);else M(S)}t.eachItem=p;function y({mergeNames:S,mergeToName:M,mergeValues:L,resultToName:W}){return(z,Z,G,ae)=>{const se=G===void 0?Z:G instanceof e.Name?(Z instanceof e.Name?S(z,Z,G):M(z,Z,G),G):Z instanceof e.Name?(M(z,G,Z),Z):L(Z,G);return ae===e.Name&&!(se instanceof e.Name)?W(z,se):se}}t.mergeEvaluated={props:y({mergeNames:(S,M,L)=>S.if((0,e._)`${L} !== true && ${M} !== undefined`,()=>{S.if((0,e._)`${M} === true`,()=>S.assign(L,!0),()=>S.assign(L,(0,e._)`${L} || {}`).code((0,e._)`Object.assign(${L}, ${M})`))}),mergeToName:(S,M,L)=>S.if((0,e._)`${L} !== true`,()=>{M===!0?S.assign(L,!0):(S.assign(L,(0,e._)`${L} || {}`),f(S,L,M))}),mergeValues:(S,M)=>S===!0?!0:ge(ge({},S),M),resultToName:_}),items:y({mergeNames:(S,M,L)=>S.if((0,e._)`${L} !== true && ${M} !== undefined`,()=>S.assign(L,(0,e._)`${M} === true ? true : ${L} > ${M} ? ${L} : ${M}`)),mergeToName:(S,M,L)=>S.if((0,e._)`${L} !== true`,()=>S.assign(L,M===!0?!0:(0,e._)`${L} > ${M} ? ${L} : ${M}`)),mergeValues:(S,M)=>S===!0?!0:Math.max(S,M),resultToName:(S,M)=>S.var("items",M)})};function _(S,M){if(M===!0)return S.var("props",!0);const L=S.var("props",(0,e._)`{}`);return M!==void 0&&f(S,L,M),L}t.evaluatedPropsToName=_;function f(S,M,L){Object.keys(L).forEach(W=>S.assign((0,e._)`${M}${(0,e.getProperty)(W)}`,!0))}t.setEvaluated=f;const m={};function g(S,M){return S.scopeValue("func",{ref:M,code:m[M.code]||(m[M.code]=new r._Code(M.code))})}t.useFunc=g;var w;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(w=t.Type||(t.Type={}));function P(S,M,L){if(S instanceof e.Name){const W=M===w.Num;return L?W?(0,e._)`"[" + ${S} + "]"`:(0,e._)`"['" + ${S} + "']"`:W?(0,e._)`"/" + ${S}`:(0,e._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return L?(0,e.getProperty)(S).toString():"/"+d(S)}t.getErrorPath=P;function A(S,M,L=S.opts.strictSchema){if(!!L){if(M=`strict mode: ${M}`,L===!0)throw new Error(M);S.self.logger.warn(M)}}t.checkStrictMode=A})(dd);var VM=Pe(dd),WM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:VM},[dd])),ze=O(WM),fd={};Object.defineProperty(fd,"__esModule",{value:!0});const kt=Re,GM={data:new kt.Name("data"),valCxt:new kt.Name("valCxt"),instancePath:new kt.Name("instancePath"),parentData:new kt.Name("parentData"),parentDataProperty:new kt.Name("parentDataProperty"),rootData:new kt.Name("rootData"),dynamicAnchors:new kt.Name("dynamicAnchors"),vErrors:new kt.Name("vErrors"),errors:new kt.Name("errors"),this:new kt.Name("this"),self:new kt.Name("self"),scope:new kt.Name("scope"),json:new kt.Name("json"),jsonPos:new kt.Name("jsonPos"),jsonLen:new kt.Name("jsonLen"),jsonPart:new kt.Name("jsonPart")};var XM=fd.default=GM,JM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:XM},[fd])),Tn=O(JM);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Re,r=ze,n=Tn;t.keywordError={message:({keyword:f})=>(0,e.str)`must pass "${f}" keyword validation`},t.keyword$DataError={message:({keyword:f,schemaType:m})=>m?(0,e.str)`"${f}" keyword must be ${m} ($data)`:(0,e.str)`"${f}" keyword is invalid ($data)`};function i(f,m=t.keywordError,g,w){const{it:P}=f,{gen:A,compositeRule:S,allErrors:M}=P,L=d(f,m,g);(w!=null?w:S||M)?l(A,L):u(P,(0,e._)`[${L}]`)}t.reportError=i;function o(f,m=t.keywordError,g){const{it:w}=f,{gen:P,compositeRule:A,allErrors:S}=w,M=d(f,m,g);l(P,M),A||S||u(w,n.default.vErrors)}t.reportExtraError=o;function a(f,m){f.assign(n.default.errors,m),f.if((0,e._)`${n.default.vErrors} !== null`,()=>f.if(m,()=>f.assign((0,e._)`${n.default.vErrors}.length`,m),()=>f.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function s({gen:f,keyword:m,schemaValue:g,data:w,errsCount:P,it:A}){if(P===void 0)throw new Error("ajv implementation error");const S=f.name("err");f.forRange("i",P,n.default.errors,M=>{f.const(S,(0,e._)`${n.default.vErrors}[${M}]`),f.if((0,e._)`${S}.instancePath === undefined`,()=>f.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(n.default.instancePath,A.errorPath))),f.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${m}`),A.opts.verbose&&(f.assign((0,e._)`${S}.schema`,g),f.assign((0,e._)`${S}.data`,w))})}t.extendErrors=s;function l(f,m){const g=f.const("err",m);f.if((0,e._)`${n.default.vErrors} === null`,()=>f.assign(n.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${n.default.vErrors}.push(${g})`),f.code((0,e._)`${n.default.errors}++`)}function u(f,m){const{gen:g,validateName:w,schemaEnv:P}=f;P.$async?g.throw((0,e._)`new ${f.ValidationError}(${m})`):(g.assign((0,e._)`${w}.errors`,m),g.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(f,m,g){const{createErrors:w}=f.it;return w===!1?(0,e._)`{}`:h(f,m,g)}function h(f,m,g={}){const{gen:w,it:P}=f,A=[p(P,g),y(f,g)];return _(f,m,A),w.object(...A)}function p({errorPath:f},{instancePath:m}){const g=m?(0,e.str)`${f}${(0,r.getErrorPath)(m,r.Type.Str)}`:f;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,g)]}function y({keyword:f,it:{errSchemaPath:m}},{schemaPath:g,parentSchema:w}){let P=w?m:(0,e.str)`${m}/${f}`;return g&&(P=(0,e.str)`${P}${(0,r.getErrorPath)(g,r.Type.Str)}`),[c.schemaPath,P]}function _(f,{params:m,message:g},w){const{keyword:P,data:A,schemaValue:S,it:M}=f,{opts:L,propertyName:W,topSchemaRef:z,schemaPath:Z}=M;w.push([c.keyword,P],[c.params,typeof m=="function"?m(f):m||(0,e._)`{}`]),L.messages&&w.push([c.message,typeof g=="function"?g(f):g]),L.verbose&&w.push([c.schema,S],[c.parentSchema,(0,e._)`${z}${Z}`],[n.default.data,A]),W&&w.push([c.propertyName,W])}})(sd);var YM=Pe(sd),QM=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:YM},[sd])),vu=O(QM);Object.defineProperty(ni,"__esModule",{value:!0});var Sy=ni.boolOrEmptySchema=Ey=ni.topBoolOrEmptySchema=void 0;const ZM=vu,ek=Re,tk=Tn,rk={message:"boolean schema is false"};function nk(t){const{gen:e,schema:r,validateName:n}=t;r===!1?Ty(t,!1):typeof r=="object"&&r.$async===!0?e.return(tk.default.data):(e.assign((0,ek._)`${n}.errors`,null),e.return(!0))}var Ey=ni.topBoolOrEmptySchema=nk;function ik(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),Ty(t)):r.var(e,!0)}Sy=ni.boolOrEmptySchema=ik;function Ty(t,e){const{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,ZM.reportError)(i,rk,void 0,e)}var ok=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get boolOrEmptySchema(){return Sy},get topBoolOrEmptySchema(){return Ey},default:ni},[ni])),ak=O(ok),hd={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});var Py=ii.getRules=Oy=ii.isJSONType=void 0;const sk=["string","number","integer","boolean","null","object","array"],uk=new Set(sk);function lk(t){return typeof t=="string"&&uk.has(t)}var Oy=ii.isJSONType=lk;function ck(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ot(ge({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Py=ii.getRules=ck;var dk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getRules(){return Py},get isJSONType(){return Oy},default:ii},[ii])),Cy=O(dk),Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});var My=Yr.shouldUseRule=Ry=Yr.shouldUseGroup=ky=Yr.schemaHasRulesForType=void 0;function fk({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&xy(t,n)}var ky=Yr.schemaHasRulesForType=fk;function xy(t,e){return e.rules.some(r=>Ny(t,r))}var Ry=Yr.shouldUseGroup=xy;function Ny(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}My=Yr.shouldUseRule=Ny;var hk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get shouldUseRule(){return My},get shouldUseGroup(){return Ry},get schemaHasRulesForType(){return ky},default:Yr},[Yr])),Iy=O(hk);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=Cy,r=Iy,n=vu,i=Re,o=ze;var a;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function s(w){const P=l(w.type);if(P.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!P.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&P.push("null")}return P}t.getSchemaTypes=s;function l(w){const P=Array.isArray(w)?w:w?[w]:[];if(P.every(e.isJSONType))return P;throw new Error("type must be JSONType or JSONType[]: "+P.join(","))}t.getJSONTypes=l;function u(w,P){const{gen:A,data:S,opts:M}=w,L=d(P,M.coerceTypes),W=P.length>0&&!(L.length===0&&P.length===1&&(0,r.schemaHasRulesForType)(w,P[0]));if(W){const z=_(P,S,M.strictNumbers,a.Wrong);A.if(z,()=>{L.length?h(w,P,L):m(w)})}return W}t.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function d(w,P){return P?w.filter(A=>c.has(A)||P==="array"&&A==="array"):[]}function h(w,P,A){const{gen:S,data:M,opts:L}=w,W=S.let("dataType",(0,i._)`typeof ${M}`),z=S.let("coerced",(0,i._)`undefined`);L.coerceTypes==="array"&&S.if((0,i._)`${W} == 'object' && Array.isArray(${M}) && ${M}.length == 1`,()=>S.assign(M,(0,i._)`${M}[0]`).assign(W,(0,i._)`typeof ${M}`).if(_(P,M,L.strictNumbers),()=>S.assign(z,M))),S.if((0,i._)`${z} !== undefined`);for(const G of A)(c.has(G)||G==="array"&&L.coerceTypes==="array")&&Z(G);S.else(),m(w),S.endIf(),S.if((0,i._)`${z} !== undefined`,()=>{S.assign(M,z),p(w,z)});function Z(G){switch(G){case"string":S.elseIf((0,i._)`${W} == "number" || ${W} == "boolean"`).assign(z,(0,i._)`"" + ${M}`).elseIf((0,i._)`${M} === null`).assign(z,(0,i._)`""`);return;case"number":S.elseIf((0,i._)`${W} == "boolean" || ${M} === null
              || (${W} == "string" && ${M} && ${M} == +${M})`).assign(z,(0,i._)`+${M}`);return;case"integer":S.elseIf((0,i._)`${W} === "boolean" || ${M} === null
              || (${W} === "string" && ${M} && ${M} == +${M} && !(${M} % 1))`).assign(z,(0,i._)`+${M}`);return;case"boolean":S.elseIf((0,i._)`${M} === "false" || ${M} === 0 || ${M} === null`).assign(z,!1).elseIf((0,i._)`${M} === "true" || ${M} === 1`).assign(z,!0);return;case"null":S.elseIf((0,i._)`${M} === "" || ${M} === 0 || ${M} === false`),S.assign(z,null);return;case"array":S.elseIf((0,i._)`${W} === "string" || ${W} === "number"
              || ${W} === "boolean" || ${M} === null`).assign(z,(0,i._)`[${M}]`)}}}function p({gen:w,parentData:P,parentDataProperty:A},S){w.if((0,i._)`${P} !== undefined`,()=>w.assign((0,i._)`${P}[${A}]`,S))}function y(w,P,A,S=a.Correct){const M=S===a.Correct?i.operators.EQ:i.operators.NEQ;let L;switch(w){case"null":return(0,i._)`${P} ${M} null`;case"array":L=(0,i._)`Array.isArray(${P})`;break;case"object":L=(0,i._)`${P} && typeof ${P} == "object" && !Array.isArray(${P})`;break;case"integer":L=W((0,i._)`!(${P} % 1) && !isNaN(${P})`);break;case"number":L=W();break;default:return(0,i._)`typeof ${P} ${M} ${w}`}return S===a.Correct?L:(0,i.not)(L);function W(z=i.nil){return(0,i.and)((0,i._)`typeof ${P} == "number"`,z,A?(0,i._)`isFinite(${P})`:i.nil)}}t.checkDataType=y;function _(w,P,A,S){if(w.length===1)return y(w[0],P,A,S);let M;const L=(0,o.toHash)(w);if(L.array&&L.object){const W=(0,i._)`typeof ${P} != "object"`;M=L.null?W:(0,i._)`!${P} || ${W}`,delete L.null,delete L.array,delete L.object}else M=i.nil;L.number&&delete L.integer;for(const W in L)M=(0,i.and)(M,y(W,P,A,S));return M}t.checkDataTypes=_;const f={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:P})=>typeof w=="string"?(0,i._)`{type: ${w}}`:(0,i._)`{type: ${P}}`};function m(w){const P=g(w);(0,n.reportError)(P,f)}t.reportTypeError=m;function g(w){const{gen:P,data:A,schema:S}=w,M=(0,o.schemaRefOrVal)(w,S,"type");return{gen:P,keyword:"type",data:A,schema:S.type,schemaCode:M,schemaValue:M,parentSchema:S,params:{},it:w}}})(hd);var pk=Pe(hd),mk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pk},[hd])),gu=O(mk),Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});var jy=Ko.assignDefaults=void 0;const Ki=Re,_k=ze;function yk(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const i in r)Ay(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,o)=>Ay(t,o,i.default))}jy=Ko.assignDefaults=yk;function Ay(t,e,r){const{gen:n,compositeRule:i,data:o,opts:a}=t;if(r===void 0)return;const s=(0,Ki._)`${o}${(0,Ki.getProperty)(e)}`;if(i){(0,_k.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,Ki._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,Ki._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,Ki._)`${s} = ${(0,Ki.stringify)(r)}`)}var vk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get assignDefaults(){return jy},default:Ko},[Ko])),gk=O(vk),dr={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});var Fy=Be.validateUnion=Yy=Be.validateArray=Jy=Be.usePattern=Xy=Be.callValidateCode=Gy=Be.schemaProperties=Wy=Be.allSchemaProperties=Ky=Be.noPropertyInData=Hy=Be.propertyInData=By=Be.isOwnProperty=Uy=Be.hasPropFunc=zy=Be.reportMissingProp=Dy=Be.checkMissingProp=Ly=Be.checkReportMissingProp=void 0;const rt=Re,pd=ze,Pn=Tn;function bk(t,e){const{gen:r,data:n,it:i}=t;r.if(_d(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,rt._)`${e}`},!0),t.error()})}var Ly=Be.checkReportMissingProp=bk;function $k({gen:t,data:e,it:{opts:r}},n,i){return(0,rt.or)(...n.map(o=>(0,rt.and)(_d(t,e,o,r.ownProperties),(0,rt._)`${i} = ${o}`)))}var Dy=Be.checkMissingProp=$k;function wk(t,e){t.setParams({missingProperty:e},!0),t.error()}var zy=Be.reportMissingProp=wk;function qy(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,rt._)`Object.prototype.hasOwnProperty`})}var Uy=Be.hasPropFunc=qy;function md(t,e,r){return(0,rt._)`${qy(t)}.call(${e}, ${r})`}var By=Be.isOwnProperty=md;function Sk(t,e,r,n){const i=(0,rt._)`${e}${(0,rt.getProperty)(r)} !== undefined`;return n?(0,rt._)`${i} && ${md(t,e,r)}`:i}var Hy=Be.propertyInData=Sk;function _d(t,e,r,n){const i=(0,rt._)`${e}${(0,rt.getProperty)(r)} === undefined`;return n?(0,rt.or)(i,(0,rt.not)(md(t,e,r))):i}var Ky=Be.noPropertyInData=_d;function Vy(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}var Wy=Be.allSchemaProperties=Vy;function Ek(t,e){return Vy(e).filter(r=>!(0,pd.alwaysValidSchema)(t,e[r]))}var Gy=Be.schemaProperties=Ek;function Tk({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:a},s,l,u){const c=u?(0,rt._)`${t}, ${e}, ${n}${i}`:e,d=[[Pn.default.instancePath,(0,rt.strConcat)(Pn.default.instancePath,o)],[Pn.default.parentData,a.parentData],[Pn.default.parentDataProperty,a.parentDataProperty],[Pn.default.rootData,Pn.default.rootData]];a.opts.dynamicRef&&d.push([Pn.default.dynamicAnchors,Pn.default.dynamicAnchors]);const h=(0,rt._)`${c}, ${r.object(...d)}`;return l!==rt.nil?(0,rt._)`${s}.call(${l}, ${h})`:(0,rt._)`${s}(${h})`}var Xy=Be.callValidateCode=Tk;function Pk({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:(0,rt._)`new RegExp(${r}, ${n})`})}var Jy=Be.usePattern=Pk;function Ok(t){const{gen:e,data:r,keyword:n,it:i}=t,o=e.name("valid");if(i.allErrors){const s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){const l=e.const("len",(0,rt._)`${r}.length`);e.forRange("i",0,l,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:pd.Type.Num},o),e.if((0,rt.not)(o),s)})}}var Yy=Be.validateArray=Ok;function Ck(t){const{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,pd.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=e.let("valid",!1),s=e.name("_valid");e.block(()=>r.forEach((l,u)=>{const c=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},s);e.assign(a,(0,rt._)`${a} || ${s}`),t.mergeValidEvaluated(c,s)||e.if((0,rt.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Fy=Be.validateUnion=Ck;var Mk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateUnion(){return Fy},get validateArray(){return Yy},get usePattern(){return Jy},get callValidateCode(){return Xy},get schemaProperties(){return Gy},get allSchemaProperties(){return Wy},get noPropertyInData(){return Ky},get propertyInData(){return Hy},get isOwnProperty(){return By},get hasPropFunc(){return Uy},get reportMissingProp(){return zy},get checkMissingProp(){return Dy},get checkReportMissingProp(){return Ly},default:Be},[Be])),fr=O(Mk);Object.defineProperty(dr,"__esModule",{value:!0});var Qy=dr.validateKeywordUsage=nv=dr.validSchemaType=ev=dr.funcKeywordCode=Zy=dr.macroKeywordCode=void 0;const Lt=Re,oi=Tn,kk=fr,xk=vu;function Rk(t,e){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=t,s=e.macro.call(a.self,i,o,a),l=rv(r,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const u=r.name("valid");t.subschema({schema:s,schemaPath:Lt.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}var Zy=dr.macroKeywordCode=Rk;function Nk(t,e){var r;const{gen:n,keyword:i,schema:o,parentSchema:a,$data:s,it:l}=t;jk(l,e);const u=!s&&e.compile?e.compile.call(l.self,o,a,l):e.validate,c=rv(n,i,u),d=n.let("valid");t.block$data(d,h),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function h(){if(e.errors===!1)_(),e.modifying&&tv(t),f(()=>t.error());else{const m=e.async?p():y();e.modifying&&tv(t),f(()=>Ik(t,m))}}function p(){const m=n.let("ruleErrs",null);return n.try(()=>_((0,Lt._)`await `),g=>n.assign(d,!1).if((0,Lt._)`${g} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,Lt._)`${g}.errors`),()=>n.throw(g))),m}function y(){const m=(0,Lt._)`${c}.errors`;return n.assign(m,null),_(Lt.nil),m}function _(m=e.async?(0,Lt._)`await `:Lt.nil){const g=l.opts.passContext?oi.default.this:oi.default.self,w=!("compile"in e&&!s||e.schema===!1);n.assign(d,(0,Lt._)`${m}${(0,kk.callValidateCode)(t,c,g,w)}`,e.modifying)}function f(m){var g;n.if((0,Lt.not)((g=e.valid)!==null&&g!==void 0?g:d),m)}}var ev=dr.funcKeywordCode=Nk;function tv(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Lt._)`${n.parentData}[${n.parentDataProperty}]`))}function Ik(t,e){const{gen:r}=t;r.if((0,Lt._)`Array.isArray(${e})`,()=>{r.assign(oi.default.vErrors,(0,Lt._)`${oi.default.vErrors} === null ? ${e} : ${oi.default.vErrors}.concat(${e})`).assign(oi.default.errors,(0,Lt._)`${oi.default.vErrors}.length`),(0,xk.extendErrors)(t)},()=>t.error())}function jk({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function rv(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Lt.stringify)(r)})}function Ak(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}var nv=dr.validSchemaType=Ak;function Fk({schema:t,opts:e,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(a==null?void 0:a.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Qy=dr.validateKeywordUsage=Fk;var Lk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateKeywordUsage(){return Qy},get validSchemaType(){return nv},get funcKeywordCode(){return ev},get macroKeywordCode(){return Zy},default:dr},[dr])),Dk=O(Lk),Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});var iv=Qr.extendSubschemaMode=sv=Qr.extendSubschemaData=av=Qr.getSubschema=void 0;const Dr=Re,ov=ze;function zk(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const s=t.schema[e];return r===void 0?{schema:s,schemaPath:(0,Dr._)`${t.schemaPath}${(0,Dr.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:s[r],schemaPath:(0,Dr._)`${t.schemaPath}${(0,Dr.getProperty)(e)}${(0,Dr.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,ov.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}var av=Qr.getSubschema=zk;function qk(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:a}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=e;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:d}=e,h=s.let("data",(0,Dr._)`${e.data}${(0,Dr.getProperty)(r)}`,!0);l(h),t.errorPath=(0,Dr.str)`${u}${(0,ov.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Dr._)`${r}`,t.dataPathArr=[...c,t.parentDataProperty]}if(i!==void 0){const u=i instanceof Dr.Name?i:s.let("data",i,!0);l(u),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}var sv=Qr.extendSubschemaData=qk;function Uk(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}iv=Qr.extendSubschemaMode=Uk;var Bk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get extendSubschemaMode(){return iv},get extendSubschemaData(){return sv},get getSubschema(){return av},default:Qr},[Qr])),Hk=O(Bk),Dt={},uv=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!=0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!=0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!=0;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},Kk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:uv},[uv])),bu=O(Kk),yd={exports:{}},On=yd.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};$u(e,n,i,t,"",t)};On.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};On.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};On.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};On.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function $u(t,e,r,n,i,o,a,s,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,o,a,s,l,u);for(var c in n){var d=n[c];if(Array.isArray(d)){if(c in On.arrayKeywords)for(var h=0;h<d.length;h++)$u(t,e,r,d[h],i+"/"+c+"/"+h,o,i,c,n,h)}else if(c in On.propsKeywords){if(d&&typeof d=="object")for(var p in d)$u(t,e,r,d[p],i+"/"+c+"/"+Vk(p),o,i,c,n,p)}else(c in On.keywords||t.allKeys&&!(c in On.skipKeywords))&&$u(t,e,r,d,i+"/"+c,o,i,c,n)}r(n,i,o,a,s,l,u)}}function Vk(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Wk=yd.exports,Gk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Wk},[yd.exports])),Xk=O(Gk),wu={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(K,function(r){function n(){for(var q=arguments.length,R=Array(q),U=0;U<q;U++)R[U]=arguments[U];if(R.length>1){R[0]=R[0].slice(0,-1);for(var Q=R.length-1,Y=1;Y<Q;++Y)R[Y]=R[Y].slice(1,-1);return R[Q]=R[Q].slice(1),R.join("")}else return R[0]}function i(q){return"(?:"+q+")"}function o(q){return q===void 0?"undefined":q===null?"null":Object.prototype.toString.call(q).split(" ").pop().split("]").shift().toLowerCase()}function a(q){return q.toUpperCase()}function s(q){return q!=null?q instanceof Array?q:typeof q.length!="number"||q.split||q.setInterval||q.call?[q]:Array.prototype.slice.call(q):[]}function l(q,R){var U=q;if(R)for(var Q in R)U[Q]=R[Q];return U}function u(q){var R="[A-Za-z]",U="[0-9]",Q=n(U,"[A-Fa-f]"),Y=i(i("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+i("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+i("%"+Q+Q)),pe="[\\:\\/\\?\\#\\[\\]\\@]",_e="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",je=n(pe,_e),Qe=q?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",dt=q?"[\\uE000-\\uF8FF]":"[]",Ne=n(R,U,"[\\-\\.\\_\\~]",Qe);i(R+n(R,U,"[\\+\\-\\.]")+"*"),i(i(Y+"|"+n(Ne,_e,"[\\:]"))+"*");var Xe=i(i("25[0-5]")+"|"+i("2[0-4]"+U)+"|"+i("1"+U+U)+"|"+i("0?[1-9]"+U)+"|0?0?"+U),ft=i(Xe+"\\."+Xe+"\\."+Xe+"\\."+Xe),Se=i(Q+"{1,4}"),et=i(i(Se+"\\:"+Se)+"|"+ft),yt=i(i(Se+"\\:")+"{6}"+et),tt=i("\\:\\:"+i(Se+"\\:")+"{5}"+et),bn=i(i(Se)+"?\\:\\:"+i(Se+"\\:")+"{4}"+et),jr=i(i(i(Se+"\\:")+"{0,1}"+Se)+"?\\:\\:"+i(Se+"\\:")+"{3}"+et),Ar=i(i(i(Se+"\\:")+"{0,2}"+Se)+"?\\:\\:"+i(Se+"\\:")+"{2}"+et),zi=i(i(i(Se+"\\:")+"{0,3}"+Se)+"?\\:\\:"+Se+"\\:"+et),Jn=i(i(i(Se+"\\:")+"{0,4}"+Se)+"?\\:\\:"+et),ir=i(i(i(Se+"\\:")+"{0,5}"+Se)+"?\\:\\:"+Se),Fr=i(i(i(Se+"\\:")+"{0,6}"+Se)+"?\\:\\:"),Yn=i([yt,tt,bn,jr,Ar,zi,Jn,ir,Fr].join("|")),Xr=i(i(Ne+"|"+Y)+"+");i("[vV]"+Q+"+\\."+n(Ne,_e,"[\\:]")+"+"),i(i(Y+"|"+n(Ne,_e))+"*");var qo=i(Y+"|"+n(Ne,_e,"[\\:\\@]"));return i(i(Y+"|"+n(Ne,_e,"[\\@]"))+"+"),i(i(qo+"|"+n("[\\/\\?]",dt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",R,U,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Ne,_e),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Ne,_e),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Ne,_e),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Ne,_e),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Ne,_e,"[\\:\\@\\/\\?]",dt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Ne,_e,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Ne,_e),"g"),UNRESERVED:new RegExp(Ne,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Ne,je),"g"),PCT_ENCODED:new RegExp(Y,"g"),IPV4ADDRESS:new RegExp("^("+ft+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yn+")"+i(i("\\%25|\\%(?!"+Q+"{2})")+"("+Xr+")")+"?\\]?$")}}var c=u(!1),d=u(!0),h=function(){function q(R,U){var Q=[],Y=!0,pe=!1,_e=void 0;try{for(var je=R[Symbol.iterator](),Qe;!(Y=(Qe=je.next()).done)&&(Q.push(Qe.value),!(U&&Q.length===U));Y=!0);}catch(dt){pe=!0,_e=dt}finally{try{!Y&&je.return&&je.return()}finally{if(pe)throw _e}}return Q}return function(R,U){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return q(R,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(q){if(Array.isArray(q)){for(var R=0,U=Array(q.length);R<q.length;R++)U[R]=q[R];return U}else return Array.from(q)},y=2147483647,_=36,f=1,m=26,g=38,w=700,P=72,A=128,S="-",M=/^xn--/,L=/[^\0-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=_-f,G=Math.floor,ae=String.fromCharCode;function se(q){throw new RangeError(z[q])}function ce(q,R){for(var U=[],Q=q.length;Q--;)U[Q]=R(q[Q]);return U}function ye(q,R){var U=q.split("@"),Q="";U.length>1&&(Q=U[0]+"@",q=U[1]),q=q.replace(W,".");var Y=q.split("."),pe=ce(Y,R).join(".");return Q+pe}function de(q){for(var R=[],U=0,Q=q.length;U<Q;){var Y=q.charCodeAt(U++);if(Y>=55296&&Y<=56319&&U<Q){var pe=q.charCodeAt(U++);(pe&64512)==56320?R.push(((Y&1023)<<10)+(pe&1023)+65536):(R.push(Y),U--)}else R.push(Y)}return R}var N=function(R){return String.fromCodePoint.apply(String,p(R))},E=function(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:_},k=function(R,U){return R+22+75*(R<26)-((U!=0)<<5)},I=function(R,U,Q){var Y=0;for(R=Q?G(R/w):R>>1,R+=G(R/U);R>Z*m>>1;Y+=_)R=G(R/Z);return G(Y+(Z+1)*R/(R+g))},B=function(R){var U=[],Q=R.length,Y=0,pe=A,_e=P,je=R.lastIndexOf(S);je<0&&(je=0);for(var Qe=0;Qe<je;++Qe)R.charCodeAt(Qe)>=128&&se("not-basic"),U.push(R.charCodeAt(Qe));for(var dt=je>0?je+1:0;dt<Q;){for(var Ne=Y,Xe=1,ft=_;;ft+=_){dt>=Q&&se("invalid-input");var Se=E(R.charCodeAt(dt++));(Se>=_||Se>G((y-Y)/Xe))&&se("overflow"),Y+=Se*Xe;var et=ft<=_e?f:ft>=_e+m?m:ft-_e;if(Se<et)break;var yt=_-et;Xe>G(y/yt)&&se("overflow"),Xe*=yt}var tt=U.length+1;_e=I(Y-Ne,tt,Ne==0),G(Y/tt)>y-pe&&se("overflow"),pe+=G(Y/tt),Y%=tt,U.splice(Y++,0,pe)}return String.fromCodePoint.apply(String,U)},D=function(R){var U=[];R=de(R);var Q=R.length,Y=A,pe=0,_e=P,je=!0,Qe=!1,dt=void 0;try{for(var Ne=R[Symbol.iterator](),Xe;!(je=(Xe=Ne.next()).done);je=!0){var ft=Xe.value;ft<128&&U.push(ae(ft))}}catch(Uo){Qe=!0,dt=Uo}finally{try{!je&&Ne.return&&Ne.return()}finally{if(Qe)throw dt}}var Se=U.length,et=Se;for(Se&&U.push(S);et<Q;){var yt=y,tt=!0,bn=!1,jr=void 0;try{for(var Ar=R[Symbol.iterator](),zi;!(tt=(zi=Ar.next()).done);tt=!0){var Jn=zi.value;Jn>=Y&&Jn<yt&&(yt=Jn)}}catch(Uo){bn=!0,jr=Uo}finally{try{!tt&&Ar.return&&Ar.return()}finally{if(bn)throw jr}}var ir=et+1;yt-Y>G((y-pe)/ir)&&se("overflow"),pe+=(yt-Y)*ir,Y=yt;var Fr=!0,Yn=!1,Xr=void 0;try{for(var qo=R[Symbol.iterator](),l_;!(Fr=(l_=qo.next()).done);Fr=!0){var c_=l_.value;if(c_<Y&&++pe>y&&se("overflow"),c_==Y){for(var Ys=pe,Qs=_;;Qs+=_){var Zs=Qs<=_e?f:Qs>=_e+m?m:Qs-_e;if(Ys<Zs)break;var d_=Ys-Zs,f_=_-Zs;U.push(ae(k(Zs+d_%f_,0))),Ys=G(d_/f_)}U.push(ae(k(Ys,0))),_e=I(pe,ir,et==Se),pe=0,++et}}}catch(Uo){Yn=!0,Xr=Uo}finally{try{!Fr&&qo.return&&qo.return()}finally{if(Yn)throw Xr}}++pe,++Y}return U.join("")},v=function(R){return ye(R,function(U){return M.test(U)?B(U.slice(4).toLowerCase()):U})},T=function(R){return ye(R,function(U){return L.test(U)?"xn--"+D(U):U})},F={version:"2.1.0",ucs2:{decode:de,encode:N},decode:B,encode:D,toASCII:T,toUnicode:v},ee={};function X(q){var R=q.charCodeAt(0),U=void 0;return R<16?U="%0"+R.toString(16).toUpperCase():R<128?U="%"+R.toString(16).toUpperCase():R<2048?U="%"+(R>>6|192).toString(16).toUpperCase()+"%"+(R&63|128).toString(16).toUpperCase():U="%"+(R>>12|224).toString(16).toUpperCase()+"%"+(R>>6&63|128).toString(16).toUpperCase()+"%"+(R&63|128).toString(16).toUpperCase(),U}function oe(q){for(var R="",U=0,Q=q.length;U<Q;){var Y=parseInt(q.substr(U+1,2),16);if(Y<128)R+=String.fromCharCode(Y),U+=3;else if(Y>=194&&Y<224){if(Q-U>=6){var pe=parseInt(q.substr(U+4,2),16);R+=String.fromCharCode((Y&31)<<6|pe&63)}else R+=q.substr(U,6);U+=6}else if(Y>=224){if(Q-U>=9){var _e=parseInt(q.substr(U+4,2),16),je=parseInt(q.substr(U+7,2),16);R+=String.fromCharCode((Y&15)<<12|(_e&63)<<6|je&63)}else R+=q.substr(U,9);U+=9}else R+=q.substr(U,3),U+=3}return R}function Ge(q,R){function U(Q){var Y=oe(Q);return Y.match(R.UNRESERVED)?Y:Q}return q.scheme&&(q.scheme=String(q.scheme).replace(R.PCT_ENCODED,U).toLowerCase().replace(R.NOT_SCHEME,"")),q.userinfo!==void 0&&(q.userinfo=String(q.userinfo).replace(R.PCT_ENCODED,U).replace(R.NOT_USERINFO,X).replace(R.PCT_ENCODED,a)),q.host!==void 0&&(q.host=String(q.host).replace(R.PCT_ENCODED,U).toLowerCase().replace(R.NOT_HOST,X).replace(R.PCT_ENCODED,a)),q.path!==void 0&&(q.path=String(q.path).replace(R.PCT_ENCODED,U).replace(q.scheme?R.NOT_PATH:R.NOT_PATH_NOSCHEME,X).replace(R.PCT_ENCODED,a)),q.query!==void 0&&(q.query=String(q.query).replace(R.PCT_ENCODED,U).replace(R.NOT_QUERY,X).replace(R.PCT_ENCODED,a)),q.fragment!==void 0&&(q.fragment=String(q.fragment).replace(R.PCT_ENCODED,U).replace(R.NOT_FRAGMENT,X).replace(R.PCT_ENCODED,a)),q}function ct(q){return q.replace(/^0*(.*)/,"$1")||"0"}function gt(q,R){var U=q.match(R.IPV4ADDRESS)||[],Q=h(U,2),Y=Q[1];return Y?Y.split(".").map(ct).join("."):q}function it(q,R){var U=q.match(R.IPV6ADDRESS)||[],Q=h(U,3),Y=Q[1],pe=Q[2];if(Y){for(var _e=Y.toLowerCase().split("::").reverse(),je=h(_e,2),Qe=je[0],dt=je[1],Ne=dt?dt.split(":").map(ct):[],Xe=Qe.split(":").map(ct),ft=R.IPV4ADDRESS.test(Xe[Xe.length-1]),Se=ft?7:8,et=Xe.length-Se,yt=Array(Se),tt=0;tt<Se;++tt)yt[tt]=Ne[tt]||Xe[et+tt]||"";ft&&(yt[Se-1]=gt(yt[Se-1],R));var bn=yt.reduce(function(ir,Fr,Yn){if(!Fr||Fr==="0"){var Xr=ir[ir.length-1];Xr&&Xr.index+Xr.length===Yn?Xr.length++:ir.push({index:Yn,length:1})}return ir},[]),jr=bn.sort(function(ir,Fr){return Fr.length-ir.length})[0],Ar=void 0;if(jr&&jr.length>1){var zi=yt.slice(0,jr.index),Jn=yt.slice(jr.index+jr.length);Ar=zi.join(":")+"::"+Jn.join(":")}else Ar=yt.join(":");return pe&&(Ar+="%"+pe),Ar}else return q}var Mt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Xt="".match(/(){0}/)[1]===void 0;function x(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U={},Q=R.iri!==!1?d:c;R.reference==="suffix"&&(q=(R.scheme?R.scheme+":":"")+"//"+q);var Y=q.match(Mt);if(Y){Xt?(U.scheme=Y[1],U.userinfo=Y[3],U.host=Y[4],U.port=parseInt(Y[5],10),U.path=Y[6]||"",U.query=Y[7],U.fragment=Y[8],isNaN(U.port)&&(U.port=Y[5])):(U.scheme=Y[1]||void 0,U.userinfo=q.indexOf("@")!==-1?Y[3]:void 0,U.host=q.indexOf("//")!==-1?Y[4]:void 0,U.port=parseInt(Y[5],10),U.path=Y[6]||"",U.query=q.indexOf("?")!==-1?Y[7]:void 0,U.fragment=q.indexOf("#")!==-1?Y[8]:void 0,isNaN(U.port)&&(U.port=q.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Y[4]:void 0)),U.host&&(U.host=it(gt(U.host,Q),Q)),U.scheme===void 0&&U.userinfo===void 0&&U.host===void 0&&U.port===void 0&&!U.path&&U.query===void 0?U.reference="same-document":U.scheme===void 0?U.reference="relative":U.fragment===void 0?U.reference="absolute":U.reference="uri",R.reference&&R.reference!=="suffix"&&R.reference!==U.reference&&(U.error=U.error||"URI is not a "+R.reference+" reference.");var pe=ee[(R.scheme||U.scheme||"").toLowerCase()];if(!R.unicodeSupport&&(!pe||!pe.unicodeSupport)){if(U.host&&(R.domainHost||pe&&pe.domainHost))try{U.host=F.toASCII(U.host.replace(Q.PCT_ENCODED,oe).toLowerCase())}catch(_e){U.error=U.error||"Host's domain name can not be converted to ASCII via punycode: "+_e}Ge(U,c)}else Ge(U,Q);pe&&pe.parse&&pe.parse(U,R)}else U.error=U.error||"URI can not be parsed.";return U}function b(q,R){var U=R.iri!==!1?d:c,Q=[];return q.userinfo!==void 0&&(Q.push(q.userinfo),Q.push("@")),q.host!==void 0&&Q.push(it(gt(String(q.host),U),U).replace(U.IPV6ADDRESS,function(Y,pe,_e){return"["+pe+(_e?"%25"+_e:"")+"]"})),(typeof q.port=="number"||typeof q.port=="string")&&(Q.push(":"),Q.push(String(q.port))),Q.length?Q.join(""):void 0}var $=/^\.\.?\//,j=/^\/\.(\/|$)/,V=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function ne(q){for(var R=[];q.length;)if(q.match($))q=q.replace($,"");else if(q.match(j))q=q.replace(j,"/");else if(q.match(V))q=q.replace(V,"/"),R.pop();else if(q==="."||q==="..")q="";else{var U=q.match(te);if(U){var Q=U[0];q=q.slice(Q.length),R.push(Q)}else throw new Error("Unexpected dot segment condition")}return R.join("")}function me(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=R.iri?d:c,Q=[],Y=ee[(R.scheme||q.scheme||"").toLowerCase()];if(Y&&Y.serialize&&Y.serialize(q,R),q.host&&!U.IPV6ADDRESS.test(q.host)){if(R.domainHost||Y&&Y.domainHost)try{q.host=R.iri?F.toUnicode(q.host):F.toASCII(q.host.replace(U.PCT_ENCODED,oe).toLowerCase())}catch(je){q.error=q.error||"Host's domain name can not be converted to "+(R.iri?"Unicode":"ASCII")+" via punycode: "+je}}Ge(q,U),R.reference!=="suffix"&&q.scheme&&(Q.push(q.scheme),Q.push(":"));var pe=b(q,R);if(pe!==void 0&&(R.reference!=="suffix"&&Q.push("//"),Q.push(pe),q.path&&q.path.charAt(0)!=="/"&&Q.push("/")),q.path!==void 0){var _e=q.path;!R.absolutePath&&(!Y||!Y.absolutePath)&&(_e=ne(_e)),pe===void 0&&(_e=_e.replace(/^\/\//,"/%2F")),Q.push(_e)}return q.query!==void 0&&(Q.push("?"),Q.push(q.query)),q.fragment!==void 0&&(Q.push("#"),Q.push(q.fragment)),Q.join("")}function H(q,R){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=arguments[3],Y={};return Q||(q=x(me(q,U),U),R=x(me(R,U),U)),U=U||{},!U.tolerant&&R.scheme?(Y.scheme=R.scheme,Y.userinfo=R.userinfo,Y.host=R.host,Y.port=R.port,Y.path=ne(R.path||""),Y.query=R.query):(R.userinfo!==void 0||R.host!==void 0||R.port!==void 0?(Y.userinfo=R.userinfo,Y.host=R.host,Y.port=R.port,Y.path=ne(R.path||""),Y.query=R.query):(R.path?(R.path.charAt(0)==="/"?Y.path=ne(R.path):((q.userinfo!==void 0||q.host!==void 0||q.port!==void 0)&&!q.path?Y.path="/"+R.path:q.path?Y.path=q.path.slice(0,q.path.lastIndexOf("/")+1)+R.path:Y.path=R.path,Y.path=ne(Y.path)),Y.query=R.query):(Y.path=q.path,R.query!==void 0?Y.query=R.query:Y.query=q.query),Y.userinfo=q.userinfo,Y.host=q.host,Y.port=q.port),Y.scheme=q.scheme),Y.fragment=R.fragment,Y}function J(q,R,U){var Q=l({scheme:"null"},U);return me(H(x(q,Q),x(R,Q),Q,!0),Q)}function re(q,R){return typeof q=="string"?q=me(x(q,R),R):o(q)==="object"&&(q=x(me(q,R),R)),q}function ie(q,R,U){return typeof q=="string"?q=me(x(q,U),U):o(q)==="object"&&(q=me(q,U)),typeof R=="string"?R=me(x(R,U),U):o(R)==="object"&&(R=me(R,U)),q===R}function le(q,R){return q&&q.toString().replace(!R||!R.iri?c.ESCAPE:d.ESCAPE,X)}function Le(q,R){return q&&q.toString().replace(!R||!R.iri?c.PCT_ENCODED:d.PCT_ENCODED,oe)}var be={scheme:"http",domainHost:!0,parse:function(R,U){return R.host||(R.error=R.error||"HTTP URIs must have a host."),R},serialize:function(R,U){var Q=String(R.scheme).toLowerCase()==="https";return(R.port===(Q?443:80)||R.port==="")&&(R.port=void 0),R.path||(R.path="/"),R}},Te={scheme:"https",domainHost:be.domainHost,parse:be.parse,serialize:be.serialize};function ve(q){return typeof q.secure=="boolean"?q.secure:String(q.scheme).toLowerCase()==="wss"}var Me={scheme:"ws",domainHost:!0,parse:function(R,U){var Q=R;return Q.secure=ve(Q),Q.resourceName=(Q.path||"/")+(Q.query?"?"+Q.query:""),Q.path=void 0,Q.query=void 0,Q},serialize:function(R,U){if((R.port===(ve(R)?443:80)||R.port==="")&&(R.port=void 0),typeof R.secure=="boolean"&&(R.scheme=R.secure?"wss":"ws",R.secure=void 0),R.resourceName){var Q=R.resourceName.split("?"),Y=h(Q,2),pe=Y[0],_e=Y[1];R.path=pe&&pe!=="/"?pe:void 0,R.query=_e,R.resourceName=void 0}return R.fragment=void 0,R}},Ie={scheme:"wss",domainHost:Me.domainHost,parse:Me.parse,serialize:Me.serialize},Nr={},zo="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ir="[0-9A-Fa-f]",fO=i(i("%[EFef]"+Ir+"%"+Ir+Ir+"%"+Ir+Ir)+"|"+i("%[89A-Fa-f]"+Ir+"%"+Ir+Ir)+"|"+i("%"+Ir+Ir)),hO="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",pO="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",mO=n(pO,'[\\"\\\\]'),_O="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",yO=new RegExp(zo,"g"),Di=new RegExp(fO,"g"),vO=new RegExp(n("[^]",hO,"[\\.]",'[\\"]',mO),"g"),o_=new RegExp(n("[^]",zo,_O),"g"),gO=o_;function Wc(q){var R=oe(q);return R.match(yO)?R:q}var a_={scheme:"mailto",parse:function(R,U){var Q=R,Y=Q.to=Q.path?Q.path.split(","):[];if(Q.path=void 0,Q.query){for(var pe=!1,_e={},je=Q.query.split("&"),Qe=0,dt=je.length;Qe<dt;++Qe){var Ne=je[Qe].split("=");switch(Ne[0]){case"to":for(var Xe=Ne[1].split(","),ft=0,Se=Xe.length;ft<Se;++ft)Y.push(Xe[ft]);break;case"subject":Q.subject=Le(Ne[1],U);break;case"body":Q.body=Le(Ne[1],U);break;default:pe=!0,_e[Le(Ne[0],U)]=Le(Ne[1],U);break}}pe&&(Q.headers=_e)}Q.query=void 0;for(var et=0,yt=Y.length;et<yt;++et){var tt=Y[et].split("@");if(tt[0]=Le(tt[0]),U.unicodeSupport)tt[1]=Le(tt[1],U).toLowerCase();else try{tt[1]=F.toASCII(Le(tt[1],U).toLowerCase())}catch(bn){Q.error=Q.error||"Email address's domain name can not be converted to ASCII via punycode: "+bn}Y[et]=tt.join("@")}return Q},serialize:function(R,U){var Q=R,Y=s(R.to);if(Y){for(var pe=0,_e=Y.length;pe<_e;++pe){var je=String(Y[pe]),Qe=je.lastIndexOf("@"),dt=je.slice(0,Qe).replace(Di,Wc).replace(Di,a).replace(vO,X),Ne=je.slice(Qe+1);try{Ne=U.iri?F.toUnicode(Ne):F.toASCII(Le(Ne,U).toLowerCase())}catch(et){Q.error=Q.error||"Email address's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+et}Y[pe]=dt+"@"+Ne}Q.path=Y.join(",")}var Xe=R.headers=R.headers||{};R.subject&&(Xe.subject=R.subject),R.body&&(Xe.body=R.body);var ft=[];for(var Se in Xe)Xe[Se]!==Nr[Se]&&ft.push(Se.replace(Di,Wc).replace(Di,a).replace(o_,X)+"="+Xe[Se].replace(Di,Wc).replace(Di,a).replace(gO,X));return ft.length&&(Q.query=ft.join("&")),Q}},bO=/^([^\:]+)\:(.*)/,s_={scheme:"urn",parse:function(R,U){var Q=R.path&&R.path.match(bO),Y=R;if(Q){var pe=U.scheme||Y.scheme||"urn",_e=Q[1].toLowerCase(),je=Q[2],Qe=pe+":"+(U.nid||_e),dt=ee[Qe];Y.nid=_e,Y.nss=je,Y.path=void 0,dt&&(Y=dt.parse(Y,U))}else Y.error=Y.error||"URN can not be parsed.";return Y},serialize:function(R,U){var Q=U.scheme||R.scheme||"urn",Y=R.nid,pe=Q+":"+(U.nid||Y),_e=ee[pe];_e&&(R=_e.serialize(R,U));var je=R,Qe=R.nss;return je.path=(Y||U.nid)+":"+Qe,je}},$O=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,u_={scheme:"urn:uuid",parse:function(R,U){var Q=R;return Q.uuid=Q.nss,Q.nss=void 0,!U.tolerant&&(!Q.uuid||!Q.uuid.match($O))&&(Q.error=Q.error||"UUID is not valid."),Q},serialize:function(R,U){var Q=R;return Q.nss=(R.uuid||"").toLowerCase(),Q}};ee[be.scheme]=be,ee[Te.scheme]=Te,ee[Me.scheme]=Me,ee[Ie.scheme]=Ie,ee[a_.scheme]=a_,ee[s_.scheme]=s_,ee[u_.scheme]=u_,r.SCHEMES=ee,r.pctEncChar=X,r.pctDecChars=oe,r.parse=x,r.removeDotSegments=ne,r.serialize=me,r.resolveComponents=H,r.resolve=J,r.normalize=re,r.equal=ie,r.escapeComponent=le,r.unescapeComponent=Le,Object.defineProperty(r,"__esModule",{value:!0})})})(wu,wu.exports);var Jk=Pe(wu.exports),Yk=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Jk},[wu.exports])),Su=O(Yk);Object.defineProperty(Dt,"__esModule",{value:!0});var lv=Dt.getSchemaRefs=yv=Dt.resolveUrl=_v=Dt.normalizeId=mv=Dt._getFullPath=hv=Dt.getFullPath=cv=Dt.inlineRef=void 0;const Qk=ze,Zk=bu,ex=Xk,Eu=Su,tx=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function rx(t,e=!0){return typeof t=="boolean"?!0:e===!0?!vd(t):e?dv(t)<=e:!1}var cv=Dt.inlineRef=rx;const nx=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function vd(t){for(const e in t){if(nx.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(vd)||typeof r=="object"&&vd(r))return!0}return!1}function dv(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!tx.has(r)&&(typeof t[r]=="object"&&(0,Qk.eachItem)(t[r],n=>e+=dv(n)),e===1/0))return 1/0}return e}function fv(t="",e){e!==!1&&(t=Vi(t));const r=Eu.parse(t);return pv(r)}var hv=Dt.getFullPath=fv;function pv(t){return Eu.serialize(t).split("#")[0]+"#"}var mv=Dt._getFullPath=pv;const ix=/#\/?$/;function Vi(t){return t?t.replace(ix,""):""}var _v=Dt.normalizeId=Vi;function ox(t,e){return e=Vi(e),Eu.resolve(t,e)}var yv=Dt.resolveUrl=ox;const ax=/^[a-z_][-a-z0-9._]*$/i;function sx(t,e){if(typeof t=="boolean")return{};const{schemaId:r}=this.opts,n=Vi(t[r]||e),i={"":n},o=fv(n,!1),a={},s=new Set;return ex(t,{allKeys:!0},(c,d,h,p)=>{if(p===void 0)return;const y=o+d;let _=i[p];typeof c[r]=="string"&&(_=f.call(this,c[r])),m.call(this,c.$anchor),m.call(this,c.$dynamicAnchor),i[d]=_;function f(g){if(g=Vi(_?Eu.resolve(_,g):g),s.has(g))throw u(g);s.add(g);let w=this.refs[g];return typeof w=="string"&&(w=this.refs[w]),typeof w=="object"?l(c,w.schema,g):g!==Vi(y)&&(g[0]==="#"?(l(c,a[g],g),a[g]=c):this.refs[g]=y),g}function m(g){if(typeof g=="string"){if(!ax.test(g))throw new Error(`invalid anchor "${g}"`);f.call(this,`#${g}`)}}}),a;function l(c,d,h){if(d!==void 0&&!Zk(c,d))throw u(h)}function u(c){return new Error(`reference "${c}" resolves to more than one schema`)}}lv=Dt.getSchemaRefs=sx;var ux=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getSchemaRefs(){return lv},get resolveUrl(){return yv},get normalizeId(){return _v},get _getFullPath(){return mv},get getFullPath(){return hv},get inlineRef(){return cv},default:Dt},[Dt])),Tu=O(ux);Object.defineProperty(Jr,"__esModule",{value:!0});var vv=Jr.getData=Nv=Jr.KeywordCxt=$v=Jr.validateFunctionCode=void 0;const gv=ak,bv=gu,gd=Iy,Pu=gu,lx=gk,Vo=Dk,bd=Hk,fe=Re,$e=Tn,cx=Tu,Zr=ze,Wo=vu;function dx(t){if(Tv(t)&&(Pv(t),Ev(t))){px(t);return}wv(t,()=>(0,gv.topBoolOrEmptySchema)(t))}var $v=Jr.validateFunctionCode=dx;function wv({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},o){i.code.es5?t.func(e,(0,fe._)`${$e.default.data}, ${$e.default.valCxt}`,n.$async,()=>{t.code((0,fe._)`"use strict"; ${Sv(r,i)}`),hx(t,i),t.code(o)}):t.func(e,(0,fe._)`${$e.default.data}, ${fx(i)}`,n.$async,()=>t.code(Sv(r,i)).code(o))}function fx(t){return(0,fe._)`{${$e.default.instancePath}="", ${$e.default.parentData}, ${$e.default.parentDataProperty}, ${$e.default.rootData}=${$e.default.data}${t.dynamicRef?(0,fe._)`, ${$e.default.dynamicAnchors}={}`:fe.nil}}={}`}function hx(t,e){t.if($e.default.valCxt,()=>{t.var($e.default.instancePath,(0,fe._)`${$e.default.valCxt}.${$e.default.instancePath}`),t.var($e.default.parentData,(0,fe._)`${$e.default.valCxt}.${$e.default.parentData}`),t.var($e.default.parentDataProperty,(0,fe._)`${$e.default.valCxt}.${$e.default.parentDataProperty}`),t.var($e.default.rootData,(0,fe._)`${$e.default.valCxt}.${$e.default.rootData}`),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,fe._)`${$e.default.valCxt}.${$e.default.dynamicAnchors}`)},()=>{t.var($e.default.instancePath,(0,fe._)`""`),t.var($e.default.parentData,(0,fe._)`undefined`),t.var($e.default.parentDataProperty,(0,fe._)`undefined`),t.var($e.default.rootData,$e.default.data),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,fe._)`{}`)})}function px(t){const{schema:e,opts:r,gen:n}=t;wv(t,()=>{r.$comment&&e.$comment&&Cv(t),gx(t),n.let($e.default.vErrors,null),n.let($e.default.errors,0),r.unevaluated&&mx(t),Ov(t),wx(t)})}function mx(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,fe._)`${r}.evaluated`),e.if((0,fe._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,fe._)`${t.evaluated}.props`,(0,fe._)`undefined`)),e.if((0,fe._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,fe._)`${t.evaluated}.items`,(0,fe._)`undefined`))}function Sv(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,fe._)`/*# sourceURL=${r} */`:fe.nil}function _x(t,e){if(Tv(t)&&(Pv(t),Ev(t))){yx(t,e);return}(0,gv.boolOrEmptySchema)(t,e)}function Ev({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Tv(t){return typeof t.schema!="boolean"}function yx(t,e){const{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&Cv(t),bx(t),$x(t);const o=n.const("_errs",$e.default.errors);Ov(t,o),n.var(e,(0,fe._)`${o} === ${$e.default.errors}`)}function Pv(t){(0,Zr.checkUnknownRules)(t),vx(t)}function Ov(t,e){if(t.opts.jtd)return Mv(t,[],!1,e);const r=(0,bv.getSchemaTypes)(t.schema),n=(0,bv.coerceAndCheckDataType)(t,r);Mv(t,r,!n,e)}function vx(t){const{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Zr.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function gx(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Zr.checkStrictMode)(t,"default is ignored in the schema root")}function bx(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,cx.resolveUrl)(t.baseId,e))}function $x(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Cv({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)t.code((0,fe._)`${$e.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const a=(0,fe.str)`${n}/$comment`,s=t.scopeValue("root",{ref:e.root});t.code((0,fe._)`${$e.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function wx(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=t;r.$async?e.if((0,fe._)`${$e.default.errors} === 0`,()=>e.return($e.default.data),()=>e.throw((0,fe._)`new ${i}(${$e.default.vErrors})`)):(e.assign((0,fe._)`${n}.errors`,$e.default.vErrors),o.unevaluated&&Sx(t),e.return((0,fe._)`${$e.default.errors} === 0`))}function Sx({gen:t,evaluated:e,props:r,items:n}){r instanceof fe.Name&&t.assign((0,fe._)`${e}.props`,r),n instanceof fe.Name&&t.assign((0,fe._)`${e}.items`,n)}function Mv(t,e,r,n){const{gen:i,schema:o,data:a,allErrors:s,opts:l,self:u}=t,{RULES:c}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Zr.schemaHasRulesButRef)(o,c))){i.block(()=>Iv(t,"$ref",c.all.$ref.definition));return}l.jtd||Ex(t,e),i.block(()=>{for(const h of c.rules)d(h);d(c.post)});function d(h){!(0,gd.shouldUseGroup)(o,h)||(h.type?(i.if((0,Pu.checkDataType)(h.type,a,l.strictNumbers)),kv(t,h),e.length===1&&e[0]===h.type&&r&&(i.else(),(0,Pu.reportTypeError)(t)),i.endIf()):kv(t,h),s||i.if((0,fe._)`${$e.default.errors} === ${n||0}`))}}function kv(t,e){const{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,lx.assignDefaults)(t,e.type),r.block(()=>{for(const o of e.rules)(0,gd.shouldUseRule)(n,o)&&Iv(t,o.keyword,o.definition,e.type)})}function Ex(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Tx(t,e),t.opts.allowUnionTypes||Px(t,e),Ox(t,t.dataTypes))}function Tx(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{xv(t.dataTypes,r)||$d(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>xv(e,r))}}function Px(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&$d(t,"use allowUnionTypes to allow union type keyword")}function Ox(t,e){const r=t.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,gd.shouldUseRule)(t.schema,i)){const{type:o}=i.definition;o.length&&!o.some(a=>Cx(e,a))&&$d(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Cx(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function xv(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function $d(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,Zr.checkStrictMode)(t,e,t.opts.strictTypes)}class Rv{constructor(e,r,n){if((0,Vo.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Zr.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",jv(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Vo.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",$e.default.errors))}result(e,r,n){this.failResult((0,fe.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,fe.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,fe._)`${r} !== undefined && (${(0,fe.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Wo.reportExtraError:Wo.reportError)(this,this.def.error,r)}$dataError(){(0,Wo.reportError)(this,this.def.$dataError||Wo.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Wo.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=fe.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=fe.nil,r=fe.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:a}=this;n.if((0,fe.or)((0,fe._)`${i} === undefined`,r)),e!==fe.nil&&n.assign(e,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==fe.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,fe.or)(a(),s());function a(){if(n.length){if(!(r instanceof fe.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,fe._)`${(0,Pu.checkDataTypes)(l,r,o.opts.strictNumbers,Pu.DataType.Wrong)}`}return fe.nil}function s(){if(i.validateSchema){const l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,fe._)`!${l}(${r})`}return fe.nil}}subschema(e,r){const n=(0,bd.getSubschema)(this.it,e);(0,bd.extendSubschemaData)(n,this.it,e),(0,bd.extendSubschemaMode)(n,e);const i=ot(ge(ge({},this.it),n),{items:void 0,props:void 0});return _x(i,r),i}mergeEvaluated(e,r){const{it:n,gen:i}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=Zr.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Zr.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,fe.Name)),!0}}var Nv=Jr.KeywordCxt=Rv;function Iv(t,e,r,n){const i=new Rv(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Vo.funcKeywordCode)(i,r):"macro"in r?(0,Vo.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Vo.funcKeywordCode)(i,r)}const Mx=/^\/(?:[^~]|~0|~1)*$/,kx=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function jv(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,o;if(t==="")return $e.default.rootData;if(t[0]==="/"){if(!Mx.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,o=$e.default.rootData}else{const u=kx.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=e)throw new Error(l("property/index",c));return n[e-c]}if(c>e)throw new Error(l("data",c));if(o=r[e-c],!i)return o}let a=o;const s=i.split("/");for(const u of s)u&&(o=(0,fe._)`${o}${(0,fe.getProperty)((0,Zr.unescapeJsonPointer)(u))}`,a=(0,fe._)`${a} && ${o}`);return a;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${e}`}}vv=Jr.getData=jv;var xx=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getData(){return vv},get KeywordCxt(){return Nv},get validateFunctionCode(){return $v},default:Jr},[Jr])),Ou=O(xx),wd={};Object.defineProperty(wd,"__esModule",{value:!0});class Rx extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}}var Nx=wd.default=Rx,Ix=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Nx},[wd])),Av=O(Ix),Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});const Ed=Tu;class jx extends Error{constructor(e,r,n){super(n||`can't resolve reference ${r} from id ${e}`);this.missingRef=(0,Ed.resolveUrl)(e,r),this.missingSchema=(0,Ed.normalizeId)((0,Ed.getFullPath)(this.missingRef))}}var Ax=Sd.default=jx,Fx=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Ax},[Sd])),Fv=O(Fx),Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});var Lv=Qt.resolveSchema=Hv=Qt.getCompilingSchema=Uv=Qt.resolveRef=qv=Qt.compileSchema=zv=Qt.SchemaEnv=void 0;const hr=Re,Lx=Av,ai=Tn,pr=Tu,Dv=ze,Dx=Ou,zx=Su;class Cu{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,pr.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}var zv=Qt.SchemaEnv=Cu;function Td(t){const e=Bv.call(this,t);if(e)return e;const r=(0,pr.getFullPath)(t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new hr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;t.$async&&(s=a.scopeValue("Error",{ref:Lx.default,code:(0,hr._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:ai.default.data,parentData:ai.default.parentData,parentDataProperty:ai.default.parentDataProperty,dataNames:[ai.default.data],dataPathArr:[hr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,hr.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:hr.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,hr._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(t),(0,Dx.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const d=a.toString();c=`${a.scopeRefs(ai.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,t));const p=new Function(`${ai.default.self}`,`${ai.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){const{props:y,items:_}=u;p.evaluated={props:y instanceof hr.Name?void 0:y,items:_ instanceof hr.Name?void 0:_,dynamicProps:y instanceof hr.Name,dynamicItems:_ instanceof hr.Name},p.source&&(p.source.evaluated=(0,hr.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(t)}}var qv=Qt.compileSchema=Td;function qx(t,e,r){var n;r=(0,pr.resolveUrl)(e,r);const i=t.refs[r];if(i)return i;let o=Hx.call(this,t,r);if(o===void 0){const a=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;a&&(o=new Cu({schema:a,schemaId:s,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=Ux.call(this,o)}var Uv=Qt.resolveRef=qx;function Ux(t){return(0,pr.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Td.call(this,t)}function Bv(t){for(const e of this._compilations)if(Bx(e,t))return e}var Hv=Qt.getCompilingSchema=Bv;function Bx(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Hx(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Mu.call(this,t,e)}function Mu(t,e){const r=zx.parse(e),n=(0,pr._getFullPath)(r);let i=(0,pr.getFullPath)(t.baseId);if(Object.keys(t.schema).length>0&&n===i)return Pd.call(this,r,t);const o=(0,pr.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=Mu.call(this,t,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:Pd.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Td.call(this,a),o===(0,pr.normalizeId)(e)){const{schema:s}=a,{schemaId:l}=this.opts,u=s[l];return u&&(i=(0,pr.resolveUrl)(i,u)),new Cu({schema:s,schemaId:l,root:t,baseId:i})}return Pd.call(this,r,a)}}Lv=Qt.resolveSchema=Mu;const Kx=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Pd(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Dv.unescapeFragment)(s)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!Kx.has(s)&&u&&(e=(0,pr.resolveUrl)(e,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Dv.schemaHasRulesButRef)(r,this.RULES)){const s=(0,pr.resolveUrl)(e,r.$ref);o=Mu.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new Cu({schema:r,schemaId:a,root:n,baseId:e}),o.schema!==o.root.schema)return o}var Vx=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get resolveSchema(){return Lv},get getCompilingSchema(){return Hv},get resolveRef(){return Uv},get compileSchema(){return qv},get SchemaEnv(){return zv},default:Qt},[Qt])),Kv=O(Vx);const Wx="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Gx="Meta-schema for $data reference (JSON AnySchema extension proposal)",Xx="object",Jx=["$data"],Yx={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Qx=!1;var Zx={$id:Wx,description:Gx,type:Xx,required:Jx,properties:Yx,additionalProperties:Qx};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Ou;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Re;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Av,i=Fv,o=Cy,a=Kv,s=Re,l=Tu,u=gu,c=ze,d=Zx,h=["removeAdditional","useDefaults","coerceTypes"],p=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},f=200;function m(N){var E,k,I,B,D,v,T,F,ee,X,oe,Ge,ct,gt,it,Mt,Xt,x,b,$,j,V;const te=N.strict,ne=(E=N.code)===null||E===void 0?void 0:E.optimize,me=ne===!0||ne===void 0?1:ne||0;return{strictSchema:(I=(k=N.strictSchema)!==null&&k!==void 0?k:te)!==null&&I!==void 0?I:!0,strictNumbers:(D=(B=N.strictNumbers)!==null&&B!==void 0?B:te)!==null&&D!==void 0?D:!0,strictTypes:(T=(v=N.strictTypes)!==null&&v!==void 0?v:te)!==null&&T!==void 0?T:"log",strictTuples:(ee=(F=N.strictTuples)!==null&&F!==void 0?F:te)!==null&&ee!==void 0?ee:"log",strictRequired:(oe=(X=N.strictRequired)!==null&&X!==void 0?X:te)!==null&&oe!==void 0?oe:!1,code:N.code?ot(ge({},N.code),{optimize:me}):{optimize:me},loopRequired:(Ge=N.loopRequired)!==null&&Ge!==void 0?Ge:f,loopEnum:(ct=N.loopEnum)!==null&&ct!==void 0?ct:f,meta:(gt=N.meta)!==null&&gt!==void 0?gt:!0,messages:(it=N.messages)!==null&&it!==void 0?it:!0,inlineRefs:(Mt=N.inlineRefs)!==null&&Mt!==void 0?Mt:!0,schemaId:(Xt=N.schemaId)!==null&&Xt!==void 0?Xt:"$id",addUsedSchema:(x=N.addUsedSchema)!==null&&x!==void 0?x:!0,validateSchema:(b=N.validateSchema)!==null&&b!==void 0?b:!0,validateFormats:($=N.validateFormats)!==null&&$!==void 0?$:!0,unicodeRegExp:(j=N.unicodeRegExp)!==null&&j!==void 0?j:!0,int32range:(V=N.int32range)!==null&&V!==void 0?V:!0}}class g{constructor(E={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,E=this.opts=ge(ge({},E),m(E));const{es5:k,lines:I}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:p,es5:k,lines:I}),this.logger=z(E.logger);const B=E.validateFormats;E.validateFormats=!1,this.RULES=(0,o.getRules)(),w.call(this,y,E,"NOT SUPPORTED"),w.call(this,_,E,"DEPRECATED","warn"),this._metaOpts=L.call(this),E.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),E.keywords&&M.call(this,E.keywords),typeof E.meta=="object"&&this.addMetaSchema(E.meta),A.call(this),E.validateFormats=B}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:E,meta:k,schemaId:I}=this.opts;let B=d;I==="id"&&(B=ge({},d),B.id=B.$id,delete B.$id),k&&E&&this.addMetaSchema(B,B[I],!1)}defaultMeta(){const{meta:E,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof E=="object"?E[k]||E:void 0}validate(E,k){let I;if(typeof E=="string"){if(I=this.getSchema(E),!I)throw new Error(`no schema with key or ref "${E}"`)}else I=this.compile(E);const B=I(k);return"$async"in I||(this.errors=I.errors),B}compile(E,k){const I=this._addSchema(E,k);return I.validate||this._compileSchemaEnv(I)}compileAsync(E,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return B.call(this,E,k);async function B(X,oe){await D.call(this,X.$schema);const Ge=this._addSchema(X,oe);return Ge.validate||v.call(this,Ge)}async function D(X){X&&!this.getSchema(X)&&await B.call(this,{$ref:X},!0)}async function v(X){try{return this._compileSchemaEnv(X)}catch(oe){if(!(oe instanceof i.default))throw oe;return T.call(this,oe),await F.call(this,oe.missingSchema),v.call(this,X)}}function T({missingSchema:X,missingRef:oe}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${oe} cannot be resolved`)}async function F(X){const oe=await ee.call(this,X);this.refs[X]||await D.call(this,oe.$schema),this.refs[X]||this.addSchema(oe,X,k)}async function ee(X){const oe=this._loading[X];if(oe)return oe;try{return await(this._loading[X]=I(X))}finally{delete this._loading[X]}}}addSchema(E,k,I,B=this.opts.validateSchema){if(Array.isArray(E)){for(const v of E)this.addSchema(v,void 0,I,B);return this}let D;if(typeof E=="object"){const{schemaId:v}=this.opts;if(D=E[v],D!==void 0&&typeof D!="string")throw new Error(`schema ${v} must be string`)}return k=(0,l.normalizeId)(k||D),this._checkUnique(k),this.schemas[k]=this._addSchema(E,I,k,B,!0),this}addMetaSchema(E,k,I=this.opts.validateSchema){return this.addSchema(E,k,!0,I),this}validateSchema(E,k){if(typeof E=="boolean")return!0;let I;if(I=E.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const B=this.validate(I,E);if(!B&&k){const D="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(D);else throw new Error(D)}return B}getSchema(E){let k;for(;typeof(k=P.call(this,E))=="string";)E=k;if(k===void 0){const{schemaId:I}=this.opts,B=new a.SchemaEnv({schema:{},schemaId:I});if(k=a.resolveSchema.call(this,B,E),!k)return;this.refs[E]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(E){if(E instanceof RegExp)return this._removeAllSchemas(this.schemas,E),this._removeAllSchemas(this.refs,E),this;switch(typeof E){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const k=P.call(this,E);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[E],delete this.refs[E],this}case"object":{const k=E;this._cache.delete(k);let I=E[this.opts.schemaId];return I&&(I=(0,l.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(E){for(const k of E)this.addKeyword(k);return this}addKeyword(E,k){let I;if(typeof E=="string")I=E,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=I);else if(typeof E=="object"&&k===void 0){if(k=E,I=k.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,I,k),!k)return(0,c.eachItem)(I,D=>ae.call(this,D)),this;ce.call(this,k);const B=ot(ge({},k),{type:(0,u.getJSONTypes)(k.type),schemaType:(0,u.getJSONTypes)(k.schemaType)});return(0,c.eachItem)(I,B.type.length===0?D=>ae.call(this,D,B):D=>B.type.forEach(v=>ae.call(this,D,B,v))),this}getKeyword(E){const k=this.RULES.all[E];return typeof k=="object"?k.definition:!!k}removeKeyword(E){const{RULES:k}=this;delete k.keywords[E],delete k.all[E];for(const I of k.rules){const B=I.rules.findIndex(D=>D.keyword===E);B>=0&&I.rules.splice(B,1)}return this}addFormat(E,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[E]=k,this}errorsText(E=this.errors,{separator:k=", ",dataVar:I="data"}={}){return!E||E.length===0?"No errors":E.map(B=>`${I}${B.instancePath} ${B.message}`).reduce((B,D)=>B+k+D)}$dataMetaSchema(E,k){const I=this.RULES.all;E=JSON.parse(JSON.stringify(E));for(const B of k){const D=B.split("/").slice(1);let v=E;for(const T of D)v=v[T];for(const T in I){const F=I[T];if(typeof F!="object")continue;const{$data:ee}=F.definition,X=v[T];ee&&X&&(v[T]=de(X))}}return E}_removeAllSchemas(E,k){for(const I in E){const B=E[I];(!k||k.test(I))&&(typeof B=="string"?delete E[I]:B&&!B.meta&&(this._cache.delete(B.schema),delete E[I]))}}_addSchema(E,k,I,B=this.opts.validateSchema,D=this.opts.addUsedSchema){let v;const{schemaId:T}=this.opts;if(typeof E=="object")v=E[T];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof E!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(E);if(F!==void 0)return F;I=(0,l.normalizeId)(v||I);const ee=l.getSchemaRefs.call(this,E,I);return F=new a.SchemaEnv({schema:E,schemaId:T,meta:k,baseId:I,localRefs:ee}),this._cache.set(F.schema,F),D&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=F),B&&this.validateSchema(E,!0),F}_checkUnique(E){if(this.schemas[E]||this.refs[E])throw new Error(`schema with key or id "${E}" already exists`)}_compileSchemaEnv(E){if(E.meta?this._compileMetaSchema(E):a.compileSchema.call(this,E),!E.validate)throw new Error("ajv implementation error");return E.validate}_compileMetaSchema(E){const k=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,E)}finally{this.opts=k}}}t.default=g,g.ValidationError=n.default,g.MissingRefError=i.default;function w(N,E,k,I="error"){for(const B in N){const D=B;D in E&&this.logger[I](`${k}: option ${B}. ${N[D]}`)}}function P(N){return N=(0,l.normalizeId)(N),this.schemas[N]||this.refs[N]}function A(){const N=this.opts.schemas;if(!!N)if(Array.isArray(N))this.addSchema(N);else for(const E in N)this.addSchema(N[E],E)}function S(){for(const N in this.opts.formats){const E=this.opts.formats[N];E&&this.addFormat(N,E)}}function M(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const E in N){const k=N[E];k.keyword||(k.keyword=E),this.addKeyword(k)}}function L(){const N=ge({},this.opts);for(const E of h)delete N[E];return N}const W={log(){},warn(){},error(){}};function z(N){if(N===!1)return W;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function G(N,E){const{RULES:k}=this;if((0,c.eachItem)(N,I=>{if(k.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!Z.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!E&&E.$data&&!("code"in E||"validate"in E))throw new Error('$data keyword must have "code" or "validate" function')}function ae(N,E,k){var I;const B=E==null?void 0:E.post;if(k&&B)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:D}=this;let v=B?D.post:D.rules.find(({type:F})=>F===k);if(v||(v={type:k,rules:[]},D.rules.push(v)),D.keywords[N]=!0,!E)return;const T={keyword:N,definition:ot(ge({},E),{type:(0,u.getJSONTypes)(E.type),schemaType:(0,u.getJSONTypes)(E.schemaType)})};E.before?se.call(this,v,T,E.before):v.rules.push(T),D.all[N]=T,(I=E.implements)===null||I===void 0||I.forEach(F=>this.addKeyword(F))}function se(N,E,k){const I=N.rules.findIndex(B=>B.keyword===k);I>=0?N.rules.splice(I,0,E):(N.rules.push(E),this.logger.warn(`rule ${k} is not defined`))}function ce(N){let{metaSchema:E}=N;E!==void 0&&(N.$data&&this.opts.$data&&(E=de(E)),N.validateSchema=this.compile(E,!0))}const ye={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function de(N){return{anyOf:[N,ye]}}})(ad);var eR=Pe(ad),tR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:eR},[ad])),rR=O(tR),Od={},Cd={},Md={};Object.defineProperty(Md,"__esModule",{value:!0});const nR={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};var iR=Md.default=nR,oR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:iR},[Md])),aR=O(oR),si={};Object.defineProperty(si,"__esModule",{value:!0});var Vv=si.callRef=Jv=si.getValidate=void 0;const sR=Fv,Wv=fr,Vt=Re,Wi=Tn,Gv=Kv,ku=ze,uR={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return d();const c=Gv.resolveRef.call(l,u,i,r);if(c===void 0)throw new sR.default(i,r);if(c instanceof Gv.SchemaEnv)return h(c);return p(c);function d(){if(o===u)return xu(t,a,o,o.$async);const y=e.scopeValue("root",{ref:u});return xu(t,(0,Vt._)`${y}.validate`,u,u.$async)}function h(y){const _=Xv(t,y);xu(t,_,y,y.$async)}function p(y){const _=e.scopeValue("schema",s.code.source===!0?{ref:y,code:(0,Vt.stringify)(y)}:{ref:y}),f=e.name("valid"),m=t.subschema({schema:y,dataTypes:[],schemaPath:Vt.nil,topSchemaRef:_,errSchemaPath:r},f);t.mergeEvaluated(m),t.ok(f)}}};function Xv(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Vt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}var Jv=si.getValidate=Xv;function xu(t,e,r,n){const{gen:i,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,u=l.passContext?Wi.default.this:Vt.nil;n?c():d();function c(){if(!s.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Vt._)`await ${(0,Wv.callValidateCode)(t,e,u)}`),p(e),a||i.assign(y,!0)},_=>{i.if((0,Vt._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),h(_),a||i.assign(y,!1)}),t.ok(y)}function d(){t.result((0,Wv.callValidateCode)(t,e,u),()=>p(e),()=>h(e))}function h(y){const _=(0,Vt._)`${y}.errors`;i.assign(Wi.default.vErrors,(0,Vt._)`${Wi.default.vErrors} === null ? ${_} : ${Wi.default.vErrors}.concat(${_})`),i.assign(Wi.default.errors,(0,Vt._)`${Wi.default.vErrors}.length`)}function p(y){var _;if(!o.opts.unevaluated)return;const f=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(f&&!f.dynamicProps)f.props!==void 0&&(o.props=ku.mergeEvaluated.props(i,f.props,o.props));else{const m=i.var("props",(0,Vt._)`${y}.evaluated.props`);o.props=ku.mergeEvaluated.props(i,m,o.props,Vt.Name)}if(o.items!==!0)if(f&&!f.dynamicItems)f.items!==void 0&&(o.items=ku.mergeEvaluated.items(i,f.items,o.items));else{const m=i.var("items",(0,Vt._)`${y}.evaluated.items`);o.items=ku.mergeEvaluated.items(i,m,o.items,Vt.Name)}}}Vv=si.callRef=xu;var lR=si.default=uR,cR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get callRef(){return Vv},get getValidate(){return Jv},default:lR},[si])),dR=O(cR);Object.defineProperty(Cd,"__esModule",{value:!0});const fR=aR,hR=dR,pR=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fR.default,hR.default];var mR=Cd.default=pR,_R=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:mR},[Cd])),yR=O(_R),kd={},xd={};Object.defineProperty(xd,"__esModule",{value:!0});const Ru=Re,Cn=Ru.operators,Nu={maximum:{okStr:"<=",ok:Cn.LTE,fail:Cn.GT},minimum:{okStr:">=",ok:Cn.GTE,fail:Cn.LT},exclusiveMaximum:{okStr:"<",ok:Cn.LT,fail:Cn.GTE},exclusiveMinimum:{okStr:">",ok:Cn.GT,fail:Cn.LTE}},vR={message:({keyword:t,schemaCode:e})=>(0,Ru.str)`must be ${Nu[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Ru._)`{comparison: ${Nu[t].okStr}, limit: ${e}}`},gR={keyword:Object.keys(Nu),type:"number",schemaType:"number",$data:!0,error:vR,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Ru._)`${r} ${Nu[e].fail} ${n} || isNaN(${r})`)}};var bR=xd.default=gR,$R=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:bR},[xd])),wR=O($R),Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});const Go=Re,SR={message:({schemaCode:t})=>(0,Go.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Go._)`{multipleOf: ${t}}`},ER={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:SR,code(t){const{gen:e,data:r,schemaCode:n,it:i}=t,o=i.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Go._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Go._)`${a} !== parseInt(${a})`;t.fail$data((0,Go._)`(${n} === 0 || (${a} = ${r}/${n}, ${s}))`)}};var TR=Rd.default=ER,PR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:TR},[Rd])),OR=O(PR),Nd={},Id={};Object.defineProperty(Id,"__esModule",{value:!0});function Yv(t){const e=t.length;let r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)==56320&&n++);return r}var CR=Id.default=Yv;Yv.code='require("ajv/dist/runtime/ucs2length").default';var MR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:CR},[Id])),kR=O(MR);Object.defineProperty(Nd,"__esModule",{value:!0});const ui=Re,xR=ze,RR=kR,NR={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,ui.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,ui._)`{limit: ${t}}`},IR={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:NR,code(t){const{keyword:e,data:r,schemaCode:n,it:i}=t,o=e==="maxLength"?ui.operators.GT:ui.operators.LT,a=i.opts.unicode===!1?(0,ui._)`${r}.length`:(0,ui._)`${(0,xR.useFunc)(t.gen,RR.default)}(${r})`;t.fail$data((0,ui._)`${a} ${o} ${n}`)}};var jR=Nd.default=IR,AR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jR},[Nd])),FR=O(AR),jd={};Object.defineProperty(jd,"__esModule",{value:!0});const LR=fr,Iu=Re,DR={message:({schemaCode:t})=>(0,Iu.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Iu._)`{pattern: ${t}}`},zR={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:DR,code(t){const{data:e,$data:r,schema:n,schemaCode:i,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=r?(0,Iu._)`(new RegExp(${i}, ${a}))`:(0,LR.usePattern)(t,n);t.fail$data((0,Iu._)`!${s}.test(${e})`)}};var qR=jd.default=zR,UR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:qR},[jd])),BR=O(UR),Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});const Xo=Re,HR={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Xo.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Xo._)`{limit: ${t}}`},KR={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:HR,code(t){const{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?Xo.operators.GT:Xo.operators.LT;t.fail$data((0,Xo._)`Object.keys(${r}).length ${i} ${n}`)}};var VR=Ad.default=KR,WR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:VR},[Ad])),GR=O(WR),Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});const Jo=fr,Yo=Re,XR=ze,JR={message:({params:{missingProperty:t}})=>(0,Yo.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Yo._)`{missingProperty: ${t}}`},YR={keyword:"required",type:"object",schemaType:"array",$data:!0,error:JR,code(t){const{gen:e,schema:r,schemaCode:n,data:i,$data:o,it:a}=t,{opts:s}=a;if(!o&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?u():c(),s.strictRequired){const p=t.parentSchema.properties,{definedProperties:y}=t.it;for(const _ of r)if((p==null?void 0:p[_])===void 0&&!y.has(_)){const f=a.schemaEnv.baseId+a.errSchemaPath,m=`required property "${_}" is not defined at "${f}" (strictRequired)`;(0,XR.checkStrictMode)(a,m,a.opts.strictRequired)}}function u(){if(l||o)t.block$data(Yo.nil,d);else for(const p of r)(0,Jo.checkReportMissingProp)(t,p)}function c(){const p=e.let("missing");if(l||o){const y=e.let("valid",!0);t.block$data(y,()=>h(p,y)),t.ok(y)}else e.if((0,Jo.checkMissingProp)(t,r,p)),(0,Jo.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Jo.noPropertyInData)(e,i,p,s.ownProperties),()=>t.error())})}function h(p,y){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(y,(0,Jo.propertyInData)(e,i,p,s.ownProperties)),e.if((0,Yo.not)(y),()=>{t.error(),e.break()})},Yo.nil)}}};var QR=Fd.default=YR,ZR=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:QR},[Fd])),eN=O(ZR),Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});const Qo=Re,tN={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Qo.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Qo._)`{limit: ${t}}`},rN={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:tN,code(t){const{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?Qo.operators.GT:Qo.operators.LT;t.fail$data((0,Qo._)`${r}.length ${i} ${n}`)}};var nN=Ld.default=rN,iN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:nN},[Ld])),oN=O(iN),Dd={},zd={};Object.defineProperty(zd,"__esModule",{value:!0});const Qv=bu;Qv.code='require("ajv/dist/runtime/equal").default';var aN=zd.default=Qv,sN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aN},[zd])),qd=O(sN);Object.defineProperty(Dd,"__esModule",{value:!0});const Ud=gu,Et=Re,uN=ze,lN=qd,cN={message:({params:{i:t,j:e}})=>(0,Et.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Et._)`{i: ${t}, j: ${e}}`},dN={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:cN,code(t){const{gen:e,data:r,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=t;if(!n&&!i)return;const l=e.let("valid"),u=o.items?(0,Ud.getSchemaTypes)(o.items):[];t.block$data(l,c,(0,Et._)`${a} === false`),t.ok(l);function c(){const y=e.let("i",(0,Et._)`${r}.length`),_=e.let("j");t.setParams({i:y,j:_}),e.assign(l,!0),e.if((0,Et._)`${y} > 1`,()=>(d()?h:p)(y,_))}function d(){return u.length>0&&!u.some(y=>y==="object"||y==="array")}function h(y,_){const f=e.name("item"),m=(0,Ud.checkDataTypes)(u,f,s.opts.strictNumbers,Ud.DataType.Wrong),g=e.const("indices",(0,Et._)`{}`);e.for((0,Et._)`;${y}--;`,()=>{e.let(f,(0,Et._)`${r}[${y}]`),e.if(m,(0,Et._)`continue`),u.length>1&&e.if((0,Et._)`typeof ${f} == "string"`,(0,Et._)`${f} += "_"`),e.if((0,Et._)`typeof ${g}[${f}] == "number"`,()=>{e.assign(_,(0,Et._)`${g}[${f}]`),t.error(),e.assign(l,!1).break()}).code((0,Et._)`${g}[${f}] = ${y}`)})}function p(y,_){const f=(0,uN.useFunc)(e,lN.default),m=e.name("outer");e.label(m).for((0,Et._)`;${y}--;`,()=>e.for((0,Et._)`${_} = ${y}; ${_}--;`,()=>e.if((0,Et._)`${f}(${r}[${y}], ${r}[${_}])`,()=>{t.error(),e.assign(l,!1).break(m)})))}}};var fN=Dd.default=dN,hN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:fN},[Dd])),pN=O(hN),Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});const Hd=Re,mN=ze,_N=qd,yN={message:"must be equal to constant",params:({schemaCode:t})=>(0,Hd._)`{allowedValue: ${t}}`},vN={keyword:"const",$data:!0,error:yN,code(t){const{gen:e,data:r,$data:n,schemaCode:i,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,Hd._)`!${(0,mN.useFunc)(e,_N.default)}(${r}, ${i})`):t.fail((0,Hd._)`${o} !== ${r}`)}};var gN=Bd.default=vN,bN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:gN},[Bd])),$N=O(bN),Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});const Zo=Re,wN=ze,SN=qd,EN={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Zo._)`{allowedValues: ${t}}`},TN={keyword:"enum",schemaType:"array",$data:!0,error:EN,code(t){const{gen:e,data:r,$data:n,schema:i,schemaCode:o,it:a}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum,l=(0,wN.useFunc)(e,SN.default);let u;if(s||n)u=e.let("valid"),t.block$data(u,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=e.const("vSchema",o);u=(0,Zo.or)(...i.map((p,y)=>d(h,y)))}t.pass(u);function c(){e.assign(u,!1),e.forOf("v",o,h=>e.if((0,Zo._)`${l}(${r}, ${h})`,()=>e.assign(u,!0).break()))}function d(h,p){const y=i[p];return typeof y=="object"&&y!==null?(0,Zo._)`${l}(${r}, ${h}[${p}])`:(0,Zo._)`${r} === ${y}`}}};var PN=Kd.default=TN,ON=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:PN},[Kd])),CN=O(ON);Object.defineProperty(kd,"__esModule",{value:!0});const MN=wR,kN=OR,xN=FR,RN=BR,NN=GR,IN=eN,jN=oN,AN=pN,FN=$N,LN=CN,DN=[MN.default,kN.default,xN.default,RN.default,NN.default,IN.default,jN.default,AN.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},FN.default,LN.default];var zN=kd.default=DN,qN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zN},[kd])),UN=O(qN),Vd={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});var Zv=ea.validateAdditionalItems=void 0;const li=Re,Wd=ze,BN={message:({params:{len:t}})=>(0,li.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,li._)`{limit: ${t}}`},HN={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:BN,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Wd.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}eg(t,n)}};function eg(t,e){const{gen:r,schema:n,data:i,keyword:o,it:a}=t;a.items=!0;const s=r.const("len",(0,li._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,li._)`${s} <= ${e.length}`);else if(typeof n=="object"&&!(0,Wd.alwaysValidSchema)(a,n)){const u=r.var("valid",(0,li._)`${s} <= ${e.length}`);r.if((0,li.not)(u),()=>l(u)),t.ok(u)}function l(u){r.forRange("i",e.length,s,c=>{t.subschema({keyword:o,dataProp:c,dataPropType:Wd.Type.Num},u),a.allErrors||r.if((0,li.not)(u),()=>r.break())})}}Zv=ea.validateAdditionalItems=eg;var KN=ea.default=HN,VN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateAdditionalItems(){return Zv},default:KN},[ea])),tg=O(VN),Gd={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});var rg=ta.validateTuple=void 0;const ng=Re,ju=ze,WN=fr,GN={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return ig(t,"additionalItems",e);r.items=!0,!(0,ju.alwaysValidSchema)(r,e)&&t.ok((0,WN.validateArray)(t))}};function ig(t,e,r=t.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=t;c(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=ju.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),u=n.const("len",(0,ng._)`${o}.length`);r.forEach((d,h)=>{(0,ju.alwaysValidSchema)(s,d)||(n.if((0,ng._)`${u} > ${h}`,()=>t.subschema({keyword:a,schemaProp:h,dataProp:h},l)),t.ok(l))});function c(d){const{opts:h,errSchemaPath:p}=s,y=r.length,_=y===d.minItems&&(y===d.maxItems||d[e]===!1);if(h.strictTuples&&!_){const f=`"${a}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,ju.checkStrictMode)(s,f,h.strictTuples)}}}rg=ta.validateTuple=ig;var XN=ta.default=GN,JN=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateTuple(){return rg},default:XN},[ta])),og=O(JN);Object.defineProperty(Gd,"__esModule",{value:!0});const YN=og,QN={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,YN.validateTuple)(t,"items")};var ZN=Gd.default=QN,eI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:ZN},[Gd])),tI=O(eI),Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});const ag=Re,rI=ze,nI=fr,iI=tg,oI={message:({params:{len:t}})=>(0,ag.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ag._)`{limit: ${t}}`},aI={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:oI,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,rI.alwaysValidSchema)(n,e)&&(i?(0,iI.validateAdditionalItems)(t,i):t.ok((0,nI.validateArray)(t)))}};var sI=Xd.default=aI,uI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:sI},[Xd])),lI=O(uI),Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});const mr=Re,Au=ze,cI={message:({params:{min:t,max:e}})=>e===void 0?(0,mr.str)`must contain at least ${t} valid item(s)`:(0,mr.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,mr._)`{minContains: ${t}}`:(0,mr._)`{minContains: ${t}, maxContains: ${e}}`},dI={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:cI,code(t){const{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;let a,s;const{minContains:l,maxContains:u}=n;o.opts.next?(a=l===void 0?1:l,s=u):a=1;const c=e.const("len",(0,mr._)`${i}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,Au.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Au.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Au.alwaysValidSchema)(o,r)){let y=(0,mr._)`${c} >= ${a}`;s!==void 0&&(y=(0,mr._)`${y} && ${c} <= ${s}`),t.pass(y);return}o.items=!0;const d=e.name("valid");if(s===void 0&&a===1)h(d,()=>e.if(d,()=>e.break()));else{e.let(d,!1);const y=e.name("_valid"),_=e.let("count",0);h(y,()=>e.if(y,()=>p(_)))}t.result(d,()=>t.reset());function h(y,_){e.forRange("i",0,c,f=>{t.subschema({keyword:"contains",dataProp:f,dataPropType:Au.Type.Num,compositeRule:!0},y),_()})}function p(y){e.code((0,mr._)`${y}++`),s===void 0?e.if((0,mr._)`${y} >= ${a}`,()=>e.assign(d,!0).break()):(e.if((0,mr._)`${y} > ${s}`,()=>e.assign(d,!1).break()),a===1?e.assign(d,!0):e.if((0,mr._)`${y} >= ${a}`,()=>e.assign(d,!0)))}}};var fI=Jd.default=dI,hI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:fI},[Jd])),pI=O(hI),Yd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Re,r=ze,n=fr;t.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,e.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,c]=o(l);a(l,u),s(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const h=Array.isArray(l[d])?u:c;h[d]=l[d]}return[u,c]}function a(l,u=l.schema){const{gen:c,data:d,it:h}=l;if(Object.keys(u).length===0)return;const p=c.let("missing");for(const y in u){const _=u[y];if(_.length===0)continue;const f=(0,n.propertyInData)(c,d,y,h.opts.ownProperties);l.setParams({property:y,depsCount:_.length,deps:_.join(", ")}),h.allErrors?c.if(f,()=>{for(const m of _)(0,n.checkReportMissingProp)(l,m)}):(c.if((0,e._)`${f} && (${(0,n.checkMissingProp)(l,_,p)})`),(0,n.reportMissingProp)(l,p),c.else())}}t.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:c,data:d,keyword:h,it:p}=l,y=c.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(p,u[_])||(c.if((0,n.propertyInData)(c,d,_,p.opts.ownProperties),()=>{const f=l.subschema({keyword:h,schemaProp:_},y);l.mergeValidEvaluated(f,y)},()=>c.var(y,!0)),l.ok(y))}t.validateSchemaDeps=s,t.default=i})(Yd);var mI=Pe(Yd),_I=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:mI},[Yd])),yI=O(_I),Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});const sg=Re,vI=ze,gI={message:"property name must be valid",params:({params:t})=>(0,sg._)`{propertyName: ${t.propertyName}}`},bI={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:gI,code(t){const{gen:e,schema:r,data:n,it:i}=t;if((0,vI.alwaysValidSchema)(i,r))return;const o=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,sg.not)(o),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(o)}};var $I=Qd.default=bI,wI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:$I},[Qd])),SI=O(wI),Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});const Fu=fr,_r=Re,EI=Tn,Lu=ze,TI={message:"must NOT have additional properties",params:({params:t})=>(0,_r._)`{additionalProperty: ${t.additionalProperty}}`},PI={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:TI,code(t){const{gen:e,schema:r,parentSchema:n,data:i,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Lu.alwaysValidSchema)(a,r))return;const u=(0,Fu.allSchemaProperties)(n.properties),c=(0,Fu.allSchemaProperties)(n.patternProperties);d(),t.ok((0,_r._)`${o} === ${EI.default.errors}`);function d(){e.forIn("key",i,f=>{!u.length&&!c.length?y(f):e.if(h(f),()=>y(f))})}function h(f){let m;if(u.length>8){const g=(0,Lu.schemaRefOrVal)(a,n.properties,"properties");m=(0,Fu.isOwnProperty)(e,g,f)}else u.length?m=(0,_r.or)(...u.map(g=>(0,_r._)`${f} === ${g}`)):m=_r.nil;return c.length&&(m=(0,_r.or)(m,...c.map(g=>(0,_r._)`${(0,Fu.usePattern)(t,g)}.test(${f})`))),(0,_r.not)(m)}function p(f){e.code((0,_r._)`delete ${i}[${f}]`)}function y(f){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(f);return}if(r===!1){t.setParams({additionalProperty:f}),t.error(),s||e.break();return}if(typeof r=="object"&&!(0,Lu.alwaysValidSchema)(a,r)){const m=e.name("valid");l.removeAdditional==="failing"?(_(f,m,!1),e.if((0,_r.not)(m),()=>{t.reset(),p(f)})):(_(f,m),s||e.if((0,_r.not)(m),()=>e.break()))}}function _(f,m,g){const w={keyword:"additionalProperties",dataProp:f,dataPropType:Lu.Type.Str};g===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(w,m)}}};var OI=Zd.default=PI,CI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:OI},[Zd])),ug=O(CI),ef={};Object.defineProperty(ef,"__esModule",{value:!0});const MI=Ou,lg=fr,tf=ze,cg=ug,kI={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&cg.default.code(new MI.KeywordCxt(o,cg.default,"additionalProperties"));const a=(0,lg.allSchemaProperties)(r);for(const d of a)o.definedProperties.add(d);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=tf.mergeEvaluated.props(e,(0,tf.toHash)(a),o.props));const s=a.filter(d=>!(0,tf.alwaysValidSchema)(o,r[d]));if(s.length===0)return;const l=e.name("valid");for(const d of s)u(d)?c(d):(e.if((0,lg.propertyInData)(e,i,d,o.opts.ownProperties)),c(d),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function u(d){return o.opts.useDefaults&&!o.compositeRule&&r[d].default!==void 0}function c(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};var xI=ef.default=kI,RI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:xI},[ef])),NI=O(RI),rf={};Object.defineProperty(rf,"__esModule",{value:!0});const dg=fr,Du=Re,fg=ze,hg=ze,II={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:i,it:o}=t,{opts:a}=o,s=(0,dg.allSchemaProperties)(r),l=s.filter(_=>(0,fg.alwaysValidSchema)(o,r[_]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,c=e.name("valid");o.props!==!0&&!(o.props instanceof Du.Name)&&(o.props=(0,hg.evaluatedPropsToName)(e,o.props));const{props:d}=o;h();function h(){for(const _ of s)u&&p(_),o.allErrors?y(_):(e.var(c,!0),y(_),e.if(c))}function p(_){for(const f in u)new RegExp(_).test(f)&&(0,fg.checkStrictMode)(o,`property ${f} matches pattern ${_} (use allowMatchingProperties)`)}function y(_){e.forIn("key",n,f=>{e.if((0,Du._)`${(0,dg.usePattern)(t,_)}.test(${f})`,()=>{const m=l.includes(_);m||t.subschema({keyword:"patternProperties",schemaProp:_,dataProp:f,dataPropType:hg.Type.Str},c),o.opts.unevaluated&&d!==!0?e.assign((0,Du._)`${d}[${f}]`,!0):!m&&!o.allErrors&&e.if((0,Du.not)(c),()=>e.break())})})}}};var jI=rf.default=II,AI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jI},[rf])),FI=O(AI),nf={};Object.defineProperty(nf,"__esModule",{value:!0});const LI=ze,DI={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,LI.alwaysValidSchema)(n,r)){t.fail();return}const i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};var zI=nf.default=DI,qI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zI},[nf])),UI=O(qI),of={};Object.defineProperty(of,"__esModule",{value:!0});const BI=fr,HI={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:BI.validateUnion,error:{message:"must match a schema in anyOf"}};var KI=of.default=HI,VI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:KI},[of])),WI=O(VI),af={};Object.defineProperty(af,"__esModule",{value:!0});const zu=Re,GI=ze,XI={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,zu._)`{passingSchemas: ${t.passing}}`},JI={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:XI,code(t){const{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,a=e.let("valid",!1),s=e.let("passing",null),l=e.name("_valid");t.setParams({passing:s}),e.block(u),t.result(a,()=>t.reset(),()=>t.error(!0));function u(){o.forEach((c,d)=>{let h;(0,GI.alwaysValidSchema)(i,c)?e.var(l,!0):h=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,zu._)`${l} && ${a}`).assign(a,!1).assign(s,(0,zu._)`[${s}, ${d}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(s,d),h&&t.mergeEvaluated(h,zu.Name)})})}}};var YI=af.default=JI,QI=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:YI},[af])),ZI=O(QI),sf={};Object.defineProperty(sf,"__esModule",{value:!0});const ej=ze,tj={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=e.name("valid");r.forEach((o,a)=>{if((0,ej.alwaysValidSchema)(n,o))return;const s=t.subschema({keyword:"allOf",schemaProp:a},i);t.ok(i),t.mergeEvaluated(s)})}};var rj=sf.default=tj,nj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:rj},[sf])),ij=O(nj),uf={};Object.defineProperty(uf,"__esModule",{value:!0});const qu=Re,pg=ze,oj={message:({params:t})=>(0,qu.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,qu._)`{failingKeyword: ${t.ifClause}}`},aj={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:oj,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,pg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=mg(n,"then"),o=mg(n,"else");if(!i&&!o)return;const a=e.let("valid",!0),s=e.name("_valid");if(l(),t.reset(),i&&o){const c=e.let("ifClause");t.setParams({ifClause:c}),e.if(s,u("then",c),u("else",c))}else i?e.if(s,u("then")):e.if((0,qu.not)(s),u("else"));t.pass(a,()=>t.error(!0));function l(){const c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(c)}function u(c,d){return()=>{const h=t.subschema({keyword:c},s);e.assign(a,s),t.mergeValidEvaluated(h,a),d?e.assign(d,(0,qu._)`${c}`):t.setParams({ifClause:c})}}}};function mg(t,e){const r=t.schema[e];return r!==void 0&&!(0,pg.alwaysValidSchema)(t,r)}var sj=uf.default=aj,uj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:sj},[uf])),lj=O(uj),lf={};Object.defineProperty(lf,"__esModule",{value:!0});const cj=ze,dj={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,cj.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};var fj=lf.default=dj,hj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:fj},[lf])),pj=O(hj);Object.defineProperty(Vd,"__esModule",{value:!0});const mj=tg,_j=tI,yj=og,vj=lI,gj=pI,bj=yI,$j=SI,wj=ug,Sj=NI,Ej=FI,Tj=UI,Pj=WI,Oj=ZI,Cj=ij,Mj=lj,kj=pj;function xj(t=!1){const e=[Tj.default,Pj.default,Oj.default,Cj.default,Mj.default,kj.default,$j.default,wj.default,bj.default,Sj.default,Ej.default];return t?e.push(_j.default,vj.default):e.push(mj.default,yj.default),e.push(gj.default),e}var Rj=Vd.default=xj,Nj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Rj},[Vd])),Ij=O(Nj),cf={},df={};Object.defineProperty(df,"__esModule",{value:!0});const ht=Re,jj={message:({schemaCode:t})=>(0,ht.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ht._)`{format: ${t}}`},Aj={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:jj,code(t,e){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:u,schemaEnv:c,self:d}=s;if(!l.validateFormats)return;i?h():p();function h(){const y=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),_=r.const("fDef",(0,ht._)`${y}[${a}]`),f=r.let("fType"),m=r.let("format");r.if((0,ht._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(f,(0,ht._)`${_}.type || "string"`).assign(m,(0,ht._)`${_}.validate`),()=>r.assign(f,(0,ht._)`"string"`).assign(m,_)),t.fail$data((0,ht.or)(g(),w()));function g(){return l.strictSchema===!1?ht.nil:(0,ht._)`${a} && !${m}`}function w(){const P=c.$async?(0,ht._)`(${_}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,ht._)`${m}(${n})`,A=(0,ht._)`(typeof ${m} == "function" ? ${P} : ${m}.test(${n}))`;return(0,ht._)`${m} && ${m} !== true && ${f} === ${e} && !${A}`}}function p(){const y=d.formats[o];if(!y){g();return}if(y===!0)return;const[_,f,m]=w(y);_===e&&t.pass(P());function g(){if(l.strictSchema===!1){d.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function w(A){const S=A instanceof RegExp?(0,ht.regexpCode)(A):l.code.formats?(0,ht._)`${l.code.formats}${(0,ht.getProperty)(o)}`:void 0,M=r.scopeValue("formats",{key:o,ref:A,code:S});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,ht._)`${M}.validate`]:["string",A,M]}function P(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!c.$async)throw new Error("async format in sync schema");return(0,ht._)`await ${m}(${n})`}return typeof f=="function"?(0,ht._)`${m}(${n})`:(0,ht._)`${m}.test(${n})`}}}};var Fj=df.default=Aj,Lj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Fj},[df])),Dj=O(Lj);Object.defineProperty(cf,"__esModule",{value:!0});const zj=Dj,qj=[zj.default];var Uj=cf.default=qj,Bj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Uj},[cf])),Hj=O(Bj),ci={};Object.defineProperty(ci,"__esModule",{value:!0});var _g=ci.contentVocabulary=yg=ci.metadataVocabulary=void 0,yg=ci.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];_g=ci.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];var Kj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get contentVocabulary(){return _g},get metadataVocabulary(){return yg},default:ci},[ci])),Vj=O(Kj);Object.defineProperty(Od,"__esModule",{value:!0});const Wj=yR,Gj=UN,Xj=Ij,Jj=Hj,vg=Vj,Yj=[Wj.default,Gj.default,(0,Xj.default)(),Jj.default,vg.metadataVocabulary,vg.contentVocabulary];var Qj=Od.default=Yj,Zj=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Qj},[Od])),eA=O(Zj),ff={},hf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(hf);var tA=Pe(hf),rA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:tA},[hf])),nA=O(rA);Object.defineProperty(ff,"__esModule",{value:!0});const Gi=Re,pf=nA,iA={message:({params:{discrError:t,tagName:e}})=>t===pf.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Gi._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},oA={keyword:"discriminator",type:"object",schemaType:"object",error:iA,code(t){const{gen:e,data:r,schema:n,parentSchema:i,it:o}=t,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),u=e.const("tag",(0,Gi._)`${r}${(0,Gi.getProperty)(s)}`);e.if((0,Gi._)`typeof ${u} == "string"`,()=>c(),()=>t.error(!1,{discrError:pf.DiscrError.Tag,tag:u,tagName:s})),t.ok(l);function c(){const p=h();e.if(!1);for(const y in p)e.elseIf((0,Gi._)`${u} === ${y}`),e.assign(l,d(p[y]));e.else(),t.error(!1,{discrError:pf.DiscrError.Mapping,tag:u,tagName:s}),e.endIf()}function d(p){const y=e.name("valid"),_=t.subschema({keyword:"oneOf",schemaProp:p},y);return t.mergeEvaluated(_,Gi.Name),y}function h(){var p;const y={},_=m(i);let f=!0;for(let P=0;P<a.length;P++){const A=a[P],S=(p=A.properties)===null||p===void 0?void 0:p[s];if(typeof S!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${s}"`);f=f&&(_||m(A)),g(S,P)}if(!f)throw new Error(`discriminator: "${s}" must be required`);return y;function m({required:P}){return Array.isArray(P)&&P.includes(s)}function g(P,A){if(P.const)w(P.const,A);else if(P.enum)for(const S of P.enum)w(S,A);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function w(P,A){if(typeof P!="string"||P in y)throw new Error(`discriminator: "${s}" values must be unique strings`);y[P]=A}}}};var aA=ff.default=oA,sA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aA},[ff])),uA=O(sA);const lA="http://json-schema.org/draft-07/schema#",cA="http://json-schema.org/draft-07/schema#",dA="Core schema meta-schema",fA={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},hA=["object","boolean"],pA={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var mA={$schema:lA,$id:cA,title:dA,definitions:fA,type:hA,properties:pA,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=rR,n=eA,i=uA,o=mA,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(h,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=Ou;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=Re;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}})})(_u,_u.exports);var _A=Pe(_u.exports),yA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_A},[_u.exports])),vA=O(yA),Uu={exports:{}},mf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(W,z){return{validate:W,compare:z}}t.fullFormats={date:e(o,a),time:e(l,u),"date-time":e(d,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:L,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:P},int64:{type:"number",validate:A},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},t.fastFormats=ot(ge({},t.fullFormats),{date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),t.formatNames=Object.keys(t.fullFormats);function r(W){return W%4==0&&(W%100!=0||W%400==0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(W){const z=n.exec(W);if(!z)return!1;const Z=+z[1],G=+z[2],ae=+z[3];return G>=1&&G<=12&&ae>=1&&ae<=(G===2&&r(Z)?29:i[G])}function a(W,z){if(!!(W&&z))return W>z?1:W<z?-1:0}const s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(W,z){const Z=s.exec(W);if(!Z)return!1;const G=+Z[1],ae=+Z[2],se=+Z[3],ce=Z[5];return(G<=23&&ae<=59&&se<=59||G===23&&ae===59&&se===60)&&(!z||ce!=="")}function u(W,z){if(!(W&&z))return;const Z=s.exec(W),G=s.exec(z);if(!!(Z&&G))return W=Z[1]+Z[2]+Z[3]+(Z[4]||""),z=G[1]+G[2]+G[3]+(G[4]||""),W>z?1:W<z?-1:0}const c=/t|\s/i;function d(W){const z=W.split(c);return z.length===2&&o(z[0])&&l(z[1],!0)}function h(W,z){if(!(W&&z))return;const[Z,G]=W.split(c),[ae,se]=z.split(c),ce=a(Z,ae);if(ce!==void 0)return ce||u(G,se)}const p=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(W){return p.test(W)&&y.test(W)}const f=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(W){return f.lastIndex=0,f.test(W)}const g=-(2**31),w=2**31-1;function P(W){return Number.isInteger(W)&&W<=w&&W>=g}function A(W){return Number.isInteger(W)}function S(){return!0}const M=/[^\\]\\Z/;function L(W){if(M.test(W))return!1;try{return new RegExp(W),!0}catch(z){return!1}}})(mf);var gA=Pe(mf),bA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:gA},[mf])),$A=O(bA),_f={},Bu={exports:{}},yf={},en={},di={},vf={},gf={},bf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(m){super();if(!t.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(m){super();this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((g,w)=>`${g}${w}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((g,w)=>(w instanceof r&&(g[w.str]=(g[w.str]||0)+1),g),{})}}t._Code=n,t.nil=new n("");function i(f,...m){const g=[f[0]];let w=0;for(;w<m.length;)s(g,m[w]),g.push(f[++w]);return new n(g)}t._=i;const o=new n("+");function a(f,...m){const g=[p(f[0])];let w=0;for(;w<m.length;)g.push(o),s(g,m[w]),g.push(o,p(f[++w]));return l(g),new n(g)}t.str=a;function s(f,m){m instanceof n?f.push(...m._items):m instanceof r?f.push(m):f.push(d(m))}t.addCodeArg=s;function l(f){let m=1;for(;m<f.length-1;){if(f[m]===o){const g=u(f[m-1],f[m+1]);if(g!==void 0){f.splice(m-1,3,g);continue}f[m++]="+"}m++}}function u(f,m){if(m==='""')return f;if(f==='""')return m;if(typeof f=="string")return m instanceof r||f[f.length-1]!=='"'?void 0:typeof m!="string"?`${f.slice(0,-1)}${m}"`:m[0]==='"'?f.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(f instanceof r))return`"${f}${m.slice(1)}`}function c(f,m){return m.emptyStr()?f:f.emptyStr()?m:a`${f}${m}`}t.strConcat=c;function d(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:p(Array.isArray(f)?f.join(","):f)}function h(f){return new n(p(f))}t.stringify=h;function p(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function y(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new n(`.${f}`):i`[${f}]`}t.getProperty=y;function _(f){return new n(f.toString())}t.regexpCode=_})(bf);var wA=Pe(bf),SA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:wA},[bf])),Hu=O(SA),$f={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Hu;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`);this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0?void 0:d.has(u))||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=i;class o extends e.Name{constructor(u,c){super(c);this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(c)}[${d}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class s extends i{constructor(u){super(u);this._values={},this._scope=u.scope,this.opts=ot(ge({},u),{_n:u.lines?a:e.nil})}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:p}=h,y=(d=c.key)!==null&&d!==void 0?d:c.ref;let _=this._values[p];if(_){const g=_.get(y);if(g)return g}else _=this._values[p]=new Map;_.set(y,h);const f=this._scope[p]||(this._scope[p]=[]),m=f.length;return f[m]=c.ref,h.setValue(c,{property:p,itemIndex:m}),h}getValue(u,c){const d=this._values[u];if(!!d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,d)}_reduceValues(u,c,d={},h){let p=e.nil;for(const y in u){const _=u[y];if(!_)continue;const f=d[y]=d[y]||new Map;_.forEach(m=>{if(f.has(m))return;f.set(m,n.Started);let g=c(m);if(g){const w=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${w} ${m} = ${g};${this.opts._n}`}else if(g=h==null?void 0:h(m))p=(0,e._)`${p}${g}${this.opts._n}`;else throw new r(m);f.set(m,n.Completed)})}return p}}t.ValueScope=s})($f);var EA=Pe($f),TA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:EA},[$f])),gg=O(TA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Hu,r=gg;var n=Hu;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=gg;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(v,T){return this}}class a extends o{constructor(v,T,F){super();this.varKind=v,this.name=T,this.rhs=F}render({es5:v,_n:T}){const F=v?r.varKinds.var:this.varKind,ee=this.rhs===void 0?"":` = ${this.rhs}`;return`${F} ${this.name}${ee};`+T}optimizeNames(v,T){if(!!v[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,v,T)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(v,T,F){super();this.lhs=v,this.rhs=T,this.sideEffects=F}render({_n:v}){return`${this.lhs} = ${this.rhs};`+v}optimizeNames(v,T){if(!(this.lhs instanceof e.Name&&!v[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,v,T),this}get names(){const v=this.lhs instanceof e.Name?{}:ge({},this.lhs.names);return ae(v,this.rhs)}}class l extends s{constructor(v,T,F,ee){super(v,F,ee);this.op=T}render({_n:v}){return`${this.lhs} ${this.op}= ${this.rhs};`+v}}class u extends o{constructor(v){super();this.label=v,this.names={}}render({_n:v}){return`${this.label}:`+v}}class c extends o{constructor(v){super();this.label=v,this.names={}}render({_n:v}){return`break${this.label?` ${this.label}`:""};`+v}}class d extends o{constructor(v){super();this.error=v}render({_n:v}){return`throw ${this.error};`+v}get names(){return this.error.names}}class h extends o{constructor(v){super();this.code=v}render({_n:v}){return`${this.code};`+v}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(v,T){return this.code=se(this.code,v,T),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends o{constructor(v=[]){super();this.nodes=v}render(v){return this.nodes.reduce((T,F)=>T+F.render(v),"")}optimizeNodes(){const{nodes:v}=this;let T=v.length;for(;T--;){const F=v[T].optimizeNodes();Array.isArray(F)?v.splice(T,1,...F):F?v[T]=F:v.splice(T,1)}return v.length>0?this:void 0}optimizeNames(v,T){const{nodes:F}=this;let ee=F.length;for(;ee--;){const X=F[ee];X.optimizeNames(v,T)||(ce(v,X.names),F.splice(ee,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((v,T)=>G(v,T.names),{})}}class y extends p{render(v){return"{"+v._n+super.render(v)+"}"+v._n}}class _ extends p{}class f extends y{}f.kind="else";class m extends y{constructor(v,T){super(T);this.condition=v}render(v){let T=`if(${this.condition})`+super.render(v);return this.else&&(T+="else "+this.else.render(v)),T}optimizeNodes(){super.optimizeNodes();const v=this.condition;if(v===!0)return this.nodes;let T=this.else;if(T){const F=T.optimizeNodes();T=this.else=Array.isArray(F)?new f(F):F}if(T)return v===!1?T instanceof m?T:T.nodes:this.nodes.length?this:new m(ye(v),T instanceof m?[T]:T.nodes);if(!(v===!1||!this.nodes.length))return this}optimizeNames(v,T){var F;if(this.else=(F=this.else)===null||F===void 0?void 0:F.optimizeNames(v,T),!!(super.optimizeNames(v,T)||this.else))return this.condition=se(this.condition,v,T),this}get names(){const v=super.names;return ae(v,this.condition),this.else&&G(v,this.else.names),v}}m.kind="if";class g extends y{}g.kind="for";class w extends g{constructor(v){super();this.iteration=v}render(v){return`for(${this.iteration})`+super.render(v)}optimizeNames(v,T){if(!!super.optimizeNames(v,T))return this.iteration=se(this.iteration,v,T),this}get names(){return G(super.names,this.iteration.names)}}class P extends g{constructor(v,T,F,ee){super();this.varKind=v,this.name=T,this.from=F,this.to=ee}render(v){const T=v.es5?r.varKinds.var:this.varKind,{name:F,from:ee,to:X}=this;return`for(${T} ${F}=${ee}; ${F}<${X}; ${F}++)`+super.render(v)}get names(){const v=ae(super.names,this.from);return ae(v,this.to)}}class A extends g{constructor(v,T,F,ee){super();this.loop=v,this.varKind=T,this.name=F,this.iterable=ee}render(v){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(v)}optimizeNames(v,T){if(!!super.optimizeNames(v,T))return this.iterable=se(this.iterable,v,T),this}get names(){return G(super.names,this.iterable.names)}}class S extends y{constructor(v,T,F){super();this.name=v,this.args=T,this.async=F}render(v){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(v)}}S.kind="func";class M extends p{render(v){return"return "+super.render(v)}}M.kind="return";class L extends y{render(v){let T="try"+super.render(v);return this.catch&&(T+=this.catch.render(v)),this.finally&&(T+=this.finally.render(v)),T}optimizeNodes(){var v,T;return super.optimizeNodes(),(v=this.catch)===null||v===void 0||v.optimizeNodes(),(T=this.finally)===null||T===void 0||T.optimizeNodes(),this}optimizeNames(v,T){var F,ee;return super.optimizeNames(v,T),(F=this.catch)===null||F===void 0||F.optimizeNames(v,T),(ee=this.finally)===null||ee===void 0||ee.optimizeNames(v,T),this}get names(){const v=super.names;return this.catch&&G(v,this.catch.names),this.finally&&G(v,this.finally.names),v}}class W extends y{constructor(v){super();this.error=v}render(v){return`catch(${this.error})`+super.render(v)}}W.kind="catch";class z extends y{render(v){return"finally"+super.render(v)}}z.kind="finally";class Z{constructor(v,T={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ot(ge({},T),{_n:T.lines?`
`:""}),this._extScope=v,this._scope=new r.Scope({parent:v}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(v){return this._scope.name(v)}scopeName(v){return this._extScope.name(v)}scopeValue(v,T){const F=this._extScope.value(v,T);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(v,T){return this._extScope.getValue(v,T)}scopeRefs(v){return this._extScope.scopeRefs(v,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(v,T,F,ee){const X=this._scope.toName(T);return F!==void 0&&ee&&(this._constants[X.str]=F),this._leafNode(new a(v,X,F)),X}const(v,T,F){return this._def(r.varKinds.const,v,T,F)}let(v,T,F){return this._def(r.varKinds.let,v,T,F)}var(v,T,F){return this._def(r.varKinds.var,v,T,F)}assign(v,T,F){return this._leafNode(new s(v,T,F))}add(v,T){return this._leafNode(new l(v,t.operators.ADD,T))}code(v){return typeof v=="function"?v():v!==e.nil&&this._leafNode(new h(v)),this}object(...v){const T=["{"];for(const[F,ee]of v)T.length>1&&T.push(","),T.push(F),(F!==ee||this.opts.es5)&&(T.push(":"),(0,e.addCodeArg)(T,ee));return T.push("}"),new e._Code(T)}if(v,T,F){if(this._blockNode(new m(v)),T&&F)this.code(T).else().code(F).endIf();else if(T)this.code(T).endIf();else if(F)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(v){return this._elseNode(new m(v))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(m,f)}_for(v,T){return this._blockNode(v),T&&this.code(T).endFor(),this}for(v,T){return this._for(new w(v),T)}forRange(v,T,F,ee,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const oe=this._scope.toName(v);return this._for(new P(X,oe,T,F),()=>ee(oe))}forOf(v,T,F,ee=r.varKinds.const){const X=this._scope.toName(v);if(this.opts.es5){const oe=T instanceof e.Name?T:this.var("_arr",T);return this.forRange("_i",0,(0,e._)`${oe}.length`,Ge=>{this.var(X,(0,e._)`${oe}[${Ge}]`),F(X)})}return this._for(new A("of",ee,X,T),()=>F(X))}forIn(v,T,F,ee=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(v,(0,e._)`Object.keys(${T})`,F);const X=this._scope.toName(v);return this._for(new A("in",ee,X,T),()=>F(X))}endFor(){return this._endBlockNode(g)}label(v){return this._leafNode(new u(v))}break(v){return this._leafNode(new c(v))}return(v){const T=new M;if(this._blockNode(T),this.code(v),T.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}try(v,T,F){if(!T&&!F)throw new Error('CodeGen: "try" without "catch" and "finally"');const ee=new L;if(this._blockNode(ee),this.code(v),T){const X=this.name("e");this._currNode=ee.catch=new W(X),T(X)}return F&&(this._currNode=ee.finally=new z,this.code(F)),this._endBlockNode(W,z)}throw(v){return this._leafNode(new d(v))}block(v,T){return this._blockStarts.push(this._nodes.length),v&&this.code(v).endBlock(T),this}endBlock(v){const T=this._blockStarts.pop();if(T===void 0)throw new Error("CodeGen: not in self-balancing block");const F=this._nodes.length-T;if(F<0||v!==void 0&&F!==v)throw new Error(`CodeGen: wrong number of nodes: ${F} vs ${v} expected`);return this._nodes.length=T,this}func(v,T=e.nil,F,ee){return this._blockNode(new S(v,T,F)),ee&&this.code(ee).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(v=1){for(;v-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(v){return this._currNode.nodes.push(v),this}_blockNode(v){this._currNode.nodes.push(v),this._nodes.push(v)}_endBlockNode(v,T){const F=this._currNode;if(F instanceof v||T&&F instanceof T)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${T?`${v.kind}/${T.kind}`:v.kind}"`)}_elseNode(v){const T=this._currNode;if(!(T instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=T.else=v,this}get _root(){return this._nodes[0]}get _currNode(){const v=this._nodes;return v[v.length-1]}set _currNode(v){const T=this._nodes;T[T.length-1]=v}}t.CodeGen=Z;function G(D,v){for(const T in v)D[T]=(D[T]||0)+(v[T]||0);return D}function ae(D,v){return v instanceof e._CodeOrName?G(D,v.names):D}function se(D,v,T){if(D instanceof e.Name)return F(D);if(!ee(D))return D;return new e._Code(D._items.reduce((X,oe)=>(oe instanceof e.Name&&(oe=F(oe)),oe instanceof e._Code?X.push(...oe._items):X.push(oe),X),[]));function F(X){const oe=T[X.str];return oe===void 0||v[X.str]!==1?X:(delete v[X.str],oe)}function ee(X){return X instanceof e._Code&&X._items.some(oe=>oe instanceof e.Name&&v[oe.str]===1&&T[oe.str]!==void 0)}}function ce(D,v){for(const T in v)D[T]=(D[T]||0)-(v[T]||0)}function ye(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,e._)`!${B(D)}`}t.not=ye;const de=I(t.operators.AND);function N(...D){return D.reduce(de)}t.and=N;const E=I(t.operators.OR);function k(...D){return D.reduce(E)}t.or=k;function I(D){return(v,T)=>v===e.nil?T:T===e.nil?v:(0,e._)`${B(v)} ${D} ${B(T)}`}function B(D){return D instanceof e.Name?D:(0,e._)`(${D})`}})(gf);var PA=Pe(gf),OA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:PA},[gf])),Ce=O(OA),wf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Ce,r=Hu;function n(S){const M={};for(const L of S)M[L]=!0;return M}t.toHash=n;function i(S,M){return typeof M=="boolean"?M:Object.keys(M).length===0?!0:(o(S,M),!a(M,S.self.RULES.all))}t.alwaysValidSchema=i;function o(S,M=S.schema){const{opts:L,self:W}=S;if(!L.strictSchema||typeof M=="boolean")return;const z=W.RULES.keywords;for(const Z in M)z[Z]||A(S,`unknown keyword: "${Z}"`)}t.checkUnknownRules=o;function a(S,M){if(typeof S=="boolean")return!S;for(const L in S)if(M[L])return!0;return!1}t.schemaHasRules=a;function s(S,M){if(typeof S=="boolean")return!S;for(const L in S)if(L!=="$ref"&&M.all[L])return!0;return!1}t.schemaHasRulesButRef=s;function l({topSchemaRef:S,schemaPath:M},L,W,z){if(!z){if(typeof L=="number"||typeof L=="boolean")return L;if(typeof L=="string")return(0,e._)`${L}`}return(0,e._)`${S}${M}${(0,e.getProperty)(W)}`}t.schemaRefOrVal=l;function u(S){return h(decodeURIComponent(S))}t.unescapeFragment=u;function c(S){return encodeURIComponent(d(S))}t.escapeFragment=c;function d(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=d;function h(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=h;function p(S,M){if(Array.isArray(S))for(const L of S)M(L);else M(S)}t.eachItem=p;function y({mergeNames:S,mergeToName:M,mergeValues:L,resultToName:W}){return(z,Z,G,ae)=>{const se=G===void 0?Z:G instanceof e.Name?(Z instanceof e.Name?S(z,Z,G):M(z,Z,G),G):Z instanceof e.Name?(M(z,G,Z),Z):L(Z,G);return ae===e.Name&&!(se instanceof e.Name)?W(z,se):se}}t.mergeEvaluated={props:y({mergeNames:(S,M,L)=>S.if((0,e._)`${L} !== true && ${M} !== undefined`,()=>{S.if((0,e._)`${M} === true`,()=>S.assign(L,!0),()=>S.assign(L,(0,e._)`${L} || {}`).code((0,e._)`Object.assign(${L}, ${M})`))}),mergeToName:(S,M,L)=>S.if((0,e._)`${L} !== true`,()=>{M===!0?S.assign(L,!0):(S.assign(L,(0,e._)`${L} || {}`),f(S,L,M))}),mergeValues:(S,M)=>S===!0?!0:ge(ge({},S),M),resultToName:_}),items:y({mergeNames:(S,M,L)=>S.if((0,e._)`${L} !== true && ${M} !== undefined`,()=>S.assign(L,(0,e._)`${M} === true ? true : ${L} > ${M} ? ${L} : ${M}`)),mergeToName:(S,M,L)=>S.if((0,e._)`${L} !== true`,()=>S.assign(L,M===!0?!0:(0,e._)`${L} > ${M} ? ${L} : ${M}`)),mergeValues:(S,M)=>S===!0?!0:Math.max(S,M),resultToName:(S,M)=>S.var("items",M)})};function _(S,M){if(M===!0)return S.var("props",!0);const L=S.var("props",(0,e._)`{}`);return M!==void 0&&f(S,L,M),L}t.evaluatedPropsToName=_;function f(S,M,L){Object.keys(L).forEach(W=>S.assign((0,e._)`${M}${(0,e.getProperty)(W)}`,!0))}t.setEvaluated=f;const m={};function g(S,M){return S.scopeValue("func",{ref:M,code:m[M.code]||(m[M.code]=new r._Code(M.code))})}t.useFunc=g;var w;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(w=t.Type||(t.Type={}));function P(S,M,L){if(S instanceof e.Name){const W=M===w.Num;return L?W?(0,e._)`"[" + ${S} + "]"`:(0,e._)`"['" + ${S} + "']"`:W?(0,e._)`"/" + ${S}`:(0,e._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return L?(0,e.getProperty)(S).toString():"/"+d(S)}t.getErrorPath=P;function A(S,M,L=S.opts.strictSchema){if(!!L){if(M=`strict mode: ${M}`,L===!0)throw new Error(M);S.self.logger.warn(M)}}t.checkStrictMode=A})(wf);var CA=Pe(wf),MA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:CA},[wf])),qe=O(MA),Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const xt=Ce,kA={data:new xt.Name("data"),valCxt:new xt.Name("valCxt"),instancePath:new xt.Name("instancePath"),parentData:new xt.Name("parentData"),parentDataProperty:new xt.Name("parentDataProperty"),rootData:new xt.Name("rootData"),dynamicAnchors:new xt.Name("dynamicAnchors"),vErrors:new xt.Name("vErrors"),errors:new xt.Name("errors"),this:new xt.Name("this"),self:new xt.Name("self"),scope:new xt.Name("scope"),json:new xt.Name("json"),jsonPos:new xt.Name("jsonPos"),jsonLen:new xt.Name("jsonLen"),jsonPart:new xt.Name("jsonPart")};var xA=Sf.default=kA,RA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:xA},[Sf])),Mn=O(RA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Ce,r=qe,n=Mn;t.keywordError={message:({keyword:f})=>(0,e.str)`must pass "${f}" keyword validation`},t.keyword$DataError={message:({keyword:f,schemaType:m})=>m?(0,e.str)`"${f}" keyword must be ${m} ($data)`:(0,e.str)`"${f}" keyword is invalid ($data)`};function i(f,m=t.keywordError,g,w){const{it:P}=f,{gen:A,compositeRule:S,allErrors:M}=P,L=d(f,m,g);(w!=null?w:S||M)?l(A,L):u(P,(0,e._)`[${L}]`)}t.reportError=i;function o(f,m=t.keywordError,g){const{it:w}=f,{gen:P,compositeRule:A,allErrors:S}=w,M=d(f,m,g);l(P,M),A||S||u(w,n.default.vErrors)}t.reportExtraError=o;function a(f,m){f.assign(n.default.errors,m),f.if((0,e._)`${n.default.vErrors} !== null`,()=>f.if(m,()=>f.assign((0,e._)`${n.default.vErrors}.length`,m),()=>f.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function s({gen:f,keyword:m,schemaValue:g,data:w,errsCount:P,it:A}){if(P===void 0)throw new Error("ajv implementation error");const S=f.name("err");f.forRange("i",P,n.default.errors,M=>{f.const(S,(0,e._)`${n.default.vErrors}[${M}]`),f.if((0,e._)`${S}.instancePath === undefined`,()=>f.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(n.default.instancePath,A.errorPath))),f.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${m}`),A.opts.verbose&&(f.assign((0,e._)`${S}.schema`,g),f.assign((0,e._)`${S}.data`,w))})}t.extendErrors=s;function l(f,m){const g=f.const("err",m);f.if((0,e._)`${n.default.vErrors} === null`,()=>f.assign(n.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${n.default.vErrors}.push(${g})`),f.code((0,e._)`${n.default.errors}++`)}function u(f,m){const{gen:g,validateName:w,schemaEnv:P}=f;P.$async?g.throw((0,e._)`new ${f.ValidationError}(${m})`):(g.assign((0,e._)`${w}.errors`,m),g.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(f,m,g){const{createErrors:w}=f.it;return w===!1?(0,e._)`{}`:h(f,m,g)}function h(f,m,g={}){const{gen:w,it:P}=f,A=[p(P,g),y(f,g)];return _(f,m,A),w.object(...A)}function p({errorPath:f},{instancePath:m}){const g=m?(0,e.str)`${f}${(0,r.getErrorPath)(m,r.Type.Str)}`:f;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,g)]}function y({keyword:f,it:{errSchemaPath:m}},{schemaPath:g,parentSchema:w}){let P=w?m:(0,e.str)`${m}/${f}`;return g&&(P=(0,e.str)`${P}${(0,r.getErrorPath)(g,r.Type.Str)}`),[c.schemaPath,P]}function _(f,{params:m,message:g},w){const{keyword:P,data:A,schemaValue:S,it:M}=f,{opts:L,propertyName:W,topSchemaRef:z,schemaPath:Z}=M;w.push([c.keyword,P],[c.params,typeof m=="function"?m(f):m||(0,e._)`{}`]),L.messages&&w.push([c.message,typeof g=="function"?g(f):g]),L.verbose&&w.push([c.schema,S],[c.parentSchema,(0,e._)`${z}${Z}`],[n.default.data,A]),W&&w.push([c.propertyName,W])}})(vf);var NA=Pe(vf),IA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:NA},[vf])),Ku=O(IA);Object.defineProperty(di,"__esModule",{value:!0});var bg=di.boolOrEmptySchema=$g=di.topBoolOrEmptySchema=void 0;const jA=Ku,AA=Ce,FA=Mn,LA={message:"boolean schema is false"};function DA(t){const{gen:e,schema:r,validateName:n}=t;r===!1?wg(t,!1):typeof r=="object"&&r.$async===!0?e.return(FA.default.data):(e.assign((0,AA._)`${n}.errors`,null),e.return(!0))}var $g=di.topBoolOrEmptySchema=DA;function zA(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),wg(t)):r.var(e,!0)}bg=di.boolOrEmptySchema=zA;function wg(t,e){const{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,jA.reportError)(i,LA,void 0,e)}var qA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get boolOrEmptySchema(){return bg},get topBoolOrEmptySchema(){return $g},default:di},[di])),UA=O(qA),Ef={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});var Sg=fi.getRules=Eg=fi.isJSONType=void 0;const BA=["string","number","integer","boolean","null","object","array"],HA=new Set(BA);function KA(t){return typeof t=="string"&&HA.has(t)}var Eg=fi.isJSONType=KA;function VA(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ot(ge({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Sg=fi.getRules=VA;var WA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getRules(){return Sg},get isJSONType(){return Eg},default:fi},[fi])),Tg=O(WA),tn={};Object.defineProperty(tn,"__esModule",{value:!0});var Pg=tn.shouldUseRule=Mg=tn.shouldUseGroup=Og=tn.schemaHasRulesForType=void 0;function GA({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&Cg(t,n)}var Og=tn.schemaHasRulesForType=GA;function Cg(t,e){return e.rules.some(r=>kg(t,r))}var Mg=tn.shouldUseGroup=Cg;function kg(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Pg=tn.shouldUseRule=kg;var XA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get shouldUseRule(){return Pg},get shouldUseGroup(){return Mg},get schemaHasRulesForType(){return Og},default:tn},[tn])),xg=O(XA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=Tg,r=xg,n=Ku,i=Ce,o=qe;var a;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function s(w){const P=l(w.type);if(P.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!P.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&P.push("null")}return P}t.getSchemaTypes=s;function l(w){const P=Array.isArray(w)?w:w?[w]:[];if(P.every(e.isJSONType))return P;throw new Error("type must be JSONType or JSONType[]: "+P.join(","))}t.getJSONTypes=l;function u(w,P){const{gen:A,data:S,opts:M}=w,L=d(P,M.coerceTypes),W=P.length>0&&!(L.length===0&&P.length===1&&(0,r.schemaHasRulesForType)(w,P[0]));if(W){const z=_(P,S,M.strictNumbers,a.Wrong);A.if(z,()=>{L.length?h(w,P,L):m(w)})}return W}t.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function d(w,P){return P?w.filter(A=>c.has(A)||P==="array"&&A==="array"):[]}function h(w,P,A){const{gen:S,data:M,opts:L}=w,W=S.let("dataType",(0,i._)`typeof ${M}`),z=S.let("coerced",(0,i._)`undefined`);L.coerceTypes==="array"&&S.if((0,i._)`${W} == 'object' && Array.isArray(${M}) && ${M}.length == 1`,()=>S.assign(M,(0,i._)`${M}[0]`).assign(W,(0,i._)`typeof ${M}`).if(_(P,M,L.strictNumbers),()=>S.assign(z,M))),S.if((0,i._)`${z} !== undefined`);for(const G of A)(c.has(G)||G==="array"&&L.coerceTypes==="array")&&Z(G);S.else(),m(w),S.endIf(),S.if((0,i._)`${z} !== undefined`,()=>{S.assign(M,z),p(w,z)});function Z(G){switch(G){case"string":S.elseIf((0,i._)`${W} == "number" || ${W} == "boolean"`).assign(z,(0,i._)`"" + ${M}`).elseIf((0,i._)`${M} === null`).assign(z,(0,i._)`""`);return;case"number":S.elseIf((0,i._)`${W} == "boolean" || ${M} === null
              || (${W} == "string" && ${M} && ${M} == +${M})`).assign(z,(0,i._)`+${M}`);return;case"integer":S.elseIf((0,i._)`${W} === "boolean" || ${M} === null
              || (${W} === "string" && ${M} && ${M} == +${M} && !(${M} % 1))`).assign(z,(0,i._)`+${M}`);return;case"boolean":S.elseIf((0,i._)`${M} === "false" || ${M} === 0 || ${M} === null`).assign(z,!1).elseIf((0,i._)`${M} === "true" || ${M} === 1`).assign(z,!0);return;case"null":S.elseIf((0,i._)`${M} === "" || ${M} === 0 || ${M} === false`),S.assign(z,null);return;case"array":S.elseIf((0,i._)`${W} === "string" || ${W} === "number"
              || ${W} === "boolean" || ${M} === null`).assign(z,(0,i._)`[${M}]`)}}}function p({gen:w,parentData:P,parentDataProperty:A},S){w.if((0,i._)`${P} !== undefined`,()=>w.assign((0,i._)`${P}[${A}]`,S))}function y(w,P,A,S=a.Correct){const M=S===a.Correct?i.operators.EQ:i.operators.NEQ;let L;switch(w){case"null":return(0,i._)`${P} ${M} null`;case"array":L=(0,i._)`Array.isArray(${P})`;break;case"object":L=(0,i._)`${P} && typeof ${P} == "object" && !Array.isArray(${P})`;break;case"integer":L=W((0,i._)`!(${P} % 1) && !isNaN(${P})`);break;case"number":L=W();break;default:return(0,i._)`typeof ${P} ${M} ${w}`}return S===a.Correct?L:(0,i.not)(L);function W(z=i.nil){return(0,i.and)((0,i._)`typeof ${P} == "number"`,z,A?(0,i._)`isFinite(${P})`:i.nil)}}t.checkDataType=y;function _(w,P,A,S){if(w.length===1)return y(w[0],P,A,S);let M;const L=(0,o.toHash)(w);if(L.array&&L.object){const W=(0,i._)`typeof ${P} != "object"`;M=L.null?W:(0,i._)`!${P} || ${W}`,delete L.null,delete L.array,delete L.object}else M=i.nil;L.number&&delete L.integer;for(const W in L)M=(0,i.and)(M,y(W,P,A,S));return M}t.checkDataTypes=_;const f={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:P})=>typeof w=="string"?(0,i._)`{type: ${w}}`:(0,i._)`{type: ${P}}`};function m(w){const P=g(w);(0,n.reportError)(P,f)}t.reportTypeError=m;function g(w){const{gen:P,data:A,schema:S}=w,M=(0,o.schemaRefOrVal)(w,S,"type");return{gen:P,keyword:"type",data:A,schema:S.type,schemaCode:M,schemaValue:M,parentSchema:S,params:{},it:w}}})(Ef);var JA=Pe(Ef),YA=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:JA},[Ef])),Vu=O(YA),ra={};Object.defineProperty(ra,"__esModule",{value:!0});var Rg=ra.assignDefaults=void 0;const Xi=Ce,QA=qe;function ZA(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const i in r)Ng(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,o)=>Ng(t,o,i.default))}Rg=ra.assignDefaults=ZA;function Ng(t,e,r){const{gen:n,compositeRule:i,data:o,opts:a}=t;if(r===void 0)return;const s=(0,Xi._)`${o}${(0,Xi.getProperty)(e)}`;if(i){(0,QA.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,Xi._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,Xi._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,Xi._)`${s} = ${(0,Xi.stringify)(r)}`)}var e2=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get assignDefaults(){return Rg},default:ra},[ra])),t2=O(e2),yr={},He={};Object.defineProperty(He,"__esModule",{value:!0});var Ig=He.validateUnion=Gg=He.validateArray=Wg=He.usePattern=Vg=He.callValidateCode=Kg=He.schemaProperties=Hg=He.allSchemaProperties=Ug=He.noPropertyInData=qg=He.propertyInData=zg=He.isOwnProperty=Dg=He.hasPropFunc=Fg=He.reportMissingProp=Ag=He.checkMissingProp=jg=He.checkReportMissingProp=void 0;const nt=Ce,Tf=qe,kn=Mn;function r2(t,e){const{gen:r,data:n,it:i}=t;r.if(Of(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,nt._)`${e}`},!0),t.error()})}var jg=He.checkReportMissingProp=r2;function n2({gen:t,data:e,it:{opts:r}},n,i){return(0,nt.or)(...n.map(o=>(0,nt.and)(Of(t,e,o,r.ownProperties),(0,nt._)`${i} = ${o}`)))}var Ag=He.checkMissingProp=n2;function i2(t,e){t.setParams({missingProperty:e},!0),t.error()}var Fg=He.reportMissingProp=i2;function Lg(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,nt._)`Object.prototype.hasOwnProperty`})}var Dg=He.hasPropFunc=Lg;function Pf(t,e,r){return(0,nt._)`${Lg(t)}.call(${e}, ${r})`}var zg=He.isOwnProperty=Pf;function o2(t,e,r,n){const i=(0,nt._)`${e}${(0,nt.getProperty)(r)} !== undefined`;return n?(0,nt._)`${i} && ${Pf(t,e,r)}`:i}var qg=He.propertyInData=o2;function Of(t,e,r,n){const i=(0,nt._)`${e}${(0,nt.getProperty)(r)} === undefined`;return n?(0,nt.or)(i,(0,nt.not)(Pf(t,e,r))):i}var Ug=He.noPropertyInData=Of;function Bg(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}var Hg=He.allSchemaProperties=Bg;function a2(t,e){return Bg(e).filter(r=>!(0,Tf.alwaysValidSchema)(t,e[r]))}var Kg=He.schemaProperties=a2;function s2({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:a},s,l,u){const c=u?(0,nt._)`${t}, ${e}, ${n}${i}`:e,d=[[kn.default.instancePath,(0,nt.strConcat)(kn.default.instancePath,o)],[kn.default.parentData,a.parentData],[kn.default.parentDataProperty,a.parentDataProperty],[kn.default.rootData,kn.default.rootData]];a.opts.dynamicRef&&d.push([kn.default.dynamicAnchors,kn.default.dynamicAnchors]);const h=(0,nt._)`${c}, ${r.object(...d)}`;return l!==nt.nil?(0,nt._)`${s}.call(${l}, ${h})`:(0,nt._)`${s}(${h})`}var Vg=He.callValidateCode=s2;function u2({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:(0,nt._)`new RegExp(${r}, ${n})`})}var Wg=He.usePattern=u2;function l2(t){const{gen:e,data:r,keyword:n,it:i}=t,o=e.name("valid");if(i.allErrors){const s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){const l=e.const("len",(0,nt._)`${r}.length`);e.forRange("i",0,l,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:Tf.Type.Num},o),e.if((0,nt.not)(o),s)})}}var Gg=He.validateArray=l2;function c2(t){const{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Tf.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=e.let("valid",!1),s=e.name("_valid");e.block(()=>r.forEach((l,u)=>{const c=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},s);e.assign(a,(0,nt._)`${a} || ${s}`),t.mergeValidEvaluated(c,s)||e.if((0,nt.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Ig=He.validateUnion=c2;var d2=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateUnion(){return Ig},get validateArray(){return Gg},get usePattern(){return Wg},get callValidateCode(){return Vg},get schemaProperties(){return Kg},get allSchemaProperties(){return Hg},get noPropertyInData(){return Ug},get propertyInData(){return qg},get isOwnProperty(){return zg},get hasPropFunc(){return Dg},get reportMissingProp(){return Fg},get checkMissingProp(){return Ag},get checkReportMissingProp(){return jg},default:He},[He])),vr=O(d2);Object.defineProperty(yr,"__esModule",{value:!0});var Xg=yr.validateKeywordUsage=e0=yr.validSchemaType=Yg=yr.funcKeywordCode=Jg=yr.macroKeywordCode=void 0;const zt=Ce,hi=Mn,f2=vr,h2=Ku;function p2(t,e){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=t,s=e.macro.call(a.self,i,o,a),l=Zg(r,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const u=r.name("valid");t.subschema({schema:s,schemaPath:zt.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}var Jg=yr.macroKeywordCode=p2;function m2(t,e){var r;const{gen:n,keyword:i,schema:o,parentSchema:a,$data:s,it:l}=t;y2(l,e);const u=!s&&e.compile?e.compile.call(l.self,o,a,l):e.validate,c=Zg(n,i,u),d=n.let("valid");t.block$data(d,h),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function h(){if(e.errors===!1)_(),e.modifying&&Qg(t),f(()=>t.error());else{const m=e.async?p():y();e.modifying&&Qg(t),f(()=>_2(t,m))}}function p(){const m=n.let("ruleErrs",null);return n.try(()=>_((0,zt._)`await `),g=>n.assign(d,!1).if((0,zt._)`${g} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,zt._)`${g}.errors`),()=>n.throw(g))),m}function y(){const m=(0,zt._)`${c}.errors`;return n.assign(m,null),_(zt.nil),m}function _(m=e.async?(0,zt._)`await `:zt.nil){const g=l.opts.passContext?hi.default.this:hi.default.self,w=!("compile"in e&&!s||e.schema===!1);n.assign(d,(0,zt._)`${m}${(0,f2.callValidateCode)(t,c,g,w)}`,e.modifying)}function f(m){var g;n.if((0,zt.not)((g=e.valid)!==null&&g!==void 0?g:d),m)}}var Yg=yr.funcKeywordCode=m2;function Qg(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,zt._)`${n.parentData}[${n.parentDataProperty}]`))}function _2(t,e){const{gen:r}=t;r.if((0,zt._)`Array.isArray(${e})`,()=>{r.assign(hi.default.vErrors,(0,zt._)`${hi.default.vErrors} === null ? ${e} : ${hi.default.vErrors}.concat(${e})`).assign(hi.default.errors,(0,zt._)`${hi.default.vErrors}.length`),(0,h2.extendErrors)(t)},()=>t.error())}function y2({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Zg(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,zt.stringify)(r)})}function v2(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}var e0=yr.validSchemaType=v2;function g2({schema:t,opts:e,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(a==null?void 0:a.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Xg=yr.validateKeywordUsage=g2;var b2=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateKeywordUsage(){return Xg},get validSchemaType(){return e0},get funcKeywordCode(){return Yg},get macroKeywordCode(){return Jg},default:yr},[yr])),$2=O(b2),rn={};Object.defineProperty(rn,"__esModule",{value:!0});var t0=rn.extendSubschemaMode=i0=rn.extendSubschemaData=n0=rn.getSubschema=void 0;const zr=Ce,r0=qe;function w2(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const s=t.schema[e];return r===void 0?{schema:s,schemaPath:(0,zr._)`${t.schemaPath}${(0,zr.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:s[r],schemaPath:(0,zr._)`${t.schemaPath}${(0,zr.getProperty)(e)}${(0,zr.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,r0.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}var n0=rn.getSubschema=w2;function S2(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:a}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=e;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:d}=e,h=s.let("data",(0,zr._)`${e.data}${(0,zr.getProperty)(r)}`,!0);l(h),t.errorPath=(0,zr.str)`${u}${(0,r0.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,zr._)`${r}`,t.dataPathArr=[...c,t.parentDataProperty]}if(i!==void 0){const u=i instanceof zr.Name?i:s.let("data",i,!0);l(u),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}var i0=rn.extendSubschemaData=S2;function E2(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}t0=rn.extendSubschemaMode=E2;var T2=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get extendSubschemaMode(){return t0},get extendSubschemaData(){return i0},get getSubschema(){return n0},default:rn},[rn])),P2=O(T2),qt={},Cf={exports:{}},xn=Cf.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Wu(e,n,i,t,"",t)};xn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};xn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};xn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};xn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Wu(t,e,r,n,i,o,a,s,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,o,a,s,l,u);for(var c in n){var d=n[c];if(Array.isArray(d)){if(c in xn.arrayKeywords)for(var h=0;h<d.length;h++)Wu(t,e,r,d[h],i+"/"+c+"/"+h,o,i,c,n,h)}else if(c in xn.propsKeywords){if(d&&typeof d=="object")for(var p in d)Wu(t,e,r,d[p],i+"/"+c+"/"+O2(p),o,i,c,n,p)}else(c in xn.keywords||t.allKeys&&!(c in xn.skipKeywords))&&Wu(t,e,r,d,i+"/"+c,o,i,c,n)}r(n,i,o,a,s,l,u)}}function O2(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var C2=Cf.exports,M2=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:C2},[Cf.exports])),k2=O(M2);Object.defineProperty(qt,"__esModule",{value:!0});var o0=qt.getSchemaRefs=h0=qt.resolveUrl=f0=qt.normalizeId=d0=qt._getFullPath=l0=qt.getFullPath=a0=qt.inlineRef=void 0;const x2=qe,R2=bu,N2=k2,Gu=Su,I2=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function j2(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Mf(t):e?s0(t)<=e:!1}var a0=qt.inlineRef=j2;const A2=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Mf(t){for(const e in t){if(A2.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Mf)||typeof r=="object"&&Mf(r))return!0}return!1}function s0(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!I2.has(r)&&(typeof t[r]=="object"&&(0,x2.eachItem)(t[r],n=>e+=s0(n)),e===1/0))return 1/0}return e}function u0(t="",e){e!==!1&&(t=Ji(t));const r=Gu.parse(t);return c0(r)}var l0=qt.getFullPath=u0;function c0(t){return Gu.serialize(t).split("#")[0]+"#"}var d0=qt._getFullPath=c0;const F2=/#\/?$/;function Ji(t){return t?t.replace(F2,""):""}var f0=qt.normalizeId=Ji;function L2(t,e){return e=Ji(e),Gu.resolve(t,e)}var h0=qt.resolveUrl=L2;const D2=/^[a-z_][-a-z0-9._]*$/i;function z2(t,e){if(typeof t=="boolean")return{};const{schemaId:r}=this.opts,n=Ji(t[r]||e),i={"":n},o=u0(n,!1),a={},s=new Set;return N2(t,{allKeys:!0},(c,d,h,p)=>{if(p===void 0)return;const y=o+d;let _=i[p];typeof c[r]=="string"&&(_=f.call(this,c[r])),m.call(this,c.$anchor),m.call(this,c.$dynamicAnchor),i[d]=_;function f(g){if(g=Ji(_?Gu.resolve(_,g):g),s.has(g))throw u(g);s.add(g);let w=this.refs[g];return typeof w=="string"&&(w=this.refs[w]),typeof w=="object"?l(c,w.schema,g):g!==Ji(y)&&(g[0]==="#"?(l(c,a[g],g),a[g]=c):this.refs[g]=y),g}function m(g){if(typeof g=="string"){if(!D2.test(g))throw new Error(`invalid anchor "${g}"`);f.call(this,`#${g}`)}}}),a;function l(c,d,h){if(d!==void 0&&!R2(c,d))throw u(h)}function u(c){return new Error(`reference "${c}" resolves to more than one schema`)}}o0=qt.getSchemaRefs=z2;var q2=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getSchemaRefs(){return o0},get resolveUrl(){return h0},get normalizeId(){return f0},get _getFullPath(){return d0},get getFullPath(){return l0},get inlineRef(){return a0},default:qt},[qt])),Xu=O(q2);Object.defineProperty(en,"__esModule",{value:!0});var p0=en.getData=M0=en.KeywordCxt=y0=en.validateFunctionCode=void 0;const m0=UA,_0=Vu,kf=xg,Ju=Vu,U2=t2,na=$2,xf=P2,he=Ce,we=Mn,B2=Xu,nn=qe,ia=Ku;function H2(t){if($0(t)&&(w0(t),b0(t))){W2(t);return}v0(t,()=>(0,m0.topBoolOrEmptySchema)(t))}var y0=en.validateFunctionCode=H2;function v0({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},o){i.code.es5?t.func(e,(0,he._)`${we.default.data}, ${we.default.valCxt}`,n.$async,()=>{t.code((0,he._)`"use strict"; ${g0(r,i)}`),V2(t,i),t.code(o)}):t.func(e,(0,he._)`${we.default.data}, ${K2(i)}`,n.$async,()=>t.code(g0(r,i)).code(o))}function K2(t){return(0,he._)`{${we.default.instancePath}="", ${we.default.parentData}, ${we.default.parentDataProperty}, ${we.default.rootData}=${we.default.data}${t.dynamicRef?(0,he._)`, ${we.default.dynamicAnchors}={}`:he.nil}}={}`}function V2(t,e){t.if(we.default.valCxt,()=>{t.var(we.default.instancePath,(0,he._)`${we.default.valCxt}.${we.default.instancePath}`),t.var(we.default.parentData,(0,he._)`${we.default.valCxt}.${we.default.parentData}`),t.var(we.default.parentDataProperty,(0,he._)`${we.default.valCxt}.${we.default.parentDataProperty}`),t.var(we.default.rootData,(0,he._)`${we.default.valCxt}.${we.default.rootData}`),e.dynamicRef&&t.var(we.default.dynamicAnchors,(0,he._)`${we.default.valCxt}.${we.default.dynamicAnchors}`)},()=>{t.var(we.default.instancePath,(0,he._)`""`),t.var(we.default.parentData,(0,he._)`undefined`),t.var(we.default.parentDataProperty,(0,he._)`undefined`),t.var(we.default.rootData,we.default.data),e.dynamicRef&&t.var(we.default.dynamicAnchors,(0,he._)`{}`)})}function W2(t){const{schema:e,opts:r,gen:n}=t;v0(t,()=>{r.$comment&&e.$comment&&E0(t),Q2(t),n.let(we.default.vErrors,null),n.let(we.default.errors,0),r.unevaluated&&G2(t),S0(t),t3(t)})}function G2(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,he._)`${r}.evaluated`),e.if((0,he._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,he._)`${t.evaluated}.props`,(0,he._)`undefined`)),e.if((0,he._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,he._)`${t.evaluated}.items`,(0,he._)`undefined`))}function g0(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,he._)`/*# sourceURL=${r} */`:he.nil}function X2(t,e){if($0(t)&&(w0(t),b0(t))){J2(t,e);return}(0,m0.boolOrEmptySchema)(t,e)}function b0({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function $0(t){return typeof t.schema!="boolean"}function J2(t,e){const{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&E0(t),Z2(t),e3(t);const o=n.const("_errs",we.default.errors);S0(t,o),n.var(e,(0,he._)`${o} === ${we.default.errors}`)}function w0(t){(0,nn.checkUnknownRules)(t),Y2(t)}function S0(t,e){if(t.opts.jtd)return T0(t,[],!1,e);const r=(0,_0.getSchemaTypes)(t.schema),n=(0,_0.coerceAndCheckDataType)(t,r);T0(t,r,!n,e)}function Y2(t){const{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,nn.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Q2(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,nn.checkStrictMode)(t,"default is ignored in the schema root")}function Z2(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,B2.resolveUrl)(t.baseId,e))}function e3(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function E0({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)t.code((0,he._)`${we.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const a=(0,he.str)`${n}/$comment`,s=t.scopeValue("root",{ref:e.root});t.code((0,he._)`${we.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function t3(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=t;r.$async?e.if((0,he._)`${we.default.errors} === 0`,()=>e.return(we.default.data),()=>e.throw((0,he._)`new ${i}(${we.default.vErrors})`)):(e.assign((0,he._)`${n}.errors`,we.default.vErrors),o.unevaluated&&r3(t),e.return((0,he._)`${we.default.errors} === 0`))}function r3({gen:t,evaluated:e,props:r,items:n}){r instanceof he.Name&&t.assign((0,he._)`${e}.props`,r),n instanceof he.Name&&t.assign((0,he._)`${e}.items`,n)}function T0(t,e,r,n){const{gen:i,schema:o,data:a,allErrors:s,opts:l,self:u}=t,{RULES:c}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,nn.schemaHasRulesButRef)(o,c))){i.block(()=>k0(t,"$ref",c.all.$ref.definition));return}l.jtd||n3(t,e),i.block(()=>{for(const h of c.rules)d(h);d(c.post)});function d(h){!(0,kf.shouldUseGroup)(o,h)||(h.type?(i.if((0,Ju.checkDataType)(h.type,a,l.strictNumbers)),P0(t,h),e.length===1&&e[0]===h.type&&r&&(i.else(),(0,Ju.reportTypeError)(t)),i.endIf()):P0(t,h),s||i.if((0,he._)`${we.default.errors} === ${n||0}`))}}function P0(t,e){const{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,U2.assignDefaults)(t,e.type),r.block(()=>{for(const o of e.rules)(0,kf.shouldUseRule)(n,o)&&k0(t,o.keyword,o.definition,e.type)})}function n3(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(i3(t,e),t.opts.allowUnionTypes||o3(t,e),a3(t,t.dataTypes))}function i3(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{O0(t.dataTypes,r)||Rf(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>O0(e,r))}}function o3(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Rf(t,"use allowUnionTypes to allow union type keyword")}function a3(t,e){const r=t.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,kf.shouldUseRule)(t.schema,i)){const{type:o}=i.definition;o.length&&!o.some(a=>s3(e,a))&&Rf(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function s3(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function O0(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Rf(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,nn.checkStrictMode)(t,e,t.opts.strictTypes)}class C0{constructor(e,r,n){if((0,na.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nn.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",x0(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,na.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",we.default.errors))}result(e,r,n){this.failResult((0,he.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,he.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,he._)`${r} !== undefined && (${(0,he.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?ia.reportExtraError:ia.reportError)(this,this.def.error,r)}$dataError(){(0,ia.reportError)(this,this.def.$dataError||ia.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ia.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=he.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=he.nil,r=he.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:a}=this;n.if((0,he.or)((0,he._)`${i} === undefined`,r)),e!==he.nil&&n.assign(e,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==he.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,he.or)(a(),s());function a(){if(n.length){if(!(r instanceof he.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,he._)`${(0,Ju.checkDataTypes)(l,r,o.opts.strictNumbers,Ju.DataType.Wrong)}`}return he.nil}function s(){if(i.validateSchema){const l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,he._)`!${l}(${r})`}return he.nil}}subschema(e,r){const n=(0,xf.getSubschema)(this.it,e);(0,xf.extendSubschemaData)(n,this.it,e),(0,xf.extendSubschemaMode)(n,e);const i=ot(ge(ge({},this.it),n),{items:void 0,props:void 0});return X2(i,r),i}mergeEvaluated(e,r){const{it:n,gen:i}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=nn.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=nn.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,he.Name)),!0}}var M0=en.KeywordCxt=C0;function k0(t,e,r,n){const i=new C0(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,na.funcKeywordCode)(i,r):"macro"in r?(0,na.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,na.funcKeywordCode)(i,r)}const u3=/^\/(?:[^~]|~0|~1)*$/,l3=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function x0(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,o;if(t==="")return we.default.rootData;if(t[0]==="/"){if(!u3.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,o=we.default.rootData}else{const u=l3.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=e)throw new Error(l("property/index",c));return n[e-c]}if(c>e)throw new Error(l("data",c));if(o=r[e-c],!i)return o}let a=o;const s=i.split("/");for(const u of s)u&&(o=(0,he._)`${o}${(0,he.getProperty)((0,nn.unescapeJsonPointer)(u))}`,a=(0,he._)`${a} && ${o}`);return a;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${e}`}}p0=en.getData=x0;var c3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getData(){return p0},get KeywordCxt(){return M0},get validateFunctionCode(){return y0},default:en},[en])),Yu=O(c3),Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});class d3 extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}}var f3=Nf.default=d3,h3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:f3},[Nf])),R0=O(h3),If={};Object.defineProperty(If,"__esModule",{value:!0});const jf=Xu;class p3 extends Error{constructor(e,r,n){super(n||`can't resolve reference ${r} from id ${e}`);this.missingRef=(0,jf.resolveUrl)(e,r),this.missingSchema=(0,jf.normalizeId)((0,jf.getFullPath)(this.missingRef))}}var m3=If.default=p3,_3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:m3},[If])),N0=O(_3),Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});var I0=Zt.resolveSchema=z0=Zt.getCompilingSchema=L0=Zt.resolveRef=F0=Zt.compileSchema=A0=Zt.SchemaEnv=void 0;const gr=Ce,y3=R0,pi=Mn,br=Xu,j0=qe,v3=Yu,g3=Su;class Qu{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,br.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}var A0=Zt.SchemaEnv=Qu;function Af(t){const e=D0.call(this,t);if(e)return e;const r=(0,br.getFullPath)(t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new gr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;t.$async&&(s=a.scopeValue("Error",{ref:y3.default,code:(0,gr._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:pi.default.data,parentData:pi.default.parentData,parentDataProperty:pi.default.parentDataProperty,dataNames:[pi.default.data],dataPathArr:[gr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,gr.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:gr.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gr._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(t),(0,v3.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const d=a.toString();c=`${a.scopeRefs(pi.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,t));const p=new Function(`${pi.default.self}`,`${pi.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){const{props:y,items:_}=u;p.evaluated={props:y instanceof gr.Name?void 0:y,items:_ instanceof gr.Name?void 0:_,dynamicProps:y instanceof gr.Name,dynamicItems:_ instanceof gr.Name},p.source&&(p.source.evaluated=(0,gr.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(t)}}var F0=Zt.compileSchema=Af;function b3(t,e,r){var n;r=(0,br.resolveUrl)(e,r);const i=t.refs[r];if(i)return i;let o=S3.call(this,t,r);if(o===void 0){const a=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;a&&(o=new Qu({schema:a,schemaId:s,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=$3.call(this,o)}var L0=Zt.resolveRef=b3;function $3(t){return(0,br.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Af.call(this,t)}function D0(t){for(const e of this._compilations)if(w3(e,t))return e}var z0=Zt.getCompilingSchema=D0;function w3(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function S3(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Zu.call(this,t,e)}function Zu(t,e){const r=g3.parse(e),n=(0,br._getFullPath)(r);let i=(0,br.getFullPath)(t.baseId);if(Object.keys(t.schema).length>0&&n===i)return Ff.call(this,r,t);const o=(0,br.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=Zu.call(this,t,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:Ff.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Af.call(this,a),o===(0,br.normalizeId)(e)){const{schema:s}=a,{schemaId:l}=this.opts,u=s[l];return u&&(i=(0,br.resolveUrl)(i,u)),new Qu({schema:s,schemaId:l,root:t,baseId:i})}return Ff.call(this,r,a)}}I0=Zt.resolveSchema=Zu;const E3=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ff(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,j0.unescapeFragment)(s)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!E3.has(s)&&u&&(e=(0,br.resolveUrl)(e,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,j0.schemaHasRulesButRef)(r,this.RULES)){const s=(0,br.resolveUrl)(e,r.$ref);o=Zu.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new Qu({schema:r,schemaId:a,root:n,baseId:e}),o.schema!==o.root.schema)return o}var T3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get resolveSchema(){return I0},get getCompilingSchema(){return z0},get resolveRef(){return L0},get compileSchema(){return F0},get SchemaEnv(){return A0},default:Zt},[Zt])),q0=O(T3);const P3="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",O3="Meta-schema for $data reference (JSON AnySchema extension proposal)",C3="object",M3=["$data"],k3={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},x3=!1;var R3={$id:P3,description:O3,type:C3,required:M3,properties:k3,additionalProperties:x3};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Yu;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Ce;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=R0,i=N0,o=Tg,a=q0,s=Ce,l=Xu,u=Vu,c=qe,d=R3,h=["removeAdditional","useDefaults","coerceTypes"],p=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},f=200;function m(N){var E,k,I,B,D,v,T,F,ee,X,oe,Ge,ct,gt,it,Mt,Xt,x,b,$,j,V;const te=N.strict,ne=(E=N.code)===null||E===void 0?void 0:E.optimize,me=ne===!0||ne===void 0?1:ne||0;return{strictSchema:(I=(k=N.strictSchema)!==null&&k!==void 0?k:te)!==null&&I!==void 0?I:!0,strictNumbers:(D=(B=N.strictNumbers)!==null&&B!==void 0?B:te)!==null&&D!==void 0?D:!0,strictTypes:(T=(v=N.strictTypes)!==null&&v!==void 0?v:te)!==null&&T!==void 0?T:"log",strictTuples:(ee=(F=N.strictTuples)!==null&&F!==void 0?F:te)!==null&&ee!==void 0?ee:"log",strictRequired:(oe=(X=N.strictRequired)!==null&&X!==void 0?X:te)!==null&&oe!==void 0?oe:!1,code:N.code?ot(ge({},N.code),{optimize:me}):{optimize:me},loopRequired:(Ge=N.loopRequired)!==null&&Ge!==void 0?Ge:f,loopEnum:(ct=N.loopEnum)!==null&&ct!==void 0?ct:f,meta:(gt=N.meta)!==null&&gt!==void 0?gt:!0,messages:(it=N.messages)!==null&&it!==void 0?it:!0,inlineRefs:(Mt=N.inlineRefs)!==null&&Mt!==void 0?Mt:!0,schemaId:(Xt=N.schemaId)!==null&&Xt!==void 0?Xt:"$id",addUsedSchema:(x=N.addUsedSchema)!==null&&x!==void 0?x:!0,validateSchema:(b=N.validateSchema)!==null&&b!==void 0?b:!0,validateFormats:($=N.validateFormats)!==null&&$!==void 0?$:!0,unicodeRegExp:(j=N.unicodeRegExp)!==null&&j!==void 0?j:!0,int32range:(V=N.int32range)!==null&&V!==void 0?V:!0}}class g{constructor(E={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,E=this.opts=ge(ge({},E),m(E));const{es5:k,lines:I}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:p,es5:k,lines:I}),this.logger=z(E.logger);const B=E.validateFormats;E.validateFormats=!1,this.RULES=(0,o.getRules)(),w.call(this,y,E,"NOT SUPPORTED"),w.call(this,_,E,"DEPRECATED","warn"),this._metaOpts=L.call(this),E.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),E.keywords&&M.call(this,E.keywords),typeof E.meta=="object"&&this.addMetaSchema(E.meta),A.call(this),E.validateFormats=B}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:E,meta:k,schemaId:I}=this.opts;let B=d;I==="id"&&(B=ge({},d),B.id=B.$id,delete B.$id),k&&E&&this.addMetaSchema(B,B[I],!1)}defaultMeta(){const{meta:E,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof E=="object"?E[k]||E:void 0}validate(E,k){let I;if(typeof E=="string"){if(I=this.getSchema(E),!I)throw new Error(`no schema with key or ref "${E}"`)}else I=this.compile(E);const B=I(k);return"$async"in I||(this.errors=I.errors),B}compile(E,k){const I=this._addSchema(E,k);return I.validate||this._compileSchemaEnv(I)}compileAsync(E,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return B.call(this,E,k);async function B(X,oe){await D.call(this,X.$schema);const Ge=this._addSchema(X,oe);return Ge.validate||v.call(this,Ge)}async function D(X){X&&!this.getSchema(X)&&await B.call(this,{$ref:X},!0)}async function v(X){try{return this._compileSchemaEnv(X)}catch(oe){if(!(oe instanceof i.default))throw oe;return T.call(this,oe),await F.call(this,oe.missingSchema),v.call(this,X)}}function T({missingSchema:X,missingRef:oe}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${oe} cannot be resolved`)}async function F(X){const oe=await ee.call(this,X);this.refs[X]||await D.call(this,oe.$schema),this.refs[X]||this.addSchema(oe,X,k)}async function ee(X){const oe=this._loading[X];if(oe)return oe;try{return await(this._loading[X]=I(X))}finally{delete this._loading[X]}}}addSchema(E,k,I,B=this.opts.validateSchema){if(Array.isArray(E)){for(const v of E)this.addSchema(v,void 0,I,B);return this}let D;if(typeof E=="object"){const{schemaId:v}=this.opts;if(D=E[v],D!==void 0&&typeof D!="string")throw new Error(`schema ${v} must be string`)}return k=(0,l.normalizeId)(k||D),this._checkUnique(k),this.schemas[k]=this._addSchema(E,I,k,B,!0),this}addMetaSchema(E,k,I=this.opts.validateSchema){return this.addSchema(E,k,!0,I),this}validateSchema(E,k){if(typeof E=="boolean")return!0;let I;if(I=E.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const B=this.validate(I,E);if(!B&&k){const D="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(D);else throw new Error(D)}return B}getSchema(E){let k;for(;typeof(k=P.call(this,E))=="string";)E=k;if(k===void 0){const{schemaId:I}=this.opts,B=new a.SchemaEnv({schema:{},schemaId:I});if(k=a.resolveSchema.call(this,B,E),!k)return;this.refs[E]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(E){if(E instanceof RegExp)return this._removeAllSchemas(this.schemas,E),this._removeAllSchemas(this.refs,E),this;switch(typeof E){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const k=P.call(this,E);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[E],delete this.refs[E],this}case"object":{const k=E;this._cache.delete(k);let I=E[this.opts.schemaId];return I&&(I=(0,l.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(E){for(const k of E)this.addKeyword(k);return this}addKeyword(E,k){let I;if(typeof E=="string")I=E,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=I);else if(typeof E=="object"&&k===void 0){if(k=E,I=k.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,I,k),!k)return(0,c.eachItem)(I,D=>ae.call(this,D)),this;ce.call(this,k);const B=ot(ge({},k),{type:(0,u.getJSONTypes)(k.type),schemaType:(0,u.getJSONTypes)(k.schemaType)});return(0,c.eachItem)(I,B.type.length===0?D=>ae.call(this,D,B):D=>B.type.forEach(v=>ae.call(this,D,B,v))),this}getKeyword(E){const k=this.RULES.all[E];return typeof k=="object"?k.definition:!!k}removeKeyword(E){const{RULES:k}=this;delete k.keywords[E],delete k.all[E];for(const I of k.rules){const B=I.rules.findIndex(D=>D.keyword===E);B>=0&&I.rules.splice(B,1)}return this}addFormat(E,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[E]=k,this}errorsText(E=this.errors,{separator:k=", ",dataVar:I="data"}={}){return!E||E.length===0?"No errors":E.map(B=>`${I}${B.instancePath} ${B.message}`).reduce((B,D)=>B+k+D)}$dataMetaSchema(E,k){const I=this.RULES.all;E=JSON.parse(JSON.stringify(E));for(const B of k){const D=B.split("/").slice(1);let v=E;for(const T of D)v=v[T];for(const T in I){const F=I[T];if(typeof F!="object")continue;const{$data:ee}=F.definition,X=v[T];ee&&X&&(v[T]=de(X))}}return E}_removeAllSchemas(E,k){for(const I in E){const B=E[I];(!k||k.test(I))&&(typeof B=="string"?delete E[I]:B&&!B.meta&&(this._cache.delete(B.schema),delete E[I]))}}_addSchema(E,k,I,B=this.opts.validateSchema,D=this.opts.addUsedSchema){let v;const{schemaId:T}=this.opts;if(typeof E=="object")v=E[T];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof E!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(E);if(F!==void 0)return F;I=(0,l.normalizeId)(v||I);const ee=l.getSchemaRefs.call(this,E,I);return F=new a.SchemaEnv({schema:E,schemaId:T,meta:k,baseId:I,localRefs:ee}),this._cache.set(F.schema,F),D&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=F),B&&this.validateSchema(E,!0),F}_checkUnique(E){if(this.schemas[E]||this.refs[E])throw new Error(`schema with key or id "${E}" already exists`)}_compileSchemaEnv(E){if(E.meta?this._compileMetaSchema(E):a.compileSchema.call(this,E),!E.validate)throw new Error("ajv implementation error");return E.validate}_compileMetaSchema(E){const k=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,E)}finally{this.opts=k}}}t.default=g,g.ValidationError=n.default,g.MissingRefError=i.default;function w(N,E,k,I="error"){for(const B in N){const D=B;D in E&&this.logger[I](`${k}: option ${B}. ${N[D]}`)}}function P(N){return N=(0,l.normalizeId)(N),this.schemas[N]||this.refs[N]}function A(){const N=this.opts.schemas;if(!!N)if(Array.isArray(N))this.addSchema(N);else for(const E in N)this.addSchema(N[E],E)}function S(){for(const N in this.opts.formats){const E=this.opts.formats[N];E&&this.addFormat(N,E)}}function M(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const E in N){const k=N[E];k.keyword||(k.keyword=E),this.addKeyword(k)}}function L(){const N=ge({},this.opts);for(const E of h)delete N[E];return N}const W={log(){},warn(){},error(){}};function z(N){if(N===!1)return W;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function G(N,E){const{RULES:k}=this;if((0,c.eachItem)(N,I=>{if(k.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!Z.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!E&&E.$data&&!("code"in E||"validate"in E))throw new Error('$data keyword must have "code" or "validate" function')}function ae(N,E,k){var I;const B=E==null?void 0:E.post;if(k&&B)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:D}=this;let v=B?D.post:D.rules.find(({type:F})=>F===k);if(v||(v={type:k,rules:[]},D.rules.push(v)),D.keywords[N]=!0,!E)return;const T={keyword:N,definition:ot(ge({},E),{type:(0,u.getJSONTypes)(E.type),schemaType:(0,u.getJSONTypes)(E.schemaType)})};E.before?se.call(this,v,T,E.before):v.rules.push(T),D.all[N]=T,(I=E.implements)===null||I===void 0||I.forEach(F=>this.addKeyword(F))}function se(N,E,k){const I=N.rules.findIndex(B=>B.keyword===k);I>=0?N.rules.splice(I,0,E):(N.rules.push(E),this.logger.warn(`rule ${k} is not defined`))}function ce(N){let{metaSchema:E}=N;E!==void 0&&(N.$data&&this.opts.$data&&(E=de(E)),N.validateSchema=this.compile(E,!0))}const ye={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function de(N){return{anyOf:[N,ye]}}})(yf);var N3=Pe(yf),I3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:N3},[yf])),j3=O(I3),Lf={},Df={},zf={};Object.defineProperty(zf,"__esModule",{value:!0});const A3={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};var F3=zf.default=A3,L3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:F3},[zf])),D3=O(L3),mi={};Object.defineProperty(mi,"__esModule",{value:!0});var U0=mi.callRef=V0=mi.getValidate=void 0;const z3=N0,B0=vr,Wt=Ce,Yi=Mn,H0=q0,el=qe,q3={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return d();const c=H0.resolveRef.call(l,u,i,r);if(c===void 0)throw new z3.default(i,r);if(c instanceof H0.SchemaEnv)return h(c);return p(c);function d(){if(o===u)return tl(t,a,o,o.$async);const y=e.scopeValue("root",{ref:u});return tl(t,(0,Wt._)`${y}.validate`,u,u.$async)}function h(y){const _=K0(t,y);tl(t,_,y,y.$async)}function p(y){const _=e.scopeValue("schema",s.code.source===!0?{ref:y,code:(0,Wt.stringify)(y)}:{ref:y}),f=e.name("valid"),m=t.subschema({schema:y,dataTypes:[],schemaPath:Wt.nil,topSchemaRef:_,errSchemaPath:r},f);t.mergeEvaluated(m),t.ok(f)}}};function K0(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Wt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}var V0=mi.getValidate=K0;function tl(t,e,r,n){const{gen:i,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,u=l.passContext?Yi.default.this:Wt.nil;n?c():d();function c(){if(!s.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Wt._)`await ${(0,B0.callValidateCode)(t,e,u)}`),p(e),a||i.assign(y,!0)},_=>{i.if((0,Wt._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),h(_),a||i.assign(y,!1)}),t.ok(y)}function d(){t.result((0,B0.callValidateCode)(t,e,u),()=>p(e),()=>h(e))}function h(y){const _=(0,Wt._)`${y}.errors`;i.assign(Yi.default.vErrors,(0,Wt._)`${Yi.default.vErrors} === null ? ${_} : ${Yi.default.vErrors}.concat(${_})`),i.assign(Yi.default.errors,(0,Wt._)`${Yi.default.vErrors}.length`)}function p(y){var _;if(!o.opts.unevaluated)return;const f=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(f&&!f.dynamicProps)f.props!==void 0&&(o.props=el.mergeEvaluated.props(i,f.props,o.props));else{const m=i.var("props",(0,Wt._)`${y}.evaluated.props`);o.props=el.mergeEvaluated.props(i,m,o.props,Wt.Name)}if(o.items!==!0)if(f&&!f.dynamicItems)f.items!==void 0&&(o.items=el.mergeEvaluated.items(i,f.items,o.items));else{const m=i.var("items",(0,Wt._)`${y}.evaluated.items`);o.items=el.mergeEvaluated.items(i,m,o.items,Wt.Name)}}}U0=mi.callRef=tl;var U3=mi.default=q3,B3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get callRef(){return U0},get getValidate(){return V0},default:U3},[mi])),H3=O(B3);Object.defineProperty(Df,"__esModule",{value:!0});const K3=D3,V3=H3,W3=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",K3.default,V3.default];var G3=Df.default=W3,X3=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:G3},[Df])),J3=O(X3),qf={},Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});const rl=Ce,Rn=rl.operators,nl={maximum:{okStr:"<=",ok:Rn.LTE,fail:Rn.GT},minimum:{okStr:">=",ok:Rn.GTE,fail:Rn.LT},exclusiveMaximum:{okStr:"<",ok:Rn.LT,fail:Rn.GTE},exclusiveMinimum:{okStr:">",ok:Rn.GT,fail:Rn.LTE}},Y3={message:({keyword:t,schemaCode:e})=>(0,rl.str)`must be ${nl[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,rl._)`{comparison: ${nl[t].okStr}, limit: ${e}}`},Q3={keyword:Object.keys(nl),type:"number",schemaType:"number",$data:!0,error:Y3,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,rl._)`${r} ${nl[e].fail} ${n} || isNaN(${r})`)}};var Z3=Uf.default=Q3,eF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Z3},[Uf])),tF=O(eF),Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});const oa=Ce,rF={message:({schemaCode:t})=>(0,oa.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,oa._)`{multipleOf: ${t}}`},nF={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:rF,code(t){const{gen:e,data:r,schemaCode:n,it:i}=t,o=i.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,oa._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,oa._)`${a} !== parseInt(${a})`;t.fail$data((0,oa._)`(${n} === 0 || (${a} = ${r}/${n}, ${s}))`)}};var iF=Bf.default=nF,oF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:iF},[Bf])),aF=O(oF),Hf={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});function W0(t){const e=t.length;let r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)==56320&&n++);return r}var sF=Kf.default=W0;W0.code='require("ajv/dist/runtime/ucs2length").default';var uF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:sF},[Kf])),lF=O(uF);Object.defineProperty(Hf,"__esModule",{value:!0});const _i=Ce,cF=qe,dF=lF,fF={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,_i.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,_i._)`{limit: ${t}}`},hF={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:fF,code(t){const{keyword:e,data:r,schemaCode:n,it:i}=t,o=e==="maxLength"?_i.operators.GT:_i.operators.LT,a=i.opts.unicode===!1?(0,_i._)`${r}.length`:(0,_i._)`${(0,cF.useFunc)(t.gen,dF.default)}(${r})`;t.fail$data((0,_i._)`${a} ${o} ${n}`)}};var pF=Hf.default=hF,mF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pF},[Hf])),_F=O(mF),Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});const yF=vr,il=Ce,vF={message:({schemaCode:t})=>(0,il.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,il._)`{pattern: ${t}}`},gF={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:vF,code(t){const{data:e,$data:r,schema:n,schemaCode:i,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=r?(0,il._)`(new RegExp(${i}, ${a}))`:(0,yF.usePattern)(t,n);t.fail$data((0,il._)`!${s}.test(${e})`)}};var bF=Vf.default=gF,$F=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:bF},[Vf])),wF=O($F),Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});const aa=Ce,SF={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,aa.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,aa._)`{limit: ${t}}`},EF={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:SF,code(t){const{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?aa.operators.GT:aa.operators.LT;t.fail$data((0,aa._)`Object.keys(${r}).length ${i} ${n}`)}};var TF=Wf.default=EF,PF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:TF},[Wf])),OF=O(PF),Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});const sa=vr,ua=Ce,CF=qe,MF={message:({params:{missingProperty:t}})=>(0,ua.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ua._)`{missingProperty: ${t}}`},kF={keyword:"required",type:"object",schemaType:"array",$data:!0,error:MF,code(t){const{gen:e,schema:r,schemaCode:n,data:i,$data:o,it:a}=t,{opts:s}=a;if(!o&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?u():c(),s.strictRequired){const p=t.parentSchema.properties,{definedProperties:y}=t.it;for(const _ of r)if((p==null?void 0:p[_])===void 0&&!y.has(_)){const f=a.schemaEnv.baseId+a.errSchemaPath,m=`required property "${_}" is not defined at "${f}" (strictRequired)`;(0,CF.checkStrictMode)(a,m,a.opts.strictRequired)}}function u(){if(l||o)t.block$data(ua.nil,d);else for(const p of r)(0,sa.checkReportMissingProp)(t,p)}function c(){const p=e.let("missing");if(l||o){const y=e.let("valid",!0);t.block$data(y,()=>h(p,y)),t.ok(y)}else e.if((0,sa.checkMissingProp)(t,r,p)),(0,sa.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,sa.noPropertyInData)(e,i,p,s.ownProperties),()=>t.error())})}function h(p,y){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(y,(0,sa.propertyInData)(e,i,p,s.ownProperties)),e.if((0,ua.not)(y),()=>{t.error(),e.break()})},ua.nil)}}};var xF=Gf.default=kF,RF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:xF},[Gf])),NF=O(RF),Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});const la=Ce,IF={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,la.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,la._)`{limit: ${t}}`},jF={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:IF,code(t){const{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?la.operators.GT:la.operators.LT;t.fail$data((0,la._)`${r}.length ${i} ${n}`)}};var AF=Xf.default=jF,FF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:AF},[Xf])),LF=O(FF),Jf={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});const G0=bu;G0.code='require("ajv/dist/runtime/equal").default';var DF=Yf.default=G0,zF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:DF},[Yf])),Qf=O(zF);Object.defineProperty(Jf,"__esModule",{value:!0});const Zf=Vu,Tt=Ce,qF=qe,UF=Qf,BF={message:({params:{i:t,j:e}})=>(0,Tt.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Tt._)`{i: ${t}, j: ${e}}`},HF={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:BF,code(t){const{gen:e,data:r,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=t;if(!n&&!i)return;const l=e.let("valid"),u=o.items?(0,Zf.getSchemaTypes)(o.items):[];t.block$data(l,c,(0,Tt._)`${a} === false`),t.ok(l);function c(){const y=e.let("i",(0,Tt._)`${r}.length`),_=e.let("j");t.setParams({i:y,j:_}),e.assign(l,!0),e.if((0,Tt._)`${y} > 1`,()=>(d()?h:p)(y,_))}function d(){return u.length>0&&!u.some(y=>y==="object"||y==="array")}function h(y,_){const f=e.name("item"),m=(0,Zf.checkDataTypes)(u,f,s.opts.strictNumbers,Zf.DataType.Wrong),g=e.const("indices",(0,Tt._)`{}`);e.for((0,Tt._)`;${y}--;`,()=>{e.let(f,(0,Tt._)`${r}[${y}]`),e.if(m,(0,Tt._)`continue`),u.length>1&&e.if((0,Tt._)`typeof ${f} == "string"`,(0,Tt._)`${f} += "_"`),e.if((0,Tt._)`typeof ${g}[${f}] == "number"`,()=>{e.assign(_,(0,Tt._)`${g}[${f}]`),t.error(),e.assign(l,!1).break()}).code((0,Tt._)`${g}[${f}] = ${y}`)})}function p(y,_){const f=(0,qF.useFunc)(e,UF.default),m=e.name("outer");e.label(m).for((0,Tt._)`;${y}--;`,()=>e.for((0,Tt._)`${_} = ${y}; ${_}--;`,()=>e.if((0,Tt._)`${f}(${r}[${y}], ${r}[${_}])`,()=>{t.error(),e.assign(l,!1).break(m)})))}}};var KF=Jf.default=HF,VF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:KF},[Jf])),WF=O(VF),eh={};Object.defineProperty(eh,"__esModule",{value:!0});const th=Ce,GF=qe,XF=Qf,JF={message:"must be equal to constant",params:({schemaCode:t})=>(0,th._)`{allowedValue: ${t}}`},YF={keyword:"const",$data:!0,error:JF,code(t){const{gen:e,data:r,$data:n,schemaCode:i,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,th._)`!${(0,GF.useFunc)(e,XF.default)}(${r}, ${i})`):t.fail((0,th._)`${o} !== ${r}`)}};var QF=eh.default=YF,ZF=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:QF},[eh])),eL=O(ZF),rh={};Object.defineProperty(rh,"__esModule",{value:!0});const ca=Ce,tL=qe,rL=Qf,nL={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,ca._)`{allowedValues: ${t}}`},iL={keyword:"enum",schemaType:"array",$data:!0,error:nL,code(t){const{gen:e,data:r,$data:n,schema:i,schemaCode:o,it:a}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum,l=(0,tL.useFunc)(e,rL.default);let u;if(s||n)u=e.let("valid"),t.block$data(u,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=e.const("vSchema",o);u=(0,ca.or)(...i.map((p,y)=>d(h,y)))}t.pass(u);function c(){e.assign(u,!1),e.forOf("v",o,h=>e.if((0,ca._)`${l}(${r}, ${h})`,()=>e.assign(u,!0).break()))}function d(h,p){const y=i[p];return typeof y=="object"&&y!==null?(0,ca._)`${l}(${r}, ${h}[${p}])`:(0,ca._)`${r} === ${y}`}}};var oL=rh.default=iL,aL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:oL},[rh])),sL=O(aL);Object.defineProperty(qf,"__esModule",{value:!0});const uL=tF,lL=aF,cL=_F,dL=wF,fL=OF,hL=NF,pL=LF,mL=WF,_L=eL,yL=sL,vL=[uL.default,lL.default,cL.default,dL.default,fL.default,hL.default,pL.default,mL.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},_L.default,yL.default];var gL=qf.default=vL,bL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:gL},[qf])),$L=O(bL),nh={},da={};Object.defineProperty(da,"__esModule",{value:!0});var X0=da.validateAdditionalItems=void 0;const yi=Ce,ih=qe,wL={message:({params:{len:t}})=>(0,yi.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,yi._)`{limit: ${t}}`},SL={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:wL,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,ih.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}J0(t,n)}};function J0(t,e){const{gen:r,schema:n,data:i,keyword:o,it:a}=t;a.items=!0;const s=r.const("len",(0,yi._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,yi._)`${s} <= ${e.length}`);else if(typeof n=="object"&&!(0,ih.alwaysValidSchema)(a,n)){const u=r.var("valid",(0,yi._)`${s} <= ${e.length}`);r.if((0,yi.not)(u),()=>l(u)),t.ok(u)}function l(u){r.forRange("i",e.length,s,c=>{t.subschema({keyword:o,dataProp:c,dataPropType:ih.Type.Num},u),a.allErrors||r.if((0,yi.not)(u),()=>r.break())})}}X0=da.validateAdditionalItems=J0;var EL=da.default=SL,TL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateAdditionalItems(){return X0},default:EL},[da])),Y0=O(TL),oh={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});var Q0=fa.validateTuple=void 0;const Z0=Ce,ol=qe,PL=vr,OL={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return eb(t,"additionalItems",e);r.items=!0,!(0,ol.alwaysValidSchema)(r,e)&&t.ok((0,PL.validateArray)(t))}};function eb(t,e,r=t.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=t;c(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=ol.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),u=n.const("len",(0,Z0._)`${o}.length`);r.forEach((d,h)=>{(0,ol.alwaysValidSchema)(s,d)||(n.if((0,Z0._)`${u} > ${h}`,()=>t.subschema({keyword:a,schemaProp:h,dataProp:h},l)),t.ok(l))});function c(d){const{opts:h,errSchemaPath:p}=s,y=r.length,_=y===d.minItems&&(y===d.maxItems||d[e]===!1);if(h.strictTuples&&!_){const f=`"${a}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,ol.checkStrictMode)(s,f,h.strictTuples)}}}Q0=fa.validateTuple=eb;var CL=fa.default=OL,ML=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get validateTuple(){return Q0},default:CL},[fa])),tb=O(ML);Object.defineProperty(oh,"__esModule",{value:!0});const kL=tb,xL={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,kL.validateTuple)(t,"items")};var RL=oh.default=xL,NL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:RL},[oh])),IL=O(NL),ah={};Object.defineProperty(ah,"__esModule",{value:!0});const rb=Ce,jL=qe,AL=vr,FL=Y0,LL={message:({params:{len:t}})=>(0,rb.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,rb._)`{limit: ${t}}`},DL={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:LL,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,jL.alwaysValidSchema)(n,e)&&(i?(0,FL.validateAdditionalItems)(t,i):t.ok((0,AL.validateArray)(t)))}};var zL=ah.default=DL,qL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zL},[ah])),UL=O(qL),sh={};Object.defineProperty(sh,"__esModule",{value:!0});const $r=Ce,al=qe,BL={message:({params:{min:t,max:e}})=>e===void 0?(0,$r.str)`must contain at least ${t} valid item(s)`:(0,$r.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,$r._)`{minContains: ${t}}`:(0,$r._)`{minContains: ${t}, maxContains: ${e}}`},HL={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:BL,code(t){const{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;let a,s;const{minContains:l,maxContains:u}=n;o.opts.next?(a=l===void 0?1:l,s=u):a=1;const c=e.const("len",(0,$r._)`${i}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,al.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,al.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,al.alwaysValidSchema)(o,r)){let y=(0,$r._)`${c} >= ${a}`;s!==void 0&&(y=(0,$r._)`${y} && ${c} <= ${s}`),t.pass(y);return}o.items=!0;const d=e.name("valid");if(s===void 0&&a===1)h(d,()=>e.if(d,()=>e.break()));else{e.let(d,!1);const y=e.name("_valid"),_=e.let("count",0);h(y,()=>e.if(y,()=>p(_)))}t.result(d,()=>t.reset());function h(y,_){e.forRange("i",0,c,f=>{t.subschema({keyword:"contains",dataProp:f,dataPropType:al.Type.Num,compositeRule:!0},y),_()})}function p(y){e.code((0,$r._)`${y}++`),s===void 0?e.if((0,$r._)`${y} >= ${a}`,()=>e.assign(d,!0).break()):(e.if((0,$r._)`${y} > ${s}`,()=>e.assign(d,!1).break()),a===1?e.assign(d,!0):e.if((0,$r._)`${y} >= ${a}`,()=>e.assign(d,!0)))}}};var KL=sh.default=HL,VL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:KL},[sh])),WL=O(VL),uh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Ce,r=qe,n=vr;t.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,e.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,c]=o(l);a(l,u),s(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const h=Array.isArray(l[d])?u:c;h[d]=l[d]}return[u,c]}function a(l,u=l.schema){const{gen:c,data:d,it:h}=l;if(Object.keys(u).length===0)return;const p=c.let("missing");for(const y in u){const _=u[y];if(_.length===0)continue;const f=(0,n.propertyInData)(c,d,y,h.opts.ownProperties);l.setParams({property:y,depsCount:_.length,deps:_.join(", ")}),h.allErrors?c.if(f,()=>{for(const m of _)(0,n.checkReportMissingProp)(l,m)}):(c.if((0,e._)`${f} && (${(0,n.checkMissingProp)(l,_,p)})`),(0,n.reportMissingProp)(l,p),c.else())}}t.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:c,data:d,keyword:h,it:p}=l,y=c.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(p,u[_])||(c.if((0,n.propertyInData)(c,d,_,p.opts.ownProperties),()=>{const f=l.subschema({keyword:h,schemaProp:_},y);l.mergeValidEvaluated(f,y)},()=>c.var(y,!0)),l.ok(y))}t.validateSchemaDeps=s,t.default=i})(uh);var GL=Pe(uh),XL=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:GL},[uh])),JL=O(XL),lh={};Object.defineProperty(lh,"__esModule",{value:!0});const nb=Ce,YL=qe,QL={message:"property name must be valid",params:({params:t})=>(0,nb._)`{propertyName: ${t.propertyName}}`},ZL={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:QL,code(t){const{gen:e,schema:r,data:n,it:i}=t;if((0,YL.alwaysValidSchema)(i,r))return;const o=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,nb.not)(o),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(o)}};var eD=lh.default=ZL,tD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:eD},[lh])),rD=O(tD),ch={};Object.defineProperty(ch,"__esModule",{value:!0});const sl=vr,wr=Ce,nD=Mn,ul=qe,iD={message:"must NOT have additional properties",params:({params:t})=>(0,wr._)`{additionalProperty: ${t.additionalProperty}}`},oD={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:iD,code(t){const{gen:e,schema:r,parentSchema:n,data:i,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,ul.alwaysValidSchema)(a,r))return;const u=(0,sl.allSchemaProperties)(n.properties),c=(0,sl.allSchemaProperties)(n.patternProperties);d(),t.ok((0,wr._)`${o} === ${nD.default.errors}`);function d(){e.forIn("key",i,f=>{!u.length&&!c.length?y(f):e.if(h(f),()=>y(f))})}function h(f){let m;if(u.length>8){const g=(0,ul.schemaRefOrVal)(a,n.properties,"properties");m=(0,sl.isOwnProperty)(e,g,f)}else u.length?m=(0,wr.or)(...u.map(g=>(0,wr._)`${f} === ${g}`)):m=wr.nil;return c.length&&(m=(0,wr.or)(m,...c.map(g=>(0,wr._)`${(0,sl.usePattern)(t,g)}.test(${f})`))),(0,wr.not)(m)}function p(f){e.code((0,wr._)`delete ${i}[${f}]`)}function y(f){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(f);return}if(r===!1){t.setParams({additionalProperty:f}),t.error(),s||e.break();return}if(typeof r=="object"&&!(0,ul.alwaysValidSchema)(a,r)){const m=e.name("valid");l.removeAdditional==="failing"?(_(f,m,!1),e.if((0,wr.not)(m),()=>{t.reset(),p(f)})):(_(f,m),s||e.if((0,wr.not)(m),()=>e.break()))}}function _(f,m,g){const w={keyword:"additionalProperties",dataProp:f,dataPropType:ul.Type.Str};g===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(w,m)}}};var aD=ch.default=oD,sD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aD},[ch])),ib=O(sD),dh={};Object.defineProperty(dh,"__esModule",{value:!0});const uD=Yu,ob=vr,fh=qe,ab=ib,lD={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ab.default.code(new uD.KeywordCxt(o,ab.default,"additionalProperties"));const a=(0,ob.allSchemaProperties)(r);for(const d of a)o.definedProperties.add(d);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=fh.mergeEvaluated.props(e,(0,fh.toHash)(a),o.props));const s=a.filter(d=>!(0,fh.alwaysValidSchema)(o,r[d]));if(s.length===0)return;const l=e.name("valid");for(const d of s)u(d)?c(d):(e.if((0,ob.propertyInData)(e,i,d,o.opts.ownProperties)),c(d),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function u(d){return o.opts.useDefaults&&!o.compositeRule&&r[d].default!==void 0}function c(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};var cD=dh.default=lD,dD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:cD},[dh])),fD=O(dD),hh={};Object.defineProperty(hh,"__esModule",{value:!0});const sb=vr,ll=Ce,ub=qe,lb=qe,hD={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:i,it:o}=t,{opts:a}=o,s=(0,sb.allSchemaProperties)(r),l=s.filter(_=>(0,ub.alwaysValidSchema)(o,r[_]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,c=e.name("valid");o.props!==!0&&!(o.props instanceof ll.Name)&&(o.props=(0,lb.evaluatedPropsToName)(e,o.props));const{props:d}=o;h();function h(){for(const _ of s)u&&p(_),o.allErrors?y(_):(e.var(c,!0),y(_),e.if(c))}function p(_){for(const f in u)new RegExp(_).test(f)&&(0,ub.checkStrictMode)(o,`property ${f} matches pattern ${_} (use allowMatchingProperties)`)}function y(_){e.forIn("key",n,f=>{e.if((0,ll._)`${(0,sb.usePattern)(t,_)}.test(${f})`,()=>{const m=l.includes(_);m||t.subschema({keyword:"patternProperties",schemaProp:_,dataProp:f,dataPropType:lb.Type.Str},c),o.opts.unevaluated&&d!==!0?e.assign((0,ll._)`${d}[${f}]`,!0):!m&&!o.allErrors&&e.if((0,ll.not)(c),()=>e.break())})})}}};var pD=hh.default=hD,mD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pD},[hh])),_D=O(mD),ph={};Object.defineProperty(ph,"__esModule",{value:!0});const yD=qe,vD={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,yD.alwaysValidSchema)(n,r)){t.fail();return}const i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};var gD=ph.default=vD,bD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:gD},[ph])),$D=O(bD),mh={};Object.defineProperty(mh,"__esModule",{value:!0});const wD=vr,SD={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:wD.validateUnion,error:{message:"must match a schema in anyOf"}};var ED=mh.default=SD,TD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:ED},[mh])),PD=O(TD),_h={};Object.defineProperty(_h,"__esModule",{value:!0});const cl=Ce,OD=qe,CD={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,cl._)`{passingSchemas: ${t.passing}}`},MD={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:CD,code(t){const{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,a=e.let("valid",!1),s=e.let("passing",null),l=e.name("_valid");t.setParams({passing:s}),e.block(u),t.result(a,()=>t.reset(),()=>t.error(!0));function u(){o.forEach((c,d)=>{let h;(0,OD.alwaysValidSchema)(i,c)?e.var(l,!0):h=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,cl._)`${l} && ${a}`).assign(a,!1).assign(s,(0,cl._)`[${s}, ${d}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(s,d),h&&t.mergeEvaluated(h,cl.Name)})})}}};var kD=_h.default=MD,xD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:kD},[_h])),RD=O(xD),yh={};Object.defineProperty(yh,"__esModule",{value:!0});const ND=qe,ID={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=e.name("valid");r.forEach((o,a)=>{if((0,ND.alwaysValidSchema)(n,o))return;const s=t.subschema({keyword:"allOf",schemaProp:a},i);t.ok(i),t.mergeEvaluated(s)})}};var jD=yh.default=ID,AD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jD},[yh])),FD=O(AD),vh={};Object.defineProperty(vh,"__esModule",{value:!0});const dl=Ce,cb=qe,LD={message:({params:t})=>(0,dl.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,dl._)`{failingKeyword: ${t.ifClause}}`},DD={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:LD,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,cb.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=db(n,"then"),o=db(n,"else");if(!i&&!o)return;const a=e.let("valid",!0),s=e.name("_valid");if(l(),t.reset(),i&&o){const c=e.let("ifClause");t.setParams({ifClause:c}),e.if(s,u("then",c),u("else",c))}else i?e.if(s,u("then")):e.if((0,dl.not)(s),u("else"));t.pass(a,()=>t.error(!0));function l(){const c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(c)}function u(c,d){return()=>{const h=t.subschema({keyword:c},s);e.assign(a,s),t.mergeValidEvaluated(h,a),d?e.assign(d,(0,dl._)`${c}`):t.setParams({ifClause:c})}}}};function db(t,e){const r=t.schema[e];return r!==void 0&&!(0,cb.alwaysValidSchema)(t,r)}var zD=vh.default=DD,qD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zD},[vh])),UD=O(qD),gh={};Object.defineProperty(gh,"__esModule",{value:!0});const BD=qe,HD={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,BD.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};var KD=gh.default=HD,VD=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:KD},[gh])),WD=O(VD);Object.defineProperty(nh,"__esModule",{value:!0});const GD=Y0,XD=IL,JD=tb,YD=UL,QD=WL,ZD=JL,e6=rD,t6=ib,r6=fD,n6=_D,i6=$D,o6=PD,a6=RD,s6=FD,u6=UD,l6=WD;function c6(t=!1){const e=[i6.default,o6.default,a6.default,s6.default,u6.default,l6.default,e6.default,t6.default,ZD.default,r6.default,n6.default];return t?e.push(XD.default,YD.default):e.push(GD.default,JD.default),e.push(QD.default),e}var d6=nh.default=c6,f6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:d6},[nh])),h6=O(f6),bh={},$h={};Object.defineProperty($h,"__esModule",{value:!0});const pt=Ce,p6={message:({schemaCode:t})=>(0,pt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,pt._)`{format: ${t}}`},m6={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:p6,code(t,e){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:u,schemaEnv:c,self:d}=s;if(!l.validateFormats)return;i?h():p();function h(){const y=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),_=r.const("fDef",(0,pt._)`${y}[${a}]`),f=r.let("fType"),m=r.let("format");r.if((0,pt._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(f,(0,pt._)`${_}.type || "string"`).assign(m,(0,pt._)`${_}.validate`),()=>r.assign(f,(0,pt._)`"string"`).assign(m,_)),t.fail$data((0,pt.or)(g(),w()));function g(){return l.strictSchema===!1?pt.nil:(0,pt._)`${a} && !${m}`}function w(){const P=c.$async?(0,pt._)`(${_}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,pt._)`${m}(${n})`,A=(0,pt._)`(typeof ${m} == "function" ? ${P} : ${m}.test(${n}))`;return(0,pt._)`${m} && ${m} !== true && ${f} === ${e} && !${A}`}}function p(){const y=d.formats[o];if(!y){g();return}if(y===!0)return;const[_,f,m]=w(y);_===e&&t.pass(P());function g(){if(l.strictSchema===!1){d.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function w(A){const S=A instanceof RegExp?(0,pt.regexpCode)(A):l.code.formats?(0,pt._)`${l.code.formats}${(0,pt.getProperty)(o)}`:void 0,M=r.scopeValue("formats",{key:o,ref:A,code:S});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,pt._)`${M}.validate`]:["string",A,M]}function P(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!c.$async)throw new Error("async format in sync schema");return(0,pt._)`await ${m}(${n})`}return typeof f=="function"?(0,pt._)`${m}(${n})`:(0,pt._)`${m}.test(${n})`}}}};var _6=$h.default=m6,y6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_6},[$h])),v6=O(y6);Object.defineProperty(bh,"__esModule",{value:!0});const g6=v6,b6=[g6.default];var $6=bh.default=b6,w6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:$6},[bh])),S6=O(w6),vi={};Object.defineProperty(vi,"__esModule",{value:!0});var fb=vi.contentVocabulary=hb=vi.metadataVocabulary=void 0,hb=vi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];fb=vi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];var E6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get contentVocabulary(){return fb},get metadataVocabulary(){return hb},default:vi},[vi])),T6=O(E6);Object.defineProperty(Lf,"__esModule",{value:!0});const P6=J3,O6=$L,C6=h6,M6=S6,pb=T6,k6=[P6.default,O6.default,(0,C6.default)(),M6.default,pb.metadataVocabulary,pb.contentVocabulary];var x6=Lf.default=k6,R6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:x6},[Lf])),N6=O(R6),wh={},Sh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Sh);var I6=Pe(Sh),j6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:I6},[Sh])),A6=O(j6);Object.defineProperty(wh,"__esModule",{value:!0});const Qi=Ce,Eh=A6,F6={message:({params:{discrError:t,tagName:e}})=>t===Eh.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Qi._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},L6={keyword:"discriminator",type:"object",schemaType:"object",error:F6,code(t){const{gen:e,data:r,schema:n,parentSchema:i,it:o}=t,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),u=e.const("tag",(0,Qi._)`${r}${(0,Qi.getProperty)(s)}`);e.if((0,Qi._)`typeof ${u} == "string"`,()=>c(),()=>t.error(!1,{discrError:Eh.DiscrError.Tag,tag:u,tagName:s})),t.ok(l);function c(){const p=h();e.if(!1);for(const y in p)e.elseIf((0,Qi._)`${u} === ${y}`),e.assign(l,d(p[y]));e.else(),t.error(!1,{discrError:Eh.DiscrError.Mapping,tag:u,tagName:s}),e.endIf()}function d(p){const y=e.name("valid"),_=t.subschema({keyword:"oneOf",schemaProp:p},y);return t.mergeEvaluated(_,Qi.Name),y}function h(){var p;const y={},_=m(i);let f=!0;for(let P=0;P<a.length;P++){const A=a[P],S=(p=A.properties)===null||p===void 0?void 0:p[s];if(typeof S!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${s}"`);f=f&&(_||m(A)),g(S,P)}if(!f)throw new Error(`discriminator: "${s}" must be required`);return y;function m({required:P}){return Array.isArray(P)&&P.includes(s)}function g(P,A){if(P.const)w(P.const,A);else if(P.enum)for(const S of P.enum)w(S,A);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function w(P,A){if(typeof P!="string"||P in y)throw new Error(`discriminator: "${s}" values must be unique strings`);y[P]=A}}}};var D6=wh.default=L6,z6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:D6},[wh])),q6=O(z6);const U6="http://json-schema.org/draft-07/schema#",B6="http://json-schema.org/draft-07/schema#",H6="Core schema meta-schema",K6={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},V6=["object","boolean"],W6={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var G6={$schema:U6,$id:B6,title:H6,definitions:K6,type:V6,properties:W6,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=j3,n=N6,i=q6,o=G6,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(h,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=Yu;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=Ce;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}})})(Bu,Bu.exports);var X6=Pe(Bu.exports),J6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:X6},[Bu.exports])),Y6=O(J6);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Y6,r=Ce,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>r.str`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>r._`{comparison: ${i[s].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:c,keyword:d,it:h}=s,{opts:p,self:y}=h;if(!p.validateFormats)return;const _=new e.KeywordCxt(h,y.RULES.all.format.definition,"format");_.$data?f():m();function f(){const w=l.scopeValue("formats",{ref:y.formats,code:p.code.formats}),P=l.const("fmt",r._`${w}[${_.schemaCode}]`);s.fail$data(r.or(r._`typeof ${P} != "object"`,r._`${P} instanceof RegExp`,r._`typeof ${P}.compare != "function"`,g(P)))}function m(){const w=_.schema,P=y.formats[w];if(!P||P===!0)return;if(typeof P!="object"||P instanceof RegExp||typeof P.compare!="function")throw new Error(`"${d}": format "${w}" does not define "compare" function`);const A=l.scopeValue("formats",{key:w,ref:P,code:p.code.formats?r._`${p.code.formats}${r.getProperty(w)}`:void 0});s.fail$data(g(A))}function g(w){return r._`${w}.compare(${u}, ${c}) ${i[d].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(t.formatLimitDefinition),s);t.default=a})(_f);var Q6=Pe(_f),Z6=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Q6},[_f])),e4=O(Z6);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=$A,n=e4,i=Ce,o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,r.fullFormats,o),u;const[d,h]=c.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],p=c.formats||r.formatNames;return l(u,p,d,h),c.keywords&&n.default(u),u};s.get=(u,c="full")=>{const h=(c==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,c,d,h){var p,y;(p=(y=u.opts.code).formats)!==null&&p!==void 0||(y.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const _ of c)u.addFormat(_,d[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s})(Uu,Uu.exports);var t4=Pe(Uu.exports),r4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:t4},[Uu.exports])),n4=O(r4);const i4=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(e,r);!o4(i,o)&&n||Object.defineProperty(t,r,o)},o4=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},a4=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},s4=(t,e)=>`/* Wrapped ${t}*/
${e}`,u4=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),l4=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),c4=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=s4.bind(null,n,e.toString());Object.defineProperty(i,"name",l4),Object.defineProperty(t,"toString",ot(ge({},u4),{value:i}))},d4=(t,e,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=t;for(const i of Reflect.ownKeys(e))i4(t,e,i,r);return a4(t,e),c4(t,e,n),t};var mb=d4,f4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:mb},[mb])),h4=O(f4);const p4=h4;var _b=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:r=0,before:n=!1,after:i=!0}=e;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,a;const s=function(...l){const u=this,c=()=>{o=void 0,i&&(a=t.apply(u,l))},d=n&&!o;return clearTimeout(o),o=setTimeout(c,r),d&&(a=t.apply(u,l)),a};return p4(s,t),s.cancel=()=>{o&&(clearTimeout(o),o=void 0)},s},m4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_b},[_b])),_4=O(m4),fl={exports:{}};const y4="2.0.0",v4=256,g4=Number.MAX_SAFE_INTEGER||9007199254740991,b4=16;var yb={SEMVER_SPEC_VERSION:y4,MAX_LENGTH:v4,MAX_SAFE_INTEGER:g4,MAX_SAFE_COMPONENT_LENGTH:b4},$4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:yb},[yb])),hl=O($4);const w4=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var vb=w4,S4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:vb},[vb])),pl=O(S4);(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=hl,n=pl;e=t.exports={};const i=e.re=[],o=e.src=[],a=e.t={};let s=0;const l=(u,c,d)=>{const h=s++;n(h,c),a[u]=h,o[h]=c,i[h]=new RegExp(c,d?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),l("FULL",`^${o[a.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),l("LOOSE",`^${o[a.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),l("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",o[a.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(fl,fl.exports);var E4=fl.exports,T4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:E4},[fl.exports])),Zi=O(T4);const P4=["includePrerelease","loose","rtl"],O4=t=>t?typeof t!="object"?{loose:!0}:P4.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};var gb=O4,C4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:gb},[gb])),ml=O(C4);const bb=/^[0-9]+$/,$b=(t,e)=>{const r=bb.test(t),n=bb.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},M4=(t,e)=>$b(e,t);var wb={compareIdentifiers:$b,rcompareIdentifiers:M4},k4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:wb},[wb])),Th=O(k4);const _l=pl,{MAX_LENGTH:Sb,MAX_SAFE_INTEGER:yl}=hl,{re:Eb,t:Tb}=Zi,x4=ml,{compareIdentifiers:ha}=Th;class Sr{constructor(e,r){if(r=x4(r),e instanceof Sr){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Sb)throw new TypeError(`version is longer than ${Sb} characters`);_l("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Eb[Tb.LOOSE]:Eb[Tb.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>yl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>yl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>yl||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<yl)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_l("SemVer.compare",this.version,this.options,e),!(e instanceof Sr)){if(typeof e=="string"&&e===this.version)return 0;e=new Sr(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Sr||(e=new Sr(e,this.options)),ha(this.major,e.major)||ha(this.minor,e.minor)||ha(this.patch,e.patch)}comparePre(e){if(e instanceof Sr||(e=new Sr(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(_l("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ha(n,i)}while(++r)}compareBuild(e){e instanceof Sr||(e=new Sr(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(_l("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ha(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var Pb=Sr,R4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Pb},[Pb])),Ut=O(R4);const{MAX_LENGTH:N4}=hl,{re:Ob,t:Cb}=Zi,Mb=Ut,I4=ml,j4=(t,e)=>{if(e=I4(e),t instanceof Mb)return t;if(typeof t!="string"||t.length>N4||!(e.loose?Ob[Cb.LOOSE]:Ob[Cb.FULL]).test(t))return null;try{return new Mb(t,e)}catch(n){return null}};var kb=j4,A4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:kb},[kb])),eo=O(A4);const F4=eo,L4=(t,e)=>{const r=F4(t,e);return r?r.version:null};var xb=L4,D4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:xb},[xb])),z4=O(D4);const q4=eo,U4=(t,e)=>{const r=q4(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Rb=U4,B4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Rb},[Rb])),H4=O(B4);const K4=Ut,V4=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new K4(t,r).inc(e,n).version}catch(i){return null}};var Nb=V4,W4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Nb},[Nb])),G4=O(W4);const Ib=Ut,X4=(t,e,r)=>new Ib(t,r).compare(new Ib(e,r));var jb=X4,J4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jb},[jb])),Er=O(J4);const Y4=Er,Q4=(t,e,r)=>Y4(t,e,r)===0;var Ab=Q4,Z4=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Ab},[Ab])),Ph=O(Z4);const Fb=eo,e5=Ph,t5=(t,e)=>{if(e5(t,e))return null;{const r=Fb(t),n=Fb(e),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",a=i?"prerelease":"";for(const s in r)if((s==="major"||s==="minor"||s==="patch")&&r[s]!==n[s])return o+s;return a}};var Lb=t5,r5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Lb},[Lb])),n5=O(r5);const i5=Ut,o5=(t,e)=>new i5(t,e).major;var Db=o5,a5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Db},[Db])),s5=O(a5);const u5=Ut,l5=(t,e)=>new u5(t,e).minor;var zb=l5,c5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zb},[zb])),d5=O(c5);const f5=Ut,h5=(t,e)=>new f5(t,e).patch;var qb=h5,p5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:qb},[qb])),m5=O(p5);const _5=eo,y5=(t,e)=>{const r=_5(t,e);return r&&r.prerelease.length?r.prerelease:null};var Ub=y5,v5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Ub},[Ub])),g5=O(v5);const b5=Er,$5=(t,e,r)=>b5(e,t,r);var Bb=$5,w5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Bb},[Bb])),S5=O(w5);const E5=Er,T5=(t,e)=>E5(t,e,!0);var Hb=T5,P5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Hb},[Hb])),O5=O(P5);const Kb=Ut,C5=(t,e,r)=>{const n=new Kb(t,r),i=new Kb(e,r);return n.compare(i)||n.compareBuild(i)};var Vb=C5,M5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Vb},[Vb])),Oh=O(M5);const k5=Oh,x5=(t,e)=>t.sort((r,n)=>k5(r,n,e));var Wb=x5,R5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Wb},[Wb])),N5=O(R5);const I5=Oh,j5=(t,e)=>t.sort((r,n)=>I5(n,r,e));var Gb=j5,A5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Gb},[Gb])),F5=O(A5);const L5=Er,D5=(t,e,r)=>L5(t,e,r)>0;var Xb=D5,z5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Xb},[Xb])),vl=O(z5);const q5=Er,U5=(t,e,r)=>q5(t,e,r)<0;var Jb=U5,B5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Jb},[Jb])),Ch=O(B5);const H5=Er,K5=(t,e,r)=>H5(t,e,r)!==0;var Yb=K5,V5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Yb},[Yb])),Qb=O(V5);const W5=Er,G5=(t,e,r)=>W5(t,e,r)>=0;var Zb=G5,X5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Zb},[Zb])),Mh=O(X5);const J5=Er,Y5=(t,e,r)=>J5(t,e,r)<=0;var e$=Y5,Q5=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:e$},[e$])),kh=O(Q5);const Z5=Ph,ez=Qb,tz=vl,rz=Mh,nz=Ch,iz=kh,oz=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Z5(t,r,n);case"!=":return ez(t,r,n);case">":return tz(t,r,n);case">=":return rz(t,r,n);case"<":return nz(t,r,n);case"<=":return iz(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var t$=oz,az=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:t$},[t$])),r$=O(az);const sz=Ut,uz=eo,{re:gl,t:bl}=Zi,lz=(t,e)=>{if(t instanceof sz)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(gl[bl.COERCE]);else{let n;for(;(n=gl[bl.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),gl[bl.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;gl[bl.COERCERTL].lastIndex=-1}return r===null?null:uz(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var n$=lz,cz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:n$},[n$])),dz=O(cz),i$=Fe;Fe.Node=gi;Fe.create=Fe;function Fe(t){var e=this;if(e instanceof Fe||(e=new Fe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Fe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Fe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Fe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Fe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)hz(this,arguments[t]);return this.length};Fe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)pz(this,arguments[t]);return this.length};Fe.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Fe.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Fe.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Fe.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Fe.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Fe.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Fe.prototype.map=function(t,e){e=e||this;for(var r=new Fe,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Fe.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Fe,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Fe.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Fe.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Fe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Fe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Fe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Fe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Fe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Fe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Fe.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=fz(this,i,r[n]);return o};Fe.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function fz(t,e,r){var n=e===t.head?new gi(r,null,e,t):new gi(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function hz(t,e){t.tail=new gi(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function pz(t,e){t.head=new gi(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function gi(t,e,r,n){if(!(this instanceof gi))return new gi(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{require("./iterator.js")(Fe)}catch(t){}var mz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:i$},[i$])),_z=O(mz);const yz=_z,bi=Symbol("max"),on=Symbol("length"),to=Symbol("lengthCalculator"),pa=Symbol("allowStale"),$i=Symbol("maxAge"),an=Symbol("dispose"),o$=Symbol("noDisposeOnSet"),$t=Symbol("lruList"),Tr=Symbol("cache"),a$=Symbol("updateAgeOnGet"),xh=()=>1;class vz{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[bi]=e.max||1/0;const r=e.length||xh;if(this[to]=typeof r!="function"?xh:r,this[pa]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[$i]=e.maxAge||0,this[an]=e.dispose,this[o$]=e.noDisposeOnSet||!1,this[a$]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[bi]=e||1/0,ma(this)}get max(){return this[bi]}set allowStale(e){this[pa]=!!e}get allowStale(){return this[pa]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[$i]=e,ma(this)}get maxAge(){return this[$i]}set lengthCalculator(e){typeof e!="function"&&(e=xh),e!==this[to]&&(this[to]=e,this[on]=0,this[$t].forEach(r=>{r.length=this[to](r.value,r.key),this[on]+=r.length})),ma(this)}get lengthCalculator(){return this[to]}get length(){return this[on]}get itemCount(){return this[$t].length}rforEach(e,r){r=r||this;for(let n=this[$t].tail;n!==null;){const i=n.prev;s$(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[$t].head;n!==null;){const i=n.next;s$(this,e,n,r),n=i}}keys(){return this[$t].toArray().map(e=>e.key)}values(){return this[$t].toArray().map(e=>e.value)}reset(){this[an]&&this[$t]&&this[$t].length&&this[$t].forEach(e=>this[an](e.key,e.value)),this[Tr]=new Map,this[$t]=new yz,this[on]=0}dump(){return this[$t].map(e=>$l(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[$t]}set(e,r,n){if(n=n||this[$i],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[to](r,e);if(this[Tr].has(e)){if(o>this[bi])return ro(this,this[Tr].get(e)),!1;const l=this[Tr].get(e).value;return this[an]&&(this[o$]||this[an](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[on]+=o-l.length,l.length=o,this.get(e),ma(this),!0}const a=new gz(e,r,o,i,n);return a.length>this[bi]?(this[an]&&this[an](e,r),!1):(this[on]+=a.length,this[$t].unshift(a),this[Tr].set(e,this[$t].head),ma(this),!0)}has(e){if(!this[Tr].has(e))return!1;const r=this[Tr].get(e).value;return!$l(this,r)}get(e){return Rh(this,e,!0)}peek(e){return Rh(this,e,!1)}pop(){const e=this[$t].tail;return e?(ro(this,e),e.value):null}del(e){ro(this,this[Tr].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const a=o-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Tr].forEach((e,r)=>Rh(this,r,!1))}}const Rh=(t,e,r)=>{const n=t[Tr].get(e);if(n){const i=n.value;if($l(t,i)){if(ro(t,n),!t[pa])return}else r&&(t[a$]&&(n.value.now=Date.now()),t[$t].unshiftNode(n));return i.value}},$l=(t,e)=>{if(!e||!e.maxAge&&!t[$i])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[$i]&&r>t[$i]},ma=t=>{if(t[on]>t[bi])for(let e=t[$t].tail;t[on]>t[bi]&&e!==null;){const r=e.prev;ro(t,e),e=r}},ro=(t,e)=>{if(e){const r=e.value;t[an]&&t[an](r.key,r.value),t[on]-=r.length,t[Tr].delete(r.key),t[$t].removeNode(e)}};class gz{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const s$=(t,e,r,n)=>{let i=r.value;$l(t,i)&&(ro(t,r),t[pa]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var u$=vz,bz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:u$},[u$])),$z=O(bz),wl=O(VO);class _a{constructor(e,r){if(r=Sz(r),e instanceof _a)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new _a(e.raw,r);if(e instanceof Nh)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const n=this.set[0];if(this.set=this.set.filter(i=>!d$(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(const i of this.set)if(i.length===1&&Cz(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=c$.get(n);if(i)return i;const o=this.options.loose,a=o?Rt[Pt.HYPHENRANGELOOSE]:Rt[Pt.HYPHENRANGE];e=e.replace(a,Lz(this.options.includePrerelease)),mt("hyphen replace",e),e=e.replace(Rt[Pt.COMPARATORTRIM],Tz),mt("comparator trim",e,Rt[Pt.COMPARATORTRIM]),e=e.replace(Rt[Pt.TILDETRIM],Pz),e=e.replace(Rt[Pt.CARETTRIM],Oz),e=e.split(/\s+/).join(" ");const s=o?Rt[Pt.COMPARATORLOOSE]:Rt[Pt.COMPARATOR],l=e.split(" ").map(d=>Mz(d,this.options)).join(" ").split(/\s+/).map(d=>Fz(d,this.options)).filter(this.options.loose?d=>!!d.match(s):()=>!0).map(d=>new Nh(d,this.options));l.length;const u=new Map;for(const d of l){if(d$(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");const c=[...u.values()];return c$.set(n,c),c}intersects(e,r){if(!(e instanceof _a))throw new TypeError("a Range is required");return this.set.some(n=>f$(n,r)&&e.set.some(i=>f$(i,r)&&n.every(o=>i.every(a=>o.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Ez(e,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(Dz(this.set[r],e,this.options))return!0;return!1}}var l$=_a;const wz=$z,c$=new wz({max:1e3}),Sz=ml,Nh=wl,mt=pl,Ez=Ut,{re:Rt,t:Pt,comparatorTrimReplace:Tz,tildeTrimReplace:Pz,caretTrimReplace:Oz}=Zi,d$=t=>t.value==="<0.0.0-0",Cz=t=>t.value==="",f$=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},Mz=(t,e)=>(mt("comp",t,e),t=Rz(t,e),mt("caret",t),t=kz(t,e),mt("tildes",t),t=Iz(t,e),mt("xrange",t),t=Az(t,e),mt("stars",t),t),Bt=t=>!t||t.toLowerCase()==="x"||t==="*",kz=(t,e)=>t.trim().split(/\s+/).map(r=>xz(r,e)).join(" "),xz=(t,e)=>{const r=e.loose?Rt[Pt.TILDELOOSE]:Rt[Pt.TILDE];return t.replace(r,(n,i,o,a,s)=>{mt("tilde",t,n,i,o,a,s);let l;return Bt(i)?l="":Bt(o)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Bt(a)?l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:s?(mt("replaceTilde pr",s),l=`>=${i}.${o}.${a}-${s} <${i}.${+o+1}.0-0`):l=`>=${i}.${o}.${a} <${i}.${+o+1}.0-0`,mt("tilde return",l),l})},Rz=(t,e)=>t.trim().split(/\s+/).map(r=>Nz(r,e)).join(" "),Nz=(t,e)=>{mt("caret",t,e);const r=e.loose?Rt[Pt.CARETLOOSE]:Rt[Pt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,a,s,l)=>{mt("caret",t,i,o,a,s,l);let u;return Bt(o)?u="":Bt(a)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Bt(s)?o==="0"?u=`>=${o}.${a}.0${n} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.0${n} <${+o+1}.0.0-0`:l?(mt("replaceCaret pr",l),o==="0"?a==="0"?u=`>=${o}.${a}.${s}-${l} <${o}.${a}.${+s+1}-0`:u=`>=${o}.${a}.${s}-${l} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.${s}-${l} <${+o+1}.0.0-0`):(mt("no pr"),o==="0"?a==="0"?u=`>=${o}.${a}.${s}${n} <${o}.${a}.${+s+1}-0`:u=`>=${o}.${a}.${s}${n} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.${s} <${+o+1}.0.0-0`),mt("caret return",u),u})},Iz=(t,e)=>(mt("replaceXRanges",t,e),t.split(/\s+/).map(r=>jz(r,e)).join(" ")),jz=(t,e)=>{t=t.trim();const r=e.loose?Rt[Pt.XRANGELOOSE]:Rt[Pt.XRANGE];return t.replace(r,(n,i,o,a,s,l)=>{mt("xRange",t,n,i,o,a,s,l);const u=Bt(o),c=u||Bt(a),d=c||Bt(s),h=d;return i==="="&&h&&(i=""),l=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(c&&(a=0),s=0,i===">"?(i=">=",c?(o=+o+1,a=0,s=0):(a=+a+1,s=0)):i==="<="&&(i="<",c?o=+o+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+o}.${a}.${s}${l}`):c?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${a}.0${l} <${o}.${+a+1}.0-0`),mt("xRange return",n),n})},Az=(t,e)=>(mt("replaceStars",t,e),t.trim().replace(Rt[Pt.STAR],"")),Fz=(t,e)=>(mt("replaceGTE0",t,e),t.trim().replace(Rt[e.includePrerelease?Pt.GTE0PRE:Pt.GTE0],"")),Lz=t=>(e,r,n,i,o,a,s,l,u,c,d,h,p)=>(Bt(n)?r="":Bt(i)?r=`>=${n}.0.0${t?"-0":""}`:Bt(o)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Bt(u)?l="":Bt(c)?l=`<${+u+1}.0.0-0`:Bt(d)?l=`<${u}.${+c+1}.0-0`:h?l=`<=${u}.${c}.${d}-${h}`:t?l=`<${u}.${c}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Dz=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(mt(t[n].semver),t[n].semver!==Nh.ANY&&t[n].semver.prerelease.length>0){const i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0};var zz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:l$},[l$])),Pr=O(zz);const ya=Symbol("SemVer ANY");class Sl{static get ANY(){return ya}constructor(e,r){if(r=qz(r),e instanceof Sl){if(e.loose===!!r.loose)return e;e=e.value}jh("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ya?this.value="":this.value=this.operator+this.semver.version,jh("comp",this)}parse(e){const r=this.options.loose?p$[m$.COMPARATORLOOSE]:p$[m$.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new _$(n[2],this.options.loose):this.semver=ya}toString(){return this.value}test(e){if(jh("Comparator.test",e,this.options.loose),this.semver===ya||e===ya)return!0;if(typeof e=="string")try{e=new _$(e,this.options)}catch(r){return!1}return Ih(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Sl))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new y$(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new y$(this.value,r).test(e.semver);const n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),s=Ih(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=Ih(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||o&&a||s||l}}var h$=Sl;const qz=ml,{re:p$,t:m$}=Zi,Ih=r$,jh=pl,_$=Ut,y$=Pr,Uz=Pr,Bz=(t,e,r)=>{try{e=new Uz(e,r)}catch(n){return!1}return e.test(t)};var v$=Bz,Hz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:v$},[v$])),El=O(Hz);const Kz=Pr,Vz=(t,e)=>new Kz(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var g$=Vz,Wz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:g$},[g$])),Gz=O(Wz);const Xz=Ut,Jz=Pr,Yz=(t,e,r)=>{let n=null,i=null,o=null;try{o=new Jz(e,r)}catch(a){return null}return t.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Xz(n,r))}),n};var b$=Yz,Qz=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:b$},[b$])),Zz=O(Qz);const eq=Ut,tq=Pr,rq=(t,e,r)=>{let n=null,i=null,o=null;try{o=new tq(e,r)}catch(a){return null}return t.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new eq(n,r))}),n};var $$=rq,nq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:$$},[$$])),iq=O(nq);const Ah=Ut,oq=Pr,w$=vl,aq=(t,e)=>{t=new oq(t,e);let r=new Ah("0.0.0");if(t.test(r)||(r=new Ah("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let o=null;i.forEach(a=>{const s=new Ah(a.semver.version);switch(a.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!o||w$(s,o))&&(o=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||w$(r,o))&&(r=o)}return r&&t.test(r)?r:null};var S$=aq,sq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:S$},[S$])),uq=O(sq);const lq=Pr,cq=(t,e)=>{try{return new lq(t,e).range||"*"}catch(r){return null}};var E$=cq,dq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:E$},[E$])),fq=O(dq);const hq=Ut,T$=wl,{ANY:pq}=T$,mq=Pr,_q=El,P$=vl,O$=Ch,yq=kh,vq=Mh,gq=(t,e,r,n)=>{t=new hq(t,n),e=new mq(e,n);let i,o,a,s,l;switch(r){case">":i=P$,o=yq,a=O$,s=">",l=">=";break;case"<":i=O$,o=vq,a=P$,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_q(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const c=e.set[u];let d=null,h=null;if(c.forEach(p=>{p.semver===pq&&(p=new T$(">=0.0.0")),d=d||p,h=h||p,i(p.semver,d.semver,n)?d=p:a(p.semver,h.semver,n)&&(h=p)}),d.operator===s||d.operator===l||(!h.operator||h.operator===s)&&o(t,h.semver))return!1;if(h.operator===l&&a(t,h.semver))return!1}return!0};var C$=gq,bq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:C$},[C$])),Fh=O(bq);const $q=Fh,wq=(t,e,r)=>$q(t,e,">",r);var M$=wq,Sq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:M$},[M$])),Eq=O(Sq);const Tq=Fh,Pq=(t,e,r)=>Tq(t,e,"<",r);var k$=Pq,Oq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:k$},[k$])),Cq=O(Oq);const x$=Pr,Mq=(t,e,r)=>(t=new x$(t,r),e=new x$(e,r),t.intersects(e));var R$=Mq,kq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:R$},[R$])),xq=O(kq);const Rq=El,Nq=Er;var N$=(t,e,r)=>{const n=[];let i=null,o=null;const a=t.sort((c,d)=>Nq(c,d,r));for(const c of a)Rq(c,e,r)?(o=c,i||(i=c)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);const s=[];for(const[c,d]of n)c===d?s.push(c):!d&&c===a[0]?s.push("*"):d?c===a[0]?s.push(`<=${d}`):s.push(`${c} - ${d}`):s.push(`>=${c}`);const l=s.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return l.length<u.length?l:e},Iq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:N$},[N$])),jq=O(Iq);const I$=Pr,Tl=wl,{ANY:Lh}=Tl,va=El,Dh=Er,Aq=(t,e,r={})=>{if(t===e)return!0;t=new I$(t,r),e=new I$(e,r);let n=!1;e:for(const i of t.set){for(const o of e.set){const a=Fq(i,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Fq=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Lh){if(e.length===1&&e[0].semver===Lh)return!0;r.includePrerelease?t=[new Tl(">=0.0.0-0")]:t=[new Tl(">=0.0.0")]}if(e.length===1&&e[0].semver===Lh){if(r.includePrerelease)return!0;e=[new Tl(">=0.0.0")]}const n=new Set;let i,o;for(const p of t)p.operator===">"||p.operator===">="?i=j$(i,p,r):p.operator==="<"||p.operator==="<="?o=A$(o,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&o){if(a=Dh(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const p of n){if(i&&!va(p,String(i),r)||o&&!va(p,String(o),r))return null;for(const y of e)if(!va(p,String(y),r))return!1;return!0}let s,l,u,c,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const p of e){if(c=c||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(s=j$(i,p,r),s===p&&s!==i)return!1}else if(i.operator===">="&&!va(i.semver,String(p),r))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(l=A$(o,p,r),l===p&&l!==o)return!1}else if(o.operator==="<="&&!va(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&a!==0)return!1}return!(i&&u&&!o&&a!==0||o&&c&&!i&&a!==0||h||d)},j$=(t,e,r)=>{if(!t)return e;const n=Dh(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},A$=(t,e,r)=>{if(!t)return e;const n=Dh(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var F$=Aq,Lq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:F$},[F$])),Dq=O(Lq);const zh=Zi;var L$={re:zh.re,src:zh.src,tokens:zh.t,SEMVER_SPEC_VERSION:hl.SEMVER_SPEC_VERSION,SemVer:Ut,compareIdentifiers:Th.compareIdentifiers,rcompareIdentifiers:Th.rcompareIdentifiers,parse:eo,valid:z4,clean:H4,inc:G4,diff:n5,major:s5,minor:d5,patch:m5,prerelease:g5,compare:Er,rcompare:S5,compareLoose:O5,compareBuild:Oh,sort:N5,rsort:F5,gt:vl,lt:Ch,eq:Ph,neq:Qb,gte:Mh,lte:kh,cmp:r$,coerce:dz,Comparator:wl,Range:Pr,satisfies:El,toComparators:Gz,maxSatisfying:Zz,minSatisfying:iq,minVersion:uq,validRange:fq,outside:Fh,gtr:Eq,ltr:Cq,intersects:xq,simplifyRange:jq,subset:Dq},zq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:L$},[L$])),qq=O(zq),ga={exports:{}},Pl={exports:{}};const D$=(t,e)=>{for(const r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Pl.exports=D$;Pl.exports.default=D$;var Uq=Pl.exports,Bq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Uq},[Pl.exports])),Hq=O(Bq);const Kq=Hq,Ol=new WeakMap,z$=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0;const i=t.displayName||t.name||"<anonymous>",o=function(...a){if(Ol.set(o,++n),n===1)r=t.apply(this,a),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return Kq(o,t),Ol.set(o,n),o};ga.exports=z$;ga.exports.default=z$;var Vq=ga.exports.callCount=t=>{if(!Ol.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Ol.get(t)},Wq=ga.exports,Gq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Wq,callCount:Vq},[ga.exports])),Xq=O(Gq);(function(t,e){var r=K&&K.__classPrivateFieldSet||function(de,N,E,k,I){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof N=="function"?de!==N||!I:!N.has(de))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?I.call(de,E):I?I.value=E:N.set(de,E),E},n=K&&K.__classPrivateFieldGet||function(de,N,E,k){if(E==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof N=="function"?de!==N||!k:!N.has(de))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?k:E==="a"?k.call(de):k?k.value:N.get(de)},i,o,a,s,l,u;Object.defineProperty(e,"__esModule",{value:!0});const c=ue,d=ue,h=ue,p=ue,y=ue,_=Zn,f=fC,m=zC,g=VC,w=DM,P=vA,A=n4,S=_4,M=qq,L=Xq,W="aes-256-cbc",z=()=>Object.create(null),Z=de=>de!=null;let G="";try{delete require.cache[__filename],G=h.dirname((o=(i=t.parent)===null||i===void 0?void 0:i.filename)!==null&&o!==void 0?o:".")}catch(de){}const ae=(de,N)=>{const E=new Set(["undefined","symbol","function"]),k=typeof N;if(E.has(k))throw new TypeError(`Setting a value of type \`${k}\` for key \`${de}\` is not allowed as it's not supported by JSON`)},se="__internal__",ce=`${se}.migrations.version`;class ye{constructor(N={}){var E;a.set(this,void 0),s.set(this,void 0),l.set(this,void 0),u.set(this,{}),this._deserialize=T=>JSON.parse(T),this._serialize=T=>JSON.stringify(T,void 0,"	");const k=ge({configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0},N),I=L(()=>{const T=m.sync({cwd:G}),F=T&&JSON.parse(d.readFileSync(T,"utf8"));return F!=null?F:{}});if(!k.cwd){if(k.projectName||(k.projectName=I().name),!k.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");k.cwd=g(k.projectName,{suffix:k.projectSuffix}).config}if(r(this,l,k,"f"),k.schema){if(typeof k.schema!="object")throw new TypeError("The `schema` option must be an object.");const T=new P.default({allErrors:!0,useDefaults:!0});(0,A.default)(T);const F={type:"object",properties:k.schema};r(this,a,T.compile(F),"f");for(const[ee,X]of Object.entries(k.schema))(X==null?void 0:X.default)&&(n(this,u,"f")[ee]=X.default)}k.defaults&&r(this,u,ge(ge({},n(this,u,"f")),k.defaults),"f"),k.serialize&&(this._serialize=k.serialize),k.deserialize&&(this._deserialize=k.deserialize),this.events=new _.EventEmitter,r(this,s,k.encryptionKey,"f");const B=k.fileExtension?`.${k.fileExtension}`:"";this.path=h.resolve(k.cwd,`${(E=k.configName)!==null&&E!==void 0?E:"config"}${B}`);const D=this.store,v=Object.assign(z(),k.defaults,D);this._validate(v);try{y.deepEqual(D,v)}catch(T){this.store=v}if(k.watch&&this._watch(),k.migrations){if(k.projectVersion||(k.projectVersion=I().version),!k.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(k.migrations,k.projectVersion)}}get(N,E){if(n(this,l,"f").accessPropertiesByDotNotation)return this._get(N,E);const{store:k}=this;return N in k?k[N]:E}set(N,E){if(typeof N!="string"&&typeof N!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof N}`);if(typeof N!="object"&&E===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(N))throw new TypeError(`Please don't use the ${se} key, as it's used to manage this module internal operations.`);const{store:k}=this,I=(B,D)=>{ae(B,D),n(this,l,"f").accessPropertiesByDotNotation?f.set(k,B,D):k[B]=D};if(typeof N=="object"){const B=N;for(const[D,v]of Object.entries(B))I(D,v)}else I(N,E);this.store=k}has(N){return n(this,l,"f").accessPropertiesByDotNotation?f.has(this.store,N):N in this.store}reset(...N){for(const E of N)Z(n(this,u,"f")[E])&&this.set(E,n(this,u,"f")[E])}delete(N){const{store:E}=this;n(this,l,"f").accessPropertiesByDotNotation?f.delete(E,N):delete E[N],this.store=E}clear(){this.store=z();for(const N of Object.keys(n(this,u,"f")))this.reset(N)}onDidChange(N,E){if(typeof N!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof N}`);if(typeof E!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof E}`);return this._handleChange(()=>this.get(N),E)}onDidAnyChange(N){if(typeof N!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof N}`);return this._handleChange(()=>this.store,N)}get size(){return Object.keys(this.store).length}get store(){try{const N=d.readFileSync(this.path,n(this,s,"f")?null:"utf8"),E=this._encryptData(N),k=this._deserialize(E);return this._validate(k),Object.assign(z(),k)}catch(N){if((N==null?void 0:N.code)==="ENOENT")return this._ensureDirectory(),z();if(n(this,l,"f").clearInvalidConfig&&N.name==="SyntaxError")return z();throw N}}set store(N){this._ensureDirectory(),this._validate(N),this._write(N),this.events.emit("change")}*[(a=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,Symbol.iterator)](){for(const[N,E]of Object.entries(this.store))yield[N,E]}_encryptData(N){if(!n(this,s,"f"))return N.toString();try{if(n(this,s,"f"))try{if(N.slice(16,17).toString()===":"){const E=N.slice(0,16),k=p.pbkdf2Sync(n(this,s,"f"),E.toString(),1e4,32,"sha512"),I=p.createDecipheriv(W,k,E);N=Buffer.concat([I.update(Buffer.from(N.slice(17))),I.final()]).toString("utf8")}else{const E=p.createDecipher(W,n(this,s,"f"));N=Buffer.concat([E.update(Buffer.from(N)),E.final()]).toString("utf8")}}catch(E){}}catch(E){}return N.toString()}_handleChange(N,E){let k=N();const I=()=>{const B=k,D=N();(0,c.isDeepStrictEqual)(D,B)||(k=D,E.call(this,D,B))};return this.events.on("change",I),()=>this.events.removeListener("change",I)}_validate(N){if(!n(this,a,"f")||n(this,a,"f").call(this,N)||!n(this,a,"f").errors)return;const k=n(this,a,"f").errors.map(({instancePath:I,message:B=""})=>`\`${I.slice(1)}\` ${B}`);throw new Error("Config schema violation: "+k.join("; "))}_ensureDirectory(){d.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(N){let E=this._serialize(N);if(n(this,s,"f")){const k=p.randomBytes(16),I=p.pbkdf2Sync(n(this,s,"f"),k.toString(),1e4,32,"sha512"),B=p.createCipheriv(W,I,k);E=Buffer.concat([k,Buffer.from(":"),B.update(Buffer.from(E)),B.final()])}try{w.writeFileSync(this.path,E)}catch(k){if((k==null?void 0:k.code)==="EXDEV"){d.writeFileSync(this.path,E);return}throw k}}_watch(){this._ensureDirectory(),d.existsSync(this.path)||this._write(z()),process.platform==="win32"?d.watch(this.path,{persistent:!1},S(()=>{this.events.emit("change")},{wait:100})):d.watchFile(this.path,{persistent:!1},S(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(N,E){let k=this._get(ce,"0.0.0");const I=Object.keys(N).filter(D=>this._shouldPerformMigration(D,k,E));let B=ge({},this.store);for(const D of I)try{N[D](this),this._set(ce,D),k=D,B=ge({},this.store)}catch(v){throw this.store=B,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${v}`)}(this._isVersionInRangeFormat(k)||!M.eq(k,E))&&this._set(ce,E)}_containsReservedKey(N){return typeof N=="object"&&Object.keys(N)[0]===se?!0:typeof N!="string"?!1:n(this,l,"f").accessPropertiesByDotNotation?!!N.startsWith(`${se}.`):!1}_isVersionInRangeFormat(N){return M.clean(N)===null}_shouldPerformMigration(N,E,k){return this._isVersionInRangeFormat(N)?E!=="0.0.0"&&M.satisfies(E,N)?!1:M.satisfies(k,N):!(M.lte(N,E)||M.gt(N,k))}_get(N,E){return f.get(this.store,N,E)}_set(N,E){const{store:k}=this;f.set(k,N,E),this.store=k}}e.default=ye,t.exports=ye,t.exports.default=ye})(nu,nu.exports);var Jq=Pe(nu.exports),Yq=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Jq},[nu.exports])),Qq=O(Yq);const q$=ue,{app:Cl,ipcMain:qh,ipcRenderer:U$,shell:Zq}=KO,eU=Qq;let B$=!1;const H$=()=>{if(!qh||!Cl)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const t={defaultCwd:Cl.getPath("userData"),appVersion:Cl.getVersion()};return B$||(qh.on("electron-store-get-data",e=>{e.returnValue=t}),B$=!0),t};class tU extends eU{constructor(e){let r,n;if(U$){const i=U$.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else qh&&Cl&&({defaultCwd:r,appVersion:n}=H$());e=ge({name:"config"},e),e.projectVersion||(e.projectVersion=n),e.cwd?e.cwd=q$.isAbsolute(e.cwd)?e.cwd:q$.join(r,e.cwd):e.cwd=r,e.configName=e.name,delete e.name;super(e)}static initRenderer(){H$()}openInEditor(){Zq.openPath(this.path)}}var K$=tU,rU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:K$},[K$])),nU=O(rU);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreSet=t.StoreGet=t.store=void 0;var e=nU;t.store=new e;function r(i){return t.store.get(i)}t.StoreGet=r;function n(i,o){t.store.set(i,o)}t.StoreSet=n})(Yc);var Uh={},Bh={},ba={},Hh={},Kh={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var V$;(function(t){(function(e){var r=typeof K=="object"?K:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect=="undefined"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(o,a){return function(s,l){typeof o[s]!="function"&&Object.defineProperty(o,s,{configurable:!0,writable:!0,value:l}),a&&a(s,l)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",o=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",s={__proto__:[]}instanceof Array,l=!a&&!s,u={create:a?function(){return me(Object.create(null))}:s?function(){return me({__proto__:null})}:function(){return me({})},has:l?function(H,J){return r.call(H,J)}:function(H,J){return J in H},get:l?function(H,J){return r.call(H,J)?H[J]:void 0}:function(H,J){return H[J]}},c=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",h=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:V(),p=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:te(),y=!d&&typeof WeakMap=="function"?WeakMap:ne(),_=new y;function f(H,J,re,ie){if(I(re)){if(!Ge(H))throw new TypeError;if(!gt(J))throw new TypeError;return z(H,J)}else{if(!Ge(H))throw new TypeError;if(!v(J))throw new TypeError;if(!v(ie)&&!I(ie)&&!B(ie))throw new TypeError;return B(ie)&&(ie=void 0),re=oe(re),Z(H,J,re,ie)}}e("decorate",f);function m(H,J){function re(ie,le){if(!v(ie))throw new TypeError;if(!I(le)&&!it(le))throw new TypeError;de(H,J,ie,le)}return re}e("metadata",m);function g(H,J,re,ie){if(!v(re))throw new TypeError;return I(ie)||(ie=oe(ie)),de(H,J,re,ie)}e("defineMetadata",g);function w(H,J,re){if(!v(J))throw new TypeError;return I(re)||(re=oe(re)),ae(H,J,re)}e("hasMetadata",w);function P(H,J,re){if(!v(J))throw new TypeError;return I(re)||(re=oe(re)),se(H,J,re)}e("hasOwnMetadata",P);function A(H,J,re){if(!v(J))throw new TypeError;return I(re)||(re=oe(re)),ce(H,J,re)}e("getMetadata",A);function S(H,J,re){if(!v(J))throw new TypeError;return I(re)||(re=oe(re)),ye(H,J,re)}e("getOwnMetadata",S);function M(H,J){if(!v(H))throw new TypeError;return I(J)||(J=oe(J)),N(H,J)}e("getMetadataKeys",M);function L(H,J){if(!v(H))throw new TypeError;return I(J)||(J=oe(J)),E(H,J)}e("getOwnMetadataKeys",L);function W(H,J,re){if(!v(J))throw new TypeError;I(re)||(re=oe(re));var ie=G(J,re,!1);if(I(ie)||!ie.delete(H))return!1;if(ie.size>0)return!0;var le=_.get(J);return le.delete(re),le.size>0||_.delete(J),!0}e("deleteMetadata",W);function z(H,J){for(var re=H.length-1;re>=0;--re){var ie=H[re],le=ie(J);if(!I(le)&&!B(le)){if(!gt(le))throw new TypeError;J=le}}return J}function Z(H,J,re,ie){for(var le=H.length-1;le>=0;--le){var Le=H[le],be=Le(J,re,ie);if(!I(be)&&!B(be)){if(!v(be))throw new TypeError;ie=be}}return ie}function G(H,J,re){var ie=_.get(H);if(I(ie)){if(!re)return;ie=new h,_.set(H,ie)}var le=ie.get(J);if(I(le)){if(!re)return;le=new h,ie.set(J,le)}return le}function ae(H,J,re){var ie=se(H,J,re);if(ie)return!0;var le=j(J);return B(le)?!1:ae(H,le,re)}function se(H,J,re){var ie=G(J,re,!1);return I(ie)?!1:ee(ie.has(H))}function ce(H,J,re){var ie=se(H,J,re);if(ie)return ye(H,J,re);var le=j(J);if(!B(le))return ce(H,le,re)}function ye(H,J,re){var ie=G(J,re,!1);if(!I(ie))return ie.get(H)}function de(H,J,re,ie){var le=G(re,ie,!0);le.set(H,J)}function N(H,J){var re=E(H,J),ie=j(H);if(ie===null)return re;var le=N(ie,J);if(le.length<=0)return re;if(re.length<=0)return le;for(var Le=new p,be=[],Te=0,ve=re;Te<ve.length;Te++){var Me=ve[Te],Ie=Le.has(Me);Ie||(Le.add(Me),be.push(Me))}for(var Nr=0,zo=le;Nr<zo.length;Nr++){var Me=zo[Nr],Ie=Le.has(Me);Ie||(Le.add(Me),be.push(Me))}return be}function E(H,J){var re=[],ie=G(H,J,!1);if(I(ie))return re;for(var le=ie.keys(),Le=Xt(le),be=0;;){var Te=b(Le);if(!Te)return re.length=be,re;var ve=x(Te);try{re[be]=ve}catch(Me){try{$(Le)}finally{throw Me}}be++}}function k(H){if(H===null)return 1;switch(typeof H){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return H===null?1:6;default:return 6}}function I(H){return H===void 0}function B(H){return H===null}function D(H){return typeof H=="symbol"}function v(H){return typeof H=="object"?H!==null:typeof H=="function"}function T(H,J){switch(k(H)){case 0:return H;case 1:return H;case 2:return H;case 3:return H;case 4:return H;case 5:return H}var re=J===3?"string":J===5?"number":"default",ie=Mt(H,i);if(ie!==void 0){var le=ie.call(H,re);if(v(le))throw new TypeError;return le}return F(H,re==="default"?"number":re)}function F(H,J){if(J==="string"){var re=H.toString;if(ct(re)){var ie=re.call(H);if(!v(ie))return ie}var le=H.valueOf;if(ct(le)){var ie=le.call(H);if(!v(ie))return ie}}else{var le=H.valueOf;if(ct(le)){var ie=le.call(H);if(!v(ie))return ie}var Le=H.toString;if(ct(Le)){var ie=Le.call(H);if(!v(ie))return ie}}throw new TypeError}function ee(H){return!!H}function X(H){return""+H}function oe(H){var J=T(H,3);return D(J)?J:X(J)}function Ge(H){return Array.isArray?Array.isArray(H):H instanceof Object?H instanceof Array:Object.prototype.toString.call(H)==="[object Array]"}function ct(H){return typeof H=="function"}function gt(H){return typeof H=="function"}function it(H){switch(k(H)){case 3:return!0;case 4:return!0;default:return!1}}function Mt(H,J){var re=H[J];if(re!=null){if(!ct(re))throw new TypeError;return re}}function Xt(H){var J=Mt(H,o);if(!ct(J))throw new TypeError;var re=J.call(H);if(!v(re))throw new TypeError;return re}function x(H){return H.value}function b(H){var J=H.next();return J.done?!1:J}function $(H){var J=H.return;J&&J.call(H)}function j(H){var J=Object.getPrototypeOf(H);if(typeof H!="function"||H===c||J!==c)return J;var re=H.prototype,ie=re&&Object.getPrototypeOf(re);if(ie==null||ie===Object.prototype)return J;var le=ie.constructor;return typeof le!="function"||le===H?J:le}function V(){var H={},J=[],re=function(){function be(Te,ve,Me){this._index=0,this._keys=Te,this._values=ve,this._selector=Me}return be.prototype["@@iterator"]=function(){return this},be.prototype[o]=function(){return this},be.prototype.next=function(){var Te=this._index;if(Te>=0&&Te<this._keys.length){var ve=this._selector(this._keys[Te],this._values[Te]);return Te+1>=this._keys.length?(this._index=-1,this._keys=J,this._values=J):this._index++,{value:ve,done:!1}}return{value:void 0,done:!0}},be.prototype.throw=function(Te){throw this._index>=0&&(this._index=-1,this._keys=J,this._values=J),Te},be.prototype.return=function(Te){return this._index>=0&&(this._index=-1,this._keys=J,this._values=J),{value:Te,done:!0}},be}();return function(){function be(){this._keys=[],this._values=[],this._cacheKey=H,this._cacheIndex=-2}return Object.defineProperty(be.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),be.prototype.has=function(Te){return this._find(Te,!1)>=0},be.prototype.get=function(Te){var ve=this._find(Te,!1);return ve>=0?this._values[ve]:void 0},be.prototype.set=function(Te,ve){var Me=this._find(Te,!0);return this._values[Me]=ve,this},be.prototype.delete=function(Te){var ve=this._find(Te,!1);if(ve>=0){for(var Me=this._keys.length,Ie=ve+1;Ie<Me;Ie++)this._keys[Ie-1]=this._keys[Ie],this._values[Ie-1]=this._values[Ie];return this._keys.length--,this._values.length--,Te===this._cacheKey&&(this._cacheKey=H,this._cacheIndex=-2),!0}return!1},be.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=H,this._cacheIndex=-2},be.prototype.keys=function(){return new re(this._keys,this._values,ie)},be.prototype.values=function(){return new re(this._keys,this._values,le)},be.prototype.entries=function(){return new re(this._keys,this._values,Le)},be.prototype["@@iterator"]=function(){return this.entries()},be.prototype[o]=function(){return this.entries()},be.prototype._find=function(Te,ve){return this._cacheKey!==Te&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Te)),this._cacheIndex<0&&ve&&(this._cacheIndex=this._keys.length,this._keys.push(Te),this._values.push(void 0)),this._cacheIndex},be}();function ie(be,Te){return be}function le(be,Te){return Te}function Le(be,Te){return[be,Te]}}function te(){return function(){function H(){this._map=new h}return Object.defineProperty(H.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),H.prototype.has=function(J){return this._map.has(J)},H.prototype.add=function(J){return this._map.set(J,J),this},H.prototype.delete=function(J){return this._map.delete(J)},H.prototype.clear=function(){this._map.clear()},H.prototype.keys=function(){return this._map.keys()},H.prototype.values=function(){return this._map.values()},H.prototype.entries=function(){return this._map.entries()},H.prototype["@@iterator"]=function(){return this.keys()},H.prototype[o]=function(){return this.keys()},H}()}function ne(){var H=16,J=u.create(),re=ie();return function(){function ve(){this._key=ie()}return ve.prototype.has=function(Me){var Ie=le(Me,!1);return Ie!==void 0?u.has(Ie,this._key):!1},ve.prototype.get=function(Me){var Ie=le(Me,!1);return Ie!==void 0?u.get(Ie,this._key):void 0},ve.prototype.set=function(Me,Ie){var Nr=le(Me,!0);return Nr[this._key]=Ie,this},ve.prototype.delete=function(Me){var Ie=le(Me,!1);return Ie!==void 0?delete Ie[this._key]:!1},ve.prototype.clear=function(){this._key=ie()},ve}();function ie(){var ve;do ve="@@WeakMap@@"+Te();while(u.has(J,ve));return J[ve]=!0,ve}function le(ve,Me){if(!r.call(ve,re)){if(!Me)return;Object.defineProperty(ve,re,{value:u.create()})}return ve[re]}function Le(ve,Me){for(var Ie=0;Ie<Me;++Ie)ve[Ie]=Math.random()*255|0;return ve}function be(ve){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(ve)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(ve)):Le(new Uint8Array(ve),ve):Le(new Array(ve),ve)}function Te(){var ve=be(H);ve[6]=ve[6]&79|64,ve[8]=ve[8]&191|128;for(var Me="",Ie=0;Ie<H;++Ie){var Nr=ve[Ie];(Ie===4||Ie===6||Ie===8)&&(Me+="-"),Nr<16&&(Me+="0"),Me+=Nr.toString(16).toLowerCase()}return Me}}function me(H){return H.__=void 0,delete H.__,H}})})(V$||(V$={}));(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Inject=t.INJECT_KEYS_SYMBOL=t.INJECT_NAME_SYMBOL=void 0,t.INJECT_NAME_SYMBOL=Symbol("inject.name"),t.INJECT_KEYS_SYMBOL=Symbol("inject.keys");function e(){return function(r,n){Reflect.defineMetadata(t.INJECT_NAME_SYMBOL,r.constructor.name,r);var i=Reflect.getMetadata(t.INJECT_KEYS_SYMBOL,r);i?(i.push(n),Reflect.defineMetadata(t.INJECT_KEYS_SYMBOL,i,r)):Reflect.defineMetadata(t.INJECT_KEYS_SYMBOL,[n],r)}}t.Inject=e})(Kh);var iU=Pe(Kh),oU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:iU},[Kh])),aU=O(oU),Vh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Injectable=t.INJECTABLE_NAME_SYMBOL=void 0,t.INJECTABLE_NAME_SYMBOL=Symbol("injectable.name");function e(){return function(r){Reflect.defineMetadata(t.INJECTABLE_NAME_SYMBOL,r.name,r)}}t.Injectable=e})(Vh);var sU=Pe(Vh),uU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:sU},[Vh])),lU=O(uU),Wh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Runnable=t.RUNNABLE_OPTIONS_SYMBOL=t.RUNNABLE_NAME_SYMBOL=t.RUNNABLE_URL_SYMBOL=void 0,t.RUNNABLE_URL_SYMBOL=Symbol("runnable.url"),t.RUNNABLE_NAME_SYMBOL=Symbol("runnable.name"),t.RUNNABLE_OPTIONS_SYMBOL=Symbol("runnable.options");function e(r){return function(n){(r==null?void 0:r.url)&&(n.prototype.url=r.url,Reflect.defineMetadata(t.RUNNABLE_URL_SYMBOL,r.url,n)),(r==null?void 0:r.name)&&(n.prototype.name=r.name,Reflect.defineMetadata(t.RUNNABLE_NAME_SYMBOL,r.name,n)),Reflect.defineMetadata(t.RUNNABLE_OPTIONS_SYMBOL,r,n)}}t.Runnable=e})(Wh);var cU=Pe(Wh),dU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:cU},[Wh])),fU=O(dU),Gh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.EVENT_OPTIONS_SYMBOL=t.EVENT_METHOD_KEYS_SYMBOL=t.EVENT_NAME_SYMBOL=void 0,t.EVENT_NAME_SYMBOL=Symbol("event.name"),t.EVENT_METHOD_KEYS_SYMBOL=Symbol("event.method.keys"),t.EVENT_OPTIONS_SYMBOL=Symbol("event.options");function e(r){return function(n,i){var o=Reflect.getMetadata(t.EVENT_METHOD_KEYS_SYMBOL,n)||[];o.push(i),typeof r=="string"&&Reflect.defineMetadata(t.EVENT_NAME_SYMBOL,r,n,i),Reflect.defineMetadata(t.EVENT_METHOD_KEYS_SYMBOL,o,n),Reflect.defineMetadata(t.EVENT_OPTIONS_SYMBOL,r,n,i)}}t.Event=e})(Gh);var hU=Pe(Gh),pU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:hU},[Gh])),mU=O(pU);(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=K&&K.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(aU,t),r(lU,t),r(fU,t),r(mU,t)})(Hh);var _U=Pe(Hh),yU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_U},[Hh])),sn=O(yU),$a={};Object.defineProperty($a,"__esModule",{value:!0});var W$=$a.ScriptContext=void 0,vU=function(){function t(e,r){this.store=e,this.eventPool=r}return t}();W$=$a.ScriptContext=vU;var gU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get ScriptContext(){return W$},default:$a},[$a])),G$=O(gU),wa={};Object.defineProperty(wa,"__esModule",{value:!0});var X$=wa.ScriptEventPool=void 0,bU=function(){function t(e,r){var n=this;this.page=e,this.pool=new Map,r==null||r.forEach(function(i){return n.on(i,function(o){var a=n.pool.get(i)||[];a.push(o),n.pool.set(i,a)})})}return t.prototype.on=function(e,r){return this.page.on(e,r)},t.prototype.off=function(e){return this.page.removeAllListeners(e)},t.prototype.getEvents=function(e){return this.pool.get(e)},t.prototype.setEvents=function(e,r){this.pool.set(e,r)},t.prototype.removeEvents=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){e.pool.delete(i)})},t.prototype.removeAllEvents=function(){this.pool.clear()},t}();X$=wa.ScriptEventPool=bU;var $U=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get ScriptEventPool(){return X$},default:wa},[wa])),J$=O($U),Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});var Y$=Sa.ScriptFactory=void 0,Q$=sn,wU=function(){function t(){}return t.createInjectableScript=function(e,r){var n=Reflect.getMetadata("design:type",e,r),i=Reflect.getMetadata(Q$.INJECTABLE_NAME_SYMBOL,n),o=void 0;if(i){var a=e.page,s=e.browser,l=e.context;o=new n({name:n.name,page:a,browser:s,context:l})}return o},t.createRunnableScript=function(e,r){return r.name=Reflect.getMetadata(Q$.RUNNABLE_NAME_SYMBOL,e)||r.name,new e(r)},t}();Y$=Sa.ScriptFactory=wU;var SU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get ScriptFactory(){return Y$},default:Sa},[Sa])),Z$=O(SU),Ea={},EU=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},TU=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ea,"__esModule",{value:!0});var ew=Ea.Store=void 0,PU=Zn,OU=function(){function t(){this.store=new Map,this.eventEmitter=new PU.EventEmitter}return t.prototype.get=function(e){return this.store.get(e)},t.prototype.set=function(e,r){this.store.set(e,r),this.eventEmitter.emit("change",e,r)},t.prototype.onChange=function(e){this.eventEmitter.on("change",e)},t.prototype.waitForValue=function(e){return EU(this,void 0,void 0,function(){var r=this;return TU(this,function(n){return[2,new Promise(function(i){r.onChange(function(o,a){o===e&&i(a)})})]})})},t}();ew=Ea.Store=OU;var CU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Store(){return ew},default:Ea},[Ea])),tw=O(CU),Ta={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});var rw=Pa.InjectableScript=void 0,MU=function(){function t(e){var r=e.page,n=e.browser,i=e.context,o=e.name;this.name=o,this.page=r,this.browser=n,this.context=i}return t}();rw=Pa.InjectableScript=MU;var kU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get InjectableScript(){return rw},default:Pa},[Pa])),Ml=O(kU),Oa={},xU=K&&K.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RU=K&&K.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Xh=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Jh=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Oa,"__esModule",{value:!0});var nw=Oa.WaitForScript=void 0,NU=sn,IU=Ml,jU=function(t){xU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.documentReady=function(){return Xh(this,void 0,void 0,function(){var r,n;return Jh(this,function(i){switch(i.label){case 0:if(r==="complete")return[3,6];this.sleep(1e3),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.page.evaluateHandle("document")];case 2:return n=i.sent(),[4,this.page.evaluate(function(o){return o.readyState},n)];case 3:return r=i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[3,0];case 6:return[2]}})})},e.prototype.load=function(){return Xh(this,void 0,void 0,function(){var r=this;return Jh(this,function(n){return[2,new Promise(function(i){return r.page.once("load",function(){return i()})})]})})},e.prototype.sleep=function(r){return Xh(this,void 0,void 0,function(){return Jh(this,function(n){return[2,new Promise(function(i){return setTimeout(function(){return i()},r)})]})})},e.prototype.nextTick=function(r,n){var i=this,o=[];function a(l){o.push(l)}this.page.on(r,a);var s=setInterval(function(){o.length>0?o=[]:(clearInterval(s),i.page.off(r,a),n())},1e3)},e=RU([NU.Injectable()],e),e}(IU.InjectableScript);nw=Oa.WaitForScript=jU;var AU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get WaitForScript(){return nw},default:Oa},[Oa])),iw=O(AU),FU=K&&K.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ca=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Ma=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ta,"__esModule",{value:!0});var ow=Ta.RunnableScript=void 0,LU=Ml,DU=iw,zU=function(t){FU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.startup=function(){var r=this;(function(){return Ca(r,void 0,void 0,function(){var n,i,o=this;return Ma(this,function(a){switch(a.label){case 0:return n=new DU.WaitForScript(this),i=function(){return Ca(o,void 0,void 0,function(){var s=this;return Ma(this,function(l){switch(l.label){case 0:return[4,n.documentReady()];case 1:return l.sent(),this.run(),this.page.on("load",function(){return Ca(s,void 0,void 0,function(){return Ma(this,function(u){switch(u.label){case 0:return[4,n.documentReady()];case 1:return u.sent(),this.update(),[2]}})})}),[2]}})})},this.page.once("close",function(){return o.destroyed()}),this.url&&this.url!==""?(this.page.once("load",i),[4,this.page.goto(this.url)]):[3,2];case 1:return a.sent(),[3,3];case 2:i(),a.label=3;case 3:return[2]}})})})()},e.prototype.update=function(){return Ca(this,void 0,void 0,function(){return Ma(this,function(r){return[2]})})},e.prototype.destroyed=function(){return Ca(this,void 0,void 0,function(){return Ma(this,function(r){return[2]})})},e}(LU.InjectableScript);ow=Ta.RunnableScript=zU;var qU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get RunnableScript(){return ow},default:Ta},[Ta])),aw=O(qU),ka={};Object.defineProperty(ka,"__esModule",{value:!0});var sw=ka.DecoratorHandler=void 0,Yh=sn,UU=function(){function t(){}return t.handleEventDecorator=function(e){var r=Reflect.getMetadata(Yh.EVENT_METHOD_KEYS_SYMBOL,e);r&&r.forEach(function(n){var i=Reflect.getMetadata(Yh.EVENT_NAME_SYMBOL,e,n),o=Reflect.getMetadata(Yh.EVENT_OPTIONS_SYMBOL,e,n),a=i||(o==null?void 0:o.name);a&&e.page.on(a,function(s){e[n](s)})})},t.handleEventDecorators=function(e){e.forEach(function(r){return t.handleEventDecorator(r)})},t}();sw=ka.DecoratorHandler=UU;var BU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get DecoratorHandler(){return sw},default:ka},[ka])),HU=O(BU),xa={};Object.defineProperty(xa,"__esModule",{value:!0});var uw=xa.PioneerProxy=void 0,KU=function(){function t(){}return t.methodProxy=function(e,r){var n=(r==null?void 0:r.keys)||[],i=new Proxy(e,{get:function(o,a,s){var l;return n.includes(a)?(l=r==null?void 0:r.handler)===null||l===void 0?void 0:l.call(r,o,a,s):Reflect.get(o,a,s)}});return i},t}();uw=xa.PioneerProxy=KU;var VU=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get PioneerProxy(){return uw},default:xa},[xa])),lw=O(VU),Qh=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Zh=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cw=K&&K.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(ba,"__esModule",{value:!0});var dw=ba.Pioneer=void 0,WU=sn,GU=G$,XU=J$,fw=Z$,JU=tw,YU=aw,QU=HU,hw=lw,ZU=function(){function t(e){this.browser=e}return t.prototype.init=function(e){return Qh(this,void 0,void 0,function(){var r;return Zh(this,function(n){switch(n.label){case 0:return[4,this.initPages()];case 1:return r=n.sent(),r=r.map(function(i){return hw.PioneerProxy.methodProxy(i,e==null?void 0:e.page)}),this.runnableScripts=this.initRunnableScript(r),this.injectableScripts=this.initInjectableScript(this.runnableScripts),this.runnableScripts=this.runnableScripts.map(function(i){return hw.PioneerProxy.methodProxy(i,e==null?void 0:e.runnableScript)}),QU.DecoratorHandler.handleEventDecorators(cw(cw([],this.runnableScripts),this.injectableScripts)),[2]}})})},t.prototype.startup=function(e){var r=e.scripts,n=e.events,i=e.log,o=e.methodProxy;return Qh(this,void 0,void 0,function(){var a,s,l;return Zh(this,function(u){switch(u.label){case 0:return this.options={scripts:r,events:n,log:i},[4,this.init(o)];case 1:if(u.sent(),this.runnableScripts)for(a=0,s=this.runnableScripts;a<s.length;a++)l=s[a],l.startup(),this.options.log&&console.log("[pioneerjs]:script running - "+l.name);return[2]}})})},t.prototype.initRunnableScript=function(e){var r,n,i=[],o=(r=this.options)===null||r===void 0?void 0:r.scripts;if(o===void 0)throw new Error("There is no runnable script in pioneer startup()");for(var a=0,s=o;a<s.length;a++){var l=s[a],u=e.shift();if(u){var c=new GU.ScriptContext(new JU.Store,new XU.ScriptEventPool(u,(n=this.options)===null||n===void 0?void 0:n.events)),d=fw.ScriptFactory.createRunnableScript(l,{name:l.name,page:u,browser:this.browser,context:c});i.push(d)}}return i},t.prototype.initInjectableScript=function(e){for(var r,n=[],i=0,o=e;i<o.length;i++){var a=o[i],s=Reflect.getMetadata(WU.INJECT_KEYS_SYMBOL,a);if(s)for(var l=0,u=s;l<u.length;l++){var c=u[l],d=fw.ScriptFactory.createInjectableScript(a,c);n.push(d),Reflect.set(a,c,d),((r=this.options)===null||r===void 0?void 0:r.log)&&console.log("[pioneerjs]:script injected - "+a.name+"."+d.name)}}return n},t.prototype.initPages=function(e){var r;return Qh(this,void 0,void 0,function(){var n,i,o,a,s;return Zh(this,function(l){switch(l.label){case 0:return[4,this.browser.pages()];case 1:if(n=l.sent(),i=(r=this.options)===null||r===void 0?void 0:r.scripts,i===void 0)throw new Error("There is no runnable script in pioneer startup()");i=i.filter(function(u){return u.name!==YU.RunnableScript.name}),o=1,l.label=2;case 2:return o<i.length?(s=(a=n).push,[4,this.browser.newPage()]):[3,5];case 3:s.apply(a,[l.sent()]),l.label=4;case 4:return o++,[3,2];case 5:return e==null||e(n),[2,n]}})})},t.create=function(e){return new t(e)},t}();dw=ba.Pioneer=ZU;var e8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Pioneer(){return dw},default:ba},[ba])),pw=O(e8),Ra={},ep={},Na={},Ia={},ja={},un={};Object.defineProperty(un,"__esModule",{value:!0});var mw=un.puppeteerErrors=gw=un.TimeoutError=yw=un.CustomError=void 0;class _w extends Error{constructor(e){super(e);this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}var yw=un.CustomError=_w;class vw extends _w{}var gw=un.TimeoutError=vw;mw=un.puppeteerErrors={TimeoutError:vw};var t8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get puppeteerErrors(){return mw},get TimeoutError(){return gw},get CustomError(){return yw},default:un},[un])),Aa=O(t8),tp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.devicesMap=void 0;const e=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S8",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:360,height:740,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S8 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:740,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S9+",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:320,height:658,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S9+ landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:658,height:320,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Tab S4",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:712,height:1138,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Tab S4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:1138,height:712,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 3",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:393,height:786,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 3 landscape",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:786,height:393,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}}];t.devicesMap={};for(const r of e)t.devicesMap[r.name]=r})(tp);var r8=Pe(tp),n8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:r8},[tp])),i8=O(n8),er={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});var bw=Fa.ariaHandler=void 0;async function $w(t,e,r,n){const{nodes:i}=await t.send("Accessibility.queryAXTree",{objectId:e._remoteObject.objectId,accessibleName:r,role:n});return i.filter(a=>a.role.value!=="StaticText")}const ww=t=>t.replace(/ +/g," ").trim(),o8=new Set(["name","role"]),a8=/\[\s*(?<attribute>\w+)\s*=\s*"(?<value>\\.|[^"\\]*)"\s*\]/g;function Sw(t){const e={},r=t.replace(a8,(n,i,o)=>{if(i=i.trim(),!o8.has(i))throw new Error(`Unknown aria attribute "${i}" in selector`);return e[i]=ww(o),""});return r&&!e.name&&(e.name=ww(r)),e}const Ew=async(t,e)=>{const r=t.executionContext(),{name:n,role:i}=Sw(e),o=await $w(r._client,t,n,i);return o.length<1?null:r._adoptBackendNodeId(o[0].backendDOMNodeId)},s8=async(t,e,r)=>{const n={name:"ariaQuerySelector",pptrFunction:async i=>{const o=await t._document();return await Ew(o,i)}};return t.waitForSelectorInPage((i,o)=>globalThis.ariaQuerySelector(o),e,r,n)},Tw=async(t,e)=>{const r=t.executionContext(),{name:n,role:i}=Sw(e),o=await $w(r._client,t,n,i);return Promise.all(o.map(a=>r._adoptBackendNodeId(a.backendDOMNodeId)))},u8=async(t,e)=>{const r=await Tw(t,e);return t.executionContext().evaluateHandle((...o)=>o,...r)};bw=Fa.ariaHandler={queryOne:Ew,waitFor:s8,queryAll:Tw,queryAllArray:u8};var l8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get ariaHandler(){return bw},default:Fa},[Fa])),c8=O(l8);Object.defineProperty(er,"__esModule",{value:!0});var Pw=er.getQueryHandlerAndSelector=Rw=er.clearCustomQueryHandlers=xw=er.customQueryHandlerNames=Mw=er.unregisterCustomQueryHandler=Ow=er.registerCustomQueryHandler=void 0;const d8=c8;function rp(t){const e={};return t.queryOne&&(e.queryOne=async(r,n)=>{const i=await r.evaluateHandle(t.queryOne,n),o=i.asElement();return o||(await i.dispose(),null)},e.waitFor=(r,n,i)=>r.waitForSelectorInPage(t.queryOne,n,i)),t.queryAll&&(e.queryAll=async(r,n)=>{const i=await r.evaluateHandle(t.queryAll,n),o=await i.getProperties();await i.dispose();const a=[];for(const s of o.values()){const l=s.asElement();l&&a.push(l)}return a},e.queryAllArray=async(r,n)=>await(await r.evaluateHandle(t.queryAll,n)).evaluateHandle(a=>Array.from(a))),e}const f8=rp({queryOne:(t,e)=>t.querySelector(e),queryAll:(t,e)=>t.querySelectorAll(e)}),h8=rp({queryOne:(t,e)=>{let r=null;const n=i=>{const o=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT);do{const a=o.currentNode;a.shadowRoot&&n(a.shadowRoot),!(a instanceof ShadowRoot)&&!r&&a.matches(e)&&(r=a)}while(!r&&o.nextNode())};return t instanceof Document&&(t=t.documentElement),n(t),r},queryAll:(t,e)=>{const r=[],n=i=>{const o=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT);do{const a=o.currentNode;a.shadowRoot&&n(a.shadowRoot),!(a instanceof ShadowRoot)&&a.matches(e)&&r.push(a)}while(o.nextNode())};return t instanceof Document&&(t=t.documentElement),n(t),r}}),np=new Map([["aria",d8.ariaHandler],["pierce",h8]]),no=new Map(np);function p8(t,e){if(no.get(t))throw new Error(`A custom query handler named "${t}" already exists`);if(!/^[a-zA-Z]+$/.test(t))throw new Error("Custom query handler names may only contain [a-zA-Z]");const n=rp(e);no.set(t,n)}var Ow=er.registerCustomQueryHandler=p8;function Cw(t){no.has(t)&&!np.has(t)&&no.delete(t)}var Mw=er.unregisterCustomQueryHandler=Cw;function kw(){return[...no.keys()].filter(t=>!np.has(t))}var xw=er.customQueryHandlerNames=kw;function m8(){kw().forEach(Cw)}var Rw=er.clearCustomQueryHandlers=m8;function _8(t){if(!/^[a-zA-Z]+\//.test(t))return{updatedSelector:t,queryHandler:f8};const r=t.indexOf("/"),n=t.slice(0,r),i=t.slice(r+1),o=no.get(n);if(!o)throw new Error(`Query set to use "${n}", but no query handler of that name was found`);return{updatedSelector:i,queryHandler:o}}Pw=er.getQueryHandlerAndSelector=_8;var y8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getQueryHandlerAndSelector(){return Pw},get clearCustomQueryHandlers(){return Rw},get customQueryHandlerNames(){return xw},get unregisterCustomQueryHandler(){return Mw},get registerCustomQueryHandler(){return Ow},default:er},[er])),ip=O(y8),La={},wi={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});var Nw=Si.assertNever=Iw=Si.assert=void 0;const v8=(t,e)=>{if(!t)throw new Error(e)};var Iw=Si.assert=v8;const g8=(t,e)=>{if(t)throw new Error(e)};Nw=Si.assertNever=g8;var b8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get assertNever(){return Nw},get assert(){return Iw},default:Si},[Si])),vt=O(b8),op={},Da={},za={};Object.defineProperty(za,"__esModule",{value:!0});var jw=za.isNode=void 0;jw=za.isNode=!!(typeof process!="undefined"&&process.version);var $8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get isNode(){return jw},default:za},[za])),Nn=O($8),kl={exports:{}},io=1e3,oo=io*60,ao=oo*60,Ei=ao*24,w8=Ei*7,S8=Ei*365.25,Aw=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return E8(t);if(r==="number"&&isFinite(t))return e.long?P8(t):T8(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function E8(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*S8;case"weeks":case"week":case"w":return r*w8;case"days":case"day":case"d":return r*Ei;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ao;case"minutes":case"minute":case"mins":case"min":case"m":return r*oo;case"seconds":case"second":case"secs":case"sec":case"s":return r*io;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function T8(t){var e=Math.abs(t);return e>=Ei?Math.round(t/Ei)+"d":e>=ao?Math.round(t/ao)+"h":e>=oo?Math.round(t/oo)+"m":e>=io?Math.round(t/io)+"s":t+"ms"}function P8(t){var e=Math.abs(t);return e>=Ei?xl(t,e,Ei,"day"):e>=ao?xl(t,e,ao,"hour"):e>=oo?xl(t,e,oo,"minute"):e>=io?xl(t,e,io,"second"):t+" ms"}function xl(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}var O8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Aw},[Aw])),C8=O(O8);function M8(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=C8,r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let h=0;h<c.length;h++)d=(d<<5)-d+c.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,h=null;function p(...y){if(!p.enabled)return;const _=p,f=Number(new Date),m=f-(d||f);_.diff=m,_.prev=d,_.curr=f,d=f,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let g=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(P,A)=>{if(P==="%%")return"%";g++;const S=r.formatters[A];if(typeof S=="function"){const M=y[g];P=S.call(_,M),y.splice(g,1),g--}return P}),r.formatArgs.call(_,y),(_.log||r.log).apply(_,y)}return p.namespace=c,p.useColors=r.useColors(),p.color=r.selectColor(c),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h===null?r.enabled(c):h,set:y=>{h=y}}),typeof r.init=="function"&&r.init(p),p}function n(c,d){const h=r(this.namespace+(typeof d=="undefined"?":":d)+c);return h.log=this.log,h}function i(c){r.save(c),r.names=[],r.skips=[];let d;const h=(typeof c=="string"?c:"").split(/[\s,]+/),p=h.length;for(d=0;d<p;d++)!h[d]||(c=h[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function o(){const c=[...r.names.map(s),...r.skips.map(s).map(d=>"-"+d)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let d,h;for(d=0,h=r.skips.length;d<h;d++)if(r.skips[d].test(c))return!1;for(d=0,h=r.names.length;d<h;d++)if(r.names[d].test(c))return!0;return!1}function s(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function l(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Fw=M8,k8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Fw},[Fw])),x8=O(k8);(function(t,e){e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(c++,h==="%c"&&(d=c))}),l.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch(u){}}function o(){let l;try{l=e.storage.getItem("debug")}catch(u){}return!l&&typeof process!="undefined"&&"env"in process&&(l={}.DEBUG),l}function a(){try{return localStorage}catch(l){}}t.exports=x8(e);const{formatters:s}=t.exports;s.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(kl,kl.exports);var R8=kl.exports,N8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:R8},[kl.exports])),qa=O(N8);Object.defineProperty(Da,"__esModule",{value:!0});var Lw=Da.debug=void 0;const I8=Nn,j8=t=>I8.isNode?qa(t):(...e)=>{const r=globalThis.__PUPPETEER_DEBUG;!r||!(r==="*"||(r.endsWith("*")?t.startsWith(r):t===r))||console.log(`${t}:`,...e)};Lw=Da.debug=j8;var A8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get debug(){return Lw},default:Da},[Da])),Ua=O(A8);(function(t){var e=K&&K.__createBinding||(Object.create?function(z,Z,G,ae){ae===void 0&&(ae=G),Object.defineProperty(z,ae,{enumerable:!0,get:function(){return Z[G]}})}:function(z,Z,G,ae){ae===void 0&&(ae=G),z[ae]=Z[G]}),r=K&&K.__setModuleDefault||(Object.create?function(z,Z){Object.defineProperty(z,"default",{enumerable:!0,value:Z})}:function(z,Z){z.default=Z}),n=K&&K.__importStar||function(z){if(z&&z.__esModule)return z;var Z={};if(z!=null)for(var G in z)G!=="default"&&Object.prototype.hasOwnProperty.call(z,G)&&e(Z,z,G);return r(Z,z),Z};Object.defineProperty(t,"__esModule",{value:!0}),t.helper=t.debugError=void 0;const i=Aa,o=Ua,a=vt,s=Nn;t.debugError=o.debug("puppeteer:error");function l(z){if(z.exception)return z.exception.description||z.exception.value;let Z=z.text;if(z.stackTrace)for(const G of z.stackTrace.callFrames){const ae=G.url+":"+G.lineNumber+":"+G.columnNumber;Z+=`
    at ${G.functionName||"<anonymous>"} (${ae})`}return Z}function u(z){if(a.assert(!z.objectId,"Cannot extract value when objectId is given"),z.unserializableValue){if(z.type==="bigint"&&typeof BigInt!="undefined")return BigInt(z.unserializableValue.replace("n",""));switch(z.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+z.unserializableValue)}}return z.value}async function c(z,Z){!Z.objectId||await z.send("Runtime.releaseObject",{objectId:Z.objectId}).catch(G=>{t.debugError(G)})}function d(z,Z,G){return z.on(Z,G),{emitter:z,eventName:Z,handler:G}}function h(z){for(const Z of z)Z.emitter.removeListener(Z.eventName,Z.handler);z.length=0}function p(z){return typeof z=="string"||z instanceof String}function y(z){return typeof z=="number"||z instanceof Number}async function _(z,Z,G,ae,se){let ce,ye,de;const N=new Promise((B,D)=>{ye=B,de=D}),E=d(z,Z,async B=>{!await G(B)||ye(B)});ae&&(ce=setTimeout(()=>{de(new i.TimeoutError("Timeout exceeded while waiting for event"))},ae));function k(){h([E]),clearTimeout(ce)}const I=await Promise.race([N,se]).then(B=>(k(),B),B=>{throw k(),B});if(I instanceof Error)throw I;return I}function f(z,...Z){if(p(z))return a.assert(Z.length===0,"Cannot evaluate a string with arguments"),z;function G(ae){return Object.is(ae,void 0)?"undefined":JSON.stringify(ae)}return`(${z})(${Z.map(G).join(",")})`}function m(z,Z){function G(ae,se){const ce=window,ye=ce[se];ce[se]=(...de)=>{const N=window[se];let E=N.callbacks;E||(E=new Map,N.callbacks=E);const k=(N.lastSeq||0)+1;N.lastSeq=k;const I=new Promise((B,D)=>E.set(k,{resolve:B,reject:D}));return ye(JSON.stringify({type:ae,name:se,seq:k,args:de})),I}}return f(G,z,Z)}function g(z,Z,G){function ae(se,ce,ye){window[se].callbacks.get(ce).resolve(ye),window[se].callbacks.delete(ce)}return f(ae,z,Z,G)}function w(z,Z,G,ae){function se(ce,ye,de,N){const E=new Error(de);E.stack=N,window[ce].callbacks.get(ye).reject(E),window[ce].callbacks.delete(ye)}return f(se,z,Z,G,ae)}function P(z,Z,G){function ae(se,ce,ye){window[se].callbacks.get(ce).reject(ye),window[se].callbacks.delete(ce)}return f(ae,z,Z,G)}function A(z,Z){function G(se,ce,ye){if(!se)return ye;if(!ce&&!ye)return se;const de=se.nodeType===Node.TEXT_NODE?se.parentElement:se,N=window.getComputedStyle(de),E=N&&N.visibility!=="hidden"&&I();return ce===E||ye===!E?se:null;function I(){const B=de.getBoundingClientRect();return!!(B.top||B.bottom||B.width||B.height)}}return`
    (() => {
      ${Z?`const predicateQueryHandler = ${Z};`:""}
      const checkWaitForOptions = ${G};
      return (${z})(...args)
    })() `}async function S(z,Z,G){let ae;const se=new i.TimeoutError(`waiting for ${Z} failed: timeout ${G}ms exceeded`),ce=new Promise((de,N)=>ae=N);let ye=null;G&&(ye=setTimeout(()=>ae(se),G));try{return await Promise.race([z,ce])}finally{ye&&clearTimeout(ye)}}async function M(z,Z){if(!s.isNode&&Z)throw new Error("Cannot write to a path outside of Node.js environment.");const G=s.isNode?await W():null;let ae;Z&&G&&(ae=await G.promises.open(Z,"w"));const se=[];for await(const ye of z)se.push(ye),ae&&await G.promises.writeFile(ae,ye);Z&&await ae.close();let ce=null;try{ce=Buffer.concat(se)}finally{return ce}}async function L(z,Z){if(!s.isNode)throw new Error("Cannot create a stream outside of Node.js environment.");const{Readable:G}=await Promise.resolve().then(()=>n(ue));let ae=!1;return new G({async read(se){if(ae)return null;const ce=await z.send("IO.read",{handle:Z,size:se});this.push(ce.data,ce.base64Encoded?"base64":void 0),ce.eof&&(this.push(null),ae=!0,await z.send("IO.close",{handle:Z}))}})}async function W(){if(!s.isNode)throw new Error("Cannot load the fs module API outside of Node.");const z=await Promise.resolve().then(()=>n(ue));return z.promises?z:z.default}t.helper={evaluationString:f,pageBindingInitString:m,pageBindingDeliverResultString:g,pageBindingDeliverErrorString:w,pageBindingDeliverErrorValueString:P,makePredicateString:A,getReadableAsBuffer:M,getReadableFromProtocolStream:L,waitWithTimeout:S,waitForEvent:_,isString:p,isNumber:y,importFSModule:W,addEventListener:d,removeEventListeners:h,valueFromRemoteObject:u,getExceptionMessage:l,releaseObject:c}})(op);var F8=Pe(op),L8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:F8},[op])),Ht=O(L8),Ba={},Ha={},Ka={},ap={};Object.defineProperty(ap,"__esModule",{value:!0});function D8(t){return t=t||new Map,{all:t,on(e,r){const n=t.get(e);n&&n.push(r)||t.set(e,[r])},off(e,r){const n=t.get(e);n&&n.splice(n.indexOf(r)>>>0,1)},emit(e,r){(t.get(e)||[]).slice().map(n=>{n(r)}),(t.get("*")||[]).slice().map(n=>{n(e,r)})}}}var z8=ap.default=D8,q8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:z8},[ap])),U8=O(q8),B8=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ka,"__esModule",{value:!0});var Dw=Ka.EventEmitter=void 0;const H8=B8(U8);class K8{constructor(){this.eventsMap=new Map,this.emitter=H8.default(this.eventsMap)}on(e,r){return this.emitter.on(e,r),this}off(e,r){return this.emitter.off(e,r),this}removeListener(e,r){return this.off(e,r),this}addListener(e,r){return this.on(e,r),this}emit(e,r){return this.emitter.emit(e,r),this.eventListenersCount(e)>0}once(e,r){const n=i=>{r(i),this.off(e,n)};return this.on(e,n)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){return this.eventsMap.has(e)?this.eventsMap.get(e).length:0}}Dw=Ka.EventEmitter=K8;var V8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get EventEmitter(){return Dw},default:Ka},[Ka])),so=O(V8),sp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CDPSession=t.CDPSessionEmittedEvents=t.Connection=t.ConnectionEmittedEvents=void 0;const e=vt,r=Ua,n=r.debug("puppeteer:protocol:SEND \u25BA"),i=r.debug("puppeteer:protocol:RECV \u25C0"),o=so;t.ConnectionEmittedEvents={Disconnected:Symbol("Connection.Disconnected")};class a extends o.EventEmitter{constructor(d,h,p=0){super();this._lastId=0,this._sessions=new Map,this._closed=!1,this._callbacks=new Map,this._url=d,this._delay=p,this._transport=h,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}static fromSession(d){return d._connection}session(d){return this._sessions.get(d)||null}url(){return this._url}send(d,...h){const p=h.length?h[0]:void 0,y=this._rawSend({method:d,params:p});return new Promise((_,f)=>{this._callbacks.set(y,{resolve:_,reject:f,error:new Error,method:d})})}_rawSend(d){const h=++this._lastId,p=JSON.stringify(Object.assign({},d,{id:h}));return n(p),this._transport.send(p),h}async _onMessage(d){this._delay&&await new Promise(p=>setTimeout(p,this._delay)),i(d);const h=JSON.parse(d);if(h.method==="Target.attachedToTarget"){const p=h.params.sessionId,y=new s(this,h.params.targetInfo.type,p);this._sessions.set(p,y),this.emit("sessionattached",y);const _=this._sessions.get(h.sessionId);_&&_.emit("sessionattached",y)}else if(h.method==="Target.detachedFromTarget"){const p=this._sessions.get(h.params.sessionId);if(p){p._onClosed(),this._sessions.delete(h.params.sessionId),this.emit("sessiondetached",p);const y=this._sessions.get(h.sessionId);y&&y.emit("sessiondetached",p)}}if(h.sessionId){const p=this._sessions.get(h.sessionId);p&&p._onMessage(h)}else if(h.id){const p=this._callbacks.get(h.id);p&&(this._callbacks.delete(h.id),h.error?p.reject(l(p.error,p.method,h)):p.resolve(h.result))}else this.emit(h.method,h.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(const d of this._callbacks.values())d.reject(u(d.error,`Protocol error (${d.method}): Target closed.`));this._callbacks.clear();for(const d of this._sessions.values())d._onClosed();this._sessions.clear(),this.emit(t.ConnectionEmittedEvents.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(d){const{sessionId:h}=await this.send("Target.attachToTarget",{targetId:d.targetId,flatten:!0});return this._sessions.get(h)}}t.Connection=a,t.CDPSessionEmittedEvents={Disconnected:Symbol("CDPSession.Disconnected")};class s extends o.EventEmitter{constructor(d,h,p){super();this._callbacks=new Map,this._connection=d,this._targetType=h,this._sessionId=p}connection(){return this._connection}send(d,...h){if(!this._connection)return Promise.reject(new Error(`Protocol error (${d}): Session closed. Most likely the ${this._targetType} has been closed.`));const p=h.length?h[0]:void 0,y=this._connection._rawSend({sessionId:this._sessionId,method:d,params:p});return new Promise((_,f)=>{this._callbacks.set(y,{resolve:_,reject:f,error:new Error,method:d})})}_onMessage(d){if(d.id&&this._callbacks.has(d.id)){const h=this._callbacks.get(d.id);this._callbacks.delete(d.id),d.error?h.reject(l(h.error,h.method,d)):h.resolve(d.result)}else e.assert(!d.id),this.emit(d.method,d.params)}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(const d of this._callbacks.values())d.reject(u(d.error,`Protocol error (${d.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(t.CDPSessionEmittedEvents.Disconnected)}}t.CDPSession=s;function l(c,d,h){let p=`Protocol error (${d}): ${h.error.message}`;return"data"in h.error&&(p+=` ${h.error.data}`),u(c,p)}function u(c,d){return c.message=d,c}})(sp);var W8=Pe(sp),G8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:W8},[sp])),Va=O(G8),Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});var zw=Wa.Dialog=void 0;const qw=vt;class X8{constructor(e,r,n,i=""){this._handled=!1,this._client=e,this._type=r,this._message=n,this._defaultValue=i}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){qw.assert(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){qw.assert(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}}zw=Wa.Dialog=X8;var J8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Dialog(){return zw},default:Wa},[Wa])),Y8=O(J8),Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});var Uw=Ga.EmulationManager=void 0;class Q8{constructor(e){this._emulatingMobile=!1,this._hasTouch=!1,this._client=e}async emulateViewport(e){const r=e.isMobile||!1,n=e.width,i=e.height,o=e.deviceScaleFactor||1,a=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},s=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:r,width:n,height:i,deviceScaleFactor:o,screenOrientation:a}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:s})]);const l=this._emulatingMobile!==r||this._hasTouch!==s;return this._emulatingMobile=r,this._hasTouch=s,l}}Uw=Ga.EmulationManager=Q8;var Z8=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get EmulationManager(){return Uw},default:Ga},[Ga])),eB=O(Z8),up={},lp={},ln={},tB=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rB=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nB=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tB(e,t,r);return rB(e,t),e};Object.defineProperty(ln,"__esModule",{value:!0});var Bw=ln.ElementHandle=Vw=ln.JSHandle=Kw=ln.createJSHandle=void 0;const Ti=vt,In=Ht,cp=ip,iB=Nn;function Hw(t,e){const r=t.frame();if(e.subtype==="node"&&r){const n=r._frameManager;return new Ww(t,t._client,e,n.page(),n)}return new dp(t,t._client,e)}var Kw=ln.createJSHandle=Hw;class dp{constructor(e,r,n){this._disposed=!1,this._context=e,this._client=r,this._remoteObject=n}executionContext(){return this._context}async evaluate(e,...r){return await this.executionContext().evaluate(e,this,...r)}async evaluateHandle(e,...r){return await this.executionContext().evaluateHandle(e,this,...r)}async getProperty(e){const r=await this.evaluateHandle((o,a)=>{const s={__proto__:null};return s[a]=o[a],s},e),i=(await r.getProperties()).get(e)||null;return await r.dispose(),i}async getProperties(){const e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),r=new Map;for(const n of e.result)!n.enumerable||r.set(n.name,Hw(this._context,n.value));return r}async jsonValue(){if(this._remoteObject.objectId){const e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return In.helper.valueFromRemoteObject(e.result)}return In.helper.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await In.helper.releaseObject(this._client,this._remoteObject))}toString(){if(this._remoteObject.objectId){const e=this._remoteObject.subtype||this._remoteObject.type;return"JSHandle@"+e}return"JSHandle:"+In.helper.valueFromRemoteObject(this._remoteObject)}}var Vw=ln.JSHandle=dp;class Ww extends dp{constructor(e,r,n,i,o){super(e,r,n);this._client=r,this._remoteObject=n,this._page=i,this._frameManager=o}asElement(){return this}async contentFrame(){const e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return typeof e.node.frameId!="string"?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){const e=await this.evaluate(async(r,n)=>r.isConnected?r.nodeType!==Node.ELEMENT_NODE?"Node is not of type HTMLElement":n?(await new Promise(o=>{const a=new IntersectionObserver(s=>{o(s[0].intersectionRatio),a.disconnect()});a.observe(r)})!==1&&r.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1):(r.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1):"Node is detached from document",this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async clickablePoint(e){const[r,n]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(In.debugError),this._client.send("Page.getLayoutMetrics")]);if(!r||!r.quads.length)throw new Error("Node is either not clickable or not an HTMLElement");const{clientWidth:i,clientHeight:o}=n.cssLayoutViewport||n.layoutViewport,a=r.quads.map(c=>this._fromProtocolQuad(c)).map(c=>this._intersectQuadWithViewport(c,i,o)).filter(c=>oB(c)>1);if(!a.length)throw new Error("Node is either not clickable or not an HTMLElement");const s=a[0];if(e){let c=Number.MAX_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER;for(const h of s)h.x<c&&(c=h.x),h.y<d&&(d=h.y);if(c!==Number.MAX_SAFE_INTEGER&&d!==Number.MAX_SAFE_INTEGER)return{x:c+e.x,y:d+e.y}}let l=0,u=0;for(const c of s)l+=c.x,u+=c.y;return{x:l/4,y:u/4}}_getBoxModel(){const e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch(r=>In.debugError(r))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,r,n){return e.map(i=>({x:Math.min(Math.max(i.x,0),r),y:Math.min(Math.max(i.y,0),n)}))}async hover(){await this._scrollIntoViewIfNeeded();const{x:e,y:r}=await this.clickablePoint();await this._page.mouse.move(e,r)}async click(e={}){await this._scrollIntoViewIfNeeded();const{x:r,y:n}=await this.clickablePoint(e.offset);await this._page.mouse.click(r,n,e)}async drag(e){Ti.assert(this._page.isDragInterceptionEnabled(),"Drag Interception is not enabled!"),await this._scrollIntoViewIfNeeded();const r=await this.clickablePoint();return await this._page.mouse.drag(r,e)}async dragEnter(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();const r=await this.clickablePoint();await this._page.mouse.dragEnter(r,e)}async dragOver(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();const r=await this.clickablePoint();await this._page.mouse.dragOver(r,e)}async drop(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();const r=await this.clickablePoint();await this._page.mouse.drop(r,e)}async dragAndDrop(e,r){await this._scrollIntoViewIfNeeded();const n=await this.clickablePoint(),i=await e.clickablePoint();await this._page.mouse.dragAndDrop(n,i,r)}async select(...e){for(const r of e)Ti.assert(In.helper.isString(r),'Values must be strings. Found value "'+r+'" of type "'+typeof r+'"');return this.evaluate((r,n)=>{if(!(r instanceof HTMLSelectElement))throw new Error("Element is not a <select> element.");const i=Array.from(r.options);r.value=void 0;for(const o of i)if(o.selected=n.includes(o.value),o.selected&&!r.multiple)break;return r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})),i.filter(o=>o.selected).map(o=>o.value)},e)}async uploadFile(...e){const r=await this.evaluate(u=>{if(!(u instanceof HTMLInputElement))throw new Error("uploadFile can only be called on an input element.");return u.multiple});if(Ti.assert(e.length<=1||r,"Multiple file uploads only work with <input type=file multiple>"),!iB.isNode)throw new Error("JSHandle#uploadFile can only be used in Node environments.");const n=await Promise.resolve().then(()=>nB(ue)),i=await In.helper.importFSModule(),o=await Promise.all(e.map(async u=>{const c=n.resolve(u);try{await i.promises.access(c,i.constants.R_OK)}catch(d){if(d.code==="ENOENT")throw new Error(`${u} does not exist or is not readable`)}return c})),{objectId:a}=this._remoteObject,{node:s}=await this._client.send("DOM.describeNode",{objectId:a}),{backendNodeId:l}=s;o.length===0?await this.evaluate(u=>{u.files=new DataTransfer().files,u.dispatchEvent(new Event("input",{bubbles:!0})),u.dispatchEvent(new Event("change",{bubbles:!0}))}):await this._client.send("DOM.setFileInputFiles",{objectId:a,files:o,backendNodeId:l})}async tap(){await this._scrollIntoViewIfNeeded();const{x:e,y:r}=await this.clickablePoint();await this._page.touchscreen.tap(e,r)}async focus(){await this.evaluate(e=>e.focus())}async type(e,r){await this.focus(),await this._page.keyboard.type(e,r)}async press(e,r){await this.focus(),await this._page.keyboard.press(e,r)}async boundingBox(){const e=await this._getBoxModel();if(!e)return null;const r=e.model.border,n=Math.min(r[0],r[2],r[4],r[6]),i=Math.min(r[1],r[3],r[5],r[7]),o=Math.max(r[0],r[2],r[4],r[6])-n,a=Math.max(r[1],r[3],r[5],r[7])-i;return{x:n,y:i,width:o,height:a}}async boxModel(){const e=await this._getBoxModel();if(!e)return null;const{content:r,padding:n,border:i,margin:o,width:a,height:s}=e.model;return{content:this._fromProtocolQuad(r),padding:this._fromProtocolQuad(n),border:this._fromProtocolQuad(i),margin:this._fromProtocolQuad(o),width:a,height:s}}async screenshot(e={}){let r=!1,n=await this.boundingBox();Ti.assert(n,"Node is either not visible or not an HTMLElement");const i=this._page.viewport();if(i&&(n.width>i.width||n.height>i.height)){const c={width:Math.max(i.width,Math.ceil(n.width)),height:Math.max(i.height,Math.ceil(n.height))};await this._page.setViewport(Object.assign({},i,c)),r=!0}await this._scrollIntoViewIfNeeded(),n=await this.boundingBox(),Ti.assert(n,"Node is either not visible or not an HTMLElement"),Ti.assert(n.width!==0,"Node has 0 width."),Ti.assert(n.height!==0,"Node has 0 height.");const o=await this._client.send("Page.getLayoutMetrics"),{pageX:a,pageY:s}=o.cssLayoutViewport||o.layoutViewport,l=Object.assign({},n);l.x+=a,l.y+=s;const u=await this._page.screenshot(Object.assign({},{clip:l},e));return r&&await this._page.setViewport(i),u}async $(e){const{updatedSelector:r,queryHandler:n}=cp.getQueryHandlerAndSelector(e);return n.queryOne(this,r)}async $$(e){const{updatedSelector:r,queryHandler:n}=cp.getQueryHandlerAndSelector(e);return n.queryAll(this,r)}async $eval(e,r,...n){const i=await this.$(e);if(!i)throw new Error(`Error: failed to find element matching selector "${e}"`);const o=await i.evaluate(r,...n);return await i.dispose(),o}async $$eval(e,r,...n){const{updatedSelector:i,queryHandler:o}=cp.getQueryHandlerAndSelector(e),a=await o.queryAllArray(this,i),s=await a.evaluate(r,...n);return await a.dispose(),s}async $x(e){const r=await this.evaluateHandle((o,a)=>{const l=(o.ownerDocument||o).evaluate(a,o,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),u=[];let c;for(;c=l.iterateNext();)u.push(c);return u},e),n=await r.getProperties();await r.dispose();const i=[];for(const o of n.values()){const a=o.asElement();a&&i.push(a)}return i}async isIntersectingViewport(e){const{threshold:r=0}=e||{};return await this.evaluate(async(n,i)=>{const o=await new Promise(a=>{const s=new IntersectionObserver(l=>{a(l[0].intersectionRatio),s.disconnect()});s.observe(n)});return i===1?o===1:o>i},r)}}Bw=ln.ElementHandle=Ww;function oB(t){let e=0;for(let r=0;r<t.length;++r){const n=t[r],i=t[(r+1)%t.length];e+=(n.x*i.y-i.x*n.y)/2}return Math.abs(e)}var aB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get ElementHandle(){return Bw},get JSHandle(){return Vw},get createJSHandle(){return Kw},default:ln},[ln])),fp=O(aB);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionContext=t.EVALUATION_SCRIPT_URL=void 0;const e=vt,r=Ht,n=fp;t.EVALUATION_SCRIPT_URL="__puppeteer_evaluation_script__";const i=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;class o{constructor(s,l,u){this._client=s,this._world=u,this._contextId=l.id,this._contextName=l.name}frame(){return this._world?this._world.frame():null}async evaluate(s,...l){return await this._evaluateInternal(!0,s,...l)}async evaluateHandle(s,...l){return this._evaluateInternal(!1,s,...l)}async _evaluateInternal(s,l,...u){const c=`//# sourceURL=${t.EVALUATION_SCRIPT_URL}`;if(r.helper.isString(l)){const m=this._contextId,g=l,w=i.test(g)?g:g+`
`+c,{exceptionDetails:P,result:A}=await this._client.send("Runtime.evaluate",{expression:w,contextId:m,returnByValue:s,awaitPromise:!0,userGesture:!0}).catch(f);if(P)throw new Error("Evaluation failed: "+r.helper.getExceptionMessage(P));return s?r.helper.valueFromRemoteObject(A):n.createJSHandle(this,A)}if(typeof l!="function")throw new Error(`Expected to get |string| or |function| as the first argument, but got "${l}" instead.`);let d=l.toString();try{new Function("("+d+")")}catch(m){d.startsWith("async ")?d="async function "+d.substring("async ".length):d="function "+d;try{new Function("("+d+")")}catch(g){throw new Error("Passed function is not well-serializable!")}}let h;try{h=this._client.send("Runtime.callFunctionOn",{functionDeclaration:d+`
`+c+`
`,executionContextId:this._contextId,arguments:u.map(_.bind(this)),returnByValue:s,awaitPromise:!0,userGesture:!0})}catch(m){throw m instanceof TypeError&&m.message.startsWith("Converting circular structure to JSON")&&(m.message+=" Are you passing a nested JSHandle?"),m}const{exceptionDetails:p,result:y}=await h.catch(f);if(p)throw new Error("Evaluation failed: "+r.helper.getExceptionMessage(p));return s?r.helper.valueFromRemoteObject(y):n.createJSHandle(this,y);function _(m){if(typeof m=="bigint")return{unserializableValue:`${m.toString()}n`};if(Object.is(m,-0))return{unserializableValue:"-0"};if(Object.is(m,1/0))return{unserializableValue:"Infinity"};if(Object.is(m,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(m,NaN))return{unserializableValue:"NaN"};const g=m&&m instanceof n.JSHandle?m:null;if(g){if(g._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(g._disposed)throw new Error("JSHandle is disposed!");return g._remoteObject.unserializableValue?{unserializableValue:g._remoteObject.unserializableValue}:g._remoteObject.objectId?{objectId:g._remoteObject.objectId}:{value:g._remoteObject.value}}return{value:m}}function f(m){if(m.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(m.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};throw m.message.endsWith("Cannot find context with specified id")||m.message.endsWith("Inspected target navigated or closed")?new Error("Execution context was destroyed, most likely because of a navigation."):m}}async queryObjects(s){e.assert(!s._disposed,"Prototype JSHandle is disposed!"),e.assert(s._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");const l=await this._client.send("Runtime.queryObjects",{prototypeObjectId:s._remoteObject.objectId});return n.createJSHandle(this,l.objects)}async _adoptBackendNodeId(s){const{object:l}=await this._client.send("DOM.resolveNode",{backendNodeId:s,executionContextId:this._contextId});return n.createJSHandle(this,l)}async _adoptElementHandle(s){e.assert(s.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),e.assert(this._world,"Cannot adopt handle without DOMWorld");const l=await this._client.send("DOM.describeNode",{objectId:s._remoteObject.objectId});return this._adoptBackendNodeId(l.node.backendNodeId)}}t.ExecutionContext=o})(lp);var sB=Pe(lp),uB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:sB},[lp])),hp=O(uB),Xa={},Gw=O(WO),pp={},Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});var Xw=Ja.HTTPRequest=void 0;const qr=vt,Ya=Ht;class lB{constructor(e,r,n,i,o,a){this._failureText=null,this._response=null,this._fromMemoryCache=!1,this._interceptionHandled=!1,this._headers={},this._client=e,this._requestId=o.requestId,this._isNavigationRequest=o.requestId===o.loaderId&&o.type==="Document",this._interceptionId=n,this._allowInterception=i,this._url=o.request.url,this._resourceType=o.type.toLowerCase(),this._method=o.request.method,this._postData=o.request.postData,this._frame=r,this._redirectChain=a,this._continueRequestOverrides={},this._currentStrategy="none",this._currentPriority=void 0,this._interceptActions=[];for(const s of Object.keys(o.request.headers))this._headers[s.toLowerCase()]=o.request.headers[s]}url(){return this._url}continueRequestOverrides(){return qr.assert(this._allowInterception,"Request Interception is not enabled!"),this._continueRequestOverrides}responseForRequest(){return qr.assert(this._allowInterception,"Request Interception is not enabled!"),this._responseForRequest}abortErrorReason(){return qr.assert(this._allowInterception,"Request Interception is not enabled!"),this._abortErrorReason}interceptResolution(){return this._allowInterception?this._interceptionHandled?["alreay-handled"]:[this._currentStrategy,this._currentPriority]:["disabled"]}enqueueInterceptAction(e){this._interceptActions.push(e)}async finalizeInterceptions(){await this._interceptActions.reduce((r,n)=>r.then(n).catch(i=>{Ya.debugError(i)}),Promise.resolve());const[e]=this.interceptResolution();switch(e){case"abort":return this._abort(this._abortErrorReason);case"respond":return this._respond(this._responseForRequest);case"continue":return this._continue(this._continueRequestOverrides)}}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={},r){if(!this._url.startsWith("data:")){if(qr.assert(this._allowInterception,"Request Interception is not enabled!"),qr.assert(!this._interceptionHandled,"Request is already handled!"),r===void 0)return this._continue(e);if(this._continueRequestOverrides=e,r>this._currentPriority||this._currentPriority===void 0){this._currentStrategy="continue",this._currentPriority=r;return}if(r===this._currentPriority){if(this._currentStrategy==="abort"||this._currentStrategy==="respond")return;this._currentStrategy="continue"}}}async _continue(e={}){const{url:r,method:n,postData:i,headers:o}=e;this._interceptionHandled=!0;const a=i?Buffer.from(i).toString("base64"):void 0;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:r,method:n,postData:a,headers:o?Jw(o):void 0}).catch(s=>{Ya.debugError(s)})}async respond(e,r){if(!this._url.startsWith("data:")){if(qr.assert(this._allowInterception,"Request Interception is not enabled!"),qr.assert(!this._interceptionHandled,"Request is already handled!"),r===void 0)return this._respond(e);if(this._responseForRequest=e,r>this._currentPriority||this._currentPriority===void 0){this._currentStrategy="respond",this._currentPriority=r;return}if(r===this._currentPriority){if(this._currentStrategy==="abort")return;this._currentStrategy="respond"}}}async _respond(e){this._interceptionHandled=!0;const r=e.body&&Ya.helper.isString(e.body)?Buffer.from(e.body):e.body||null,n={};if(e.headers)for(const i of Object.keys(e.headers))n[i.toLowerCase()]=String(e.headers[i]);e.contentType&&(n["content-type"]=e.contentType),r&&!("content-length"in n)&&(n["content-length"]=String(Buffer.byteLength(r))),await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status||200,responsePhrase:dB[e.status||200],responseHeaders:Jw(n),body:r?r.toString("base64"):void 0}).catch(i=>{Ya.debugError(i)})}async abort(e="failed",r){if(this._url.startsWith("data:"))return;const n=cB[e];if(qr.assert(n,"Unknown error code: "+e),qr.assert(this._allowInterception,"Request Interception is not enabled!"),qr.assert(!this._interceptionHandled,"Request is already handled!"),r===void 0)return this._abort(n);if(this._abortErrorReason=n,r>=this._currentPriority||this._currentPriority===void 0){this._currentStrategy="abort",this._currentPriority=r;return}}async _abort(e){this._interceptionHandled=!0,await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:e}).catch(r=>{Ya.debugError(r)})}}Xw=Ja.HTTPRequest=lB;const cB={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function Jw(t){const e=[];for(const r in t)Object.is(t[r],void 0)||e.push({name:r,value:t[r]+""});return e}const dB={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"Switch Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","510":"Not Extended","511":"Network Authentication Required"};var fB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get HTTPRequest(){return Xw},default:Ja},[Ja])),hB=O(fB),Qa={},Za={};Object.defineProperty(Za,"__esModule",{value:!0});var Yw=Za.SecurityDetails=void 0;class pB{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol,this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}}Yw=Za.SecurityDetails=pB;var mB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get SecurityDetails(){return Yw},default:Za},[Za])),_B=O(mB);Object.defineProperty(Qa,"__esModule",{value:!0});var Qw=Qa.HTTPResponse=void 0;const yB=_B;class vB{constructor(e,r,n){this._contentPromise=null,this._headers={},this._client=e,this._request=r,this._bodyLoadedPromise=new Promise(i=>{this._bodyLoadedPromiseFulfill=i}),this._remoteAddress={ip:n.remoteIPAddress,port:n.remotePort},this._status=n.status,this._statusText=n.statusText,this._url=r.url(),this._fromDiskCache=!!n.fromDiskCache,this._fromServiceWorker=!!n.fromServiceWorker;for(const i of Object.keys(n.headers))this._headers[i.toLowerCase()]=n.headers[i];this._securityDetails=n.securityDetails?new yB.SecurityDetails(n.securityDetails):null}_resolveBody(e){return this._bodyLoadedPromiseFulfill(e)}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return this._status===0||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;const r=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(r.body,r.base64Encoded?"base64":"utf8")})),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}Qw=Qa.HTTPResponse=vB;var gB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get HTTPResponse(){return Qw},default:Qa},[Qa])),bB=O(gB);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.NetworkManagerEmittedEvents=void 0;const e=so,r=vt,n=Ht,i=hB,o=bB;t.NetworkManagerEmittedEvents={Request:Symbol("NetworkManager.Request"),RequestServedFromCache:Symbol("NetworkManager.RequestServedFromCache"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};class a extends e.EventEmitter{constructor(l,u,c){super();this._requestIdToRequestWillBeSentEvent=new Map,this._requestIdToRequestPausedEvent=new Map,this._requestIdToRequest=new Map,this._extraHTTPHeaders={},this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._userCacheDisabled=!1,this._emulatedNetworkConditions={offline:!1,upload:-1,download:-1,latency:0},this._client=l,this._ignoreHTTPSErrors=u,this._frameManager=c,this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this)),this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this)),this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}async initialize(){await this._client.send("Network.enable"),this._ignoreHTTPSErrors&&await this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})}async authenticate(l){this._credentials=l,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(l){this._extraHTTPHeaders={};for(const u of Object.keys(l)){const c=l[u];r.assert(n.helper.isString(c),`Expected value of header "${u}" to be String, but "${typeof c}" is found.`),this._extraHTTPHeaders[u.toLowerCase()]=c}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}numRequestsInProgress(){return[...this._requestIdToRequest].filter(([,l])=>!l.response()).length}async setOfflineMode(l){this._emulatedNetworkConditions.offline=l,await this._updateNetworkConditions()}async emulateNetworkConditions(l){this._emulatedNetworkConditions.upload=l?l.upload:-1,this._emulatedNetworkConditions.download=l?l.download:-1,this._emulatedNetworkConditions.latency=l?l.latency:0,await this._updateNetworkConditions()}async _updateNetworkConditions(){await this._client.send("Network.emulateNetworkConditions",{offline:this._emulatedNetworkConditions.offline,latency:this._emulatedNetworkConditions.latency,uploadThroughput:this._emulatedNetworkConditions.upload,downloadThroughput:this._emulatedNetworkConditions.download})}async setUserAgent(l,u){await this._client.send("Network.setUserAgentOverride",{userAgent:l,userAgentMetadata:u})}async setCacheEnabled(l){this._userCacheDisabled=!l,await this._updateProtocolCacheDisabled()}async setRequestInterception(l){this._userRequestInterceptionEnabled=l,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const l=this._userRequestInterceptionEnabled||!!this._credentials;l!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=l,l?await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")]))}_cacheDisabled(){return this._userCacheDisabled}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._cacheDisabled()})}_onRequestWillBeSent(l){if(this._userRequestInterceptionEnabled&&!l.request.url.startsWith("data:")){const u=l.requestId,c=this._requestIdToRequestPausedEvent.get(u);if(this._requestIdToRequestWillBeSentEvent.set(u,l),c){const d=c.requestId;this._onRequest(l,d),this._requestIdToRequestPausedEvent.delete(u)}return}this._onRequest(l,null)}_onAuthRequired(l){let u="Default";this._attemptedAuthentications.has(l.requestId)?u="CancelAuth":this._credentials&&(u="ProvideCredentials",this._attemptedAuthentications.add(l.requestId));const{username:c,password:d}=this._credentials||{username:void 0,password:void 0};this._client.send("Fetch.continueWithAuth",{requestId:l.requestId,authChallengeResponse:{response:u,username:c,password:d}}).catch(n.debugError)}_onRequestPaused(l){!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Fetch.continueRequest",{requestId:l.requestId}).catch(n.debugError);const u=l.networkId,c=l.requestId;if(!u)return;let d=this._requestIdToRequestWillBeSentEvent.get(u);d&&(d.request.url!==l.request.url||d.request.method!==l.request.method)&&(this._requestIdToRequestWillBeSentEvent.delete(u),d=null),d?(this._onRequest(d,c),this._requestIdToRequestWillBeSentEvent.delete(u)):this._requestIdToRequestPausedEvent.set(u,l)}_onRequest(l,u){let c=[];if(l.redirectResponse){const p=this._requestIdToRequest.get(l.requestId);p&&(this._handleRequestRedirect(p,l.redirectResponse),c=p._redirectChain)}const d=l.frameId?this._frameManager.frame(l.frameId):null,h=new i.HTTPRequest(this._client,d,u,this._userRequestInterceptionEnabled,l,c);this._requestIdToRequest.set(l.requestId,h),this.emit(t.NetworkManagerEmittedEvents.Request,h),h.finalizeInterceptions().catch(p=>{n.debugError(p)})}_onRequestServedFromCache(l){const u=this._requestIdToRequest.get(l.requestId);u&&(u._fromMemoryCache=!0),this.emit(t.NetworkManagerEmittedEvents.RequestServedFromCache,u)}_handleRequestRedirect(l,u){const c=new o.HTTPResponse(this._client,l,u);l._response=c,l._redirectChain.push(l),c._resolveBody(new Error("Response body is unavailable for redirect responses")),this._forgetRequest(l,!1),this.emit(t.NetworkManagerEmittedEvents.Response,c),this.emit(t.NetworkManagerEmittedEvents.RequestFinished,l)}_onResponseReceived(l){const u=this._requestIdToRequest.get(l.requestId);if(!u)return;const c=new o.HTTPResponse(this._client,u,l.response);u._response=c,this.emit(t.NetworkManagerEmittedEvents.Response,c)}_forgetRequest(l,u){const c=l._requestId,d=l._interceptionId;this._requestIdToRequest.delete(c),this._attemptedAuthentications.delete(d),u&&(this._requestIdToRequestWillBeSentEvent.delete(c),this._requestIdToRequestPausedEvent.delete(c))}_onLoadingFinished(l){const u=this._requestIdToRequest.get(l.requestId);!u||(u.response()&&u.response()._resolveBody(null),this._forgetRequest(u,!0),this.emit(t.NetworkManagerEmittedEvents.RequestFinished,u))}_onLoadingFailed(l){const u=this._requestIdToRequest.get(l.requestId);if(!u)return;u._failureText=l.errorText;const c=u.response();c&&c._resolveBody(null),this._forgetRequest(u,!0),this.emit(t.NetworkManagerEmittedEvents.RequestFailed,u)}}t.NetworkManager=a})(pp);var $B=Pe(pp),wB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:$B},[pp])),mp=O(wB);Object.defineProperty(Xa,"__esModule",{value:!0});var Zw=Xa.LifecycleWatcher=void 0;const SB=vt,uo=Ht,EB=Aa,_p=Gw,TB=mp,PB=Va,OB=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]);class CB{constructor(e,r,n,i){Array.isArray(n)?n=n.slice():typeof n=="string"&&(n=[n]),this._expectedLifecycle=n.map(o=>{const a=OB.get(o);return SB.assert(a,"Unknown value for options.waitUntil: "+o),a}),this._frameManager=e,this._frame=r,this._initialLoaderId=r._loaderId,this._timeout=i,this._navigationRequest=null,this._eventListeners=[uo.helper.addEventListener(e._client,PB.CDPSessionEmittedEvents.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),uo.helper.addEventListener(this._frameManager,_p.FrameManagerEmittedEvents.LifecycleEvent,this._checkLifecycleComplete.bind(this)),uo.helper.addEventListener(this._frameManager,_p.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),uo.helper.addEventListener(this._frameManager,_p.FrameManagerEmittedEvents.FrameDetached,this._onFrameDetached.bind(this)),uo.helper.addEventListener(this._frameManager.networkManager(),TB.NetworkManagerEmittedEvents.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(o=>{this._sameDocumentNavigationCompleteCallback=o}),this._lifecyclePromise=new Promise(o=>{this._lifecycleCallback=o}),this._newDocumentNavigationPromise=new Promise(o=>{this._newDocumentNavigationCompleteCallback=o}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(o=>{this._terminationCallback=o}),this._checkLifecycleComplete()}_onRequest(e){e.frame()!==this._frame||!e.isNavigationRequest()||(this._navigationRequest=e)}_onFrameDetached(e){if(this._frame===e){this._terminationCallback.call(null,new Error("Navigating frame was detached"));return}this._checkLifecycleComplete()}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});const e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise(r=>this._maximumTimer=setTimeout(r,this._timeout)).then(()=>new EB.TimeoutError(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){if(!e(this._frame,this._expectedLifecycle)||(this._lifecycleCallback(),this._frame._loaderId===this._initialLoaderId&&!this._hasSameDocumentNavigation))return;this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback();function e(r,n){for(const i of n)if(!r._lifecycleEvents.has(i))return!1;for(const i of r.childFrames())if(!e(i,n))return!1;return!0}}dispose(){uo.helper.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}}Zw=Xa.LifecycleWatcher=CB;var MB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get LifecycleWatcher(){return Zw},default:Xa},[Xa])),e1=O(MB),Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});var t1=Pi.WaitTask=n1=Pi.DOMWorld=void 0;const Oi=vt,Ur=Ht,kB=e1,xB=Aa,RB=ip,r1=Nn;class lo{constructor(e,r,n){this._documentPromise=null,this._contextPromise=null,this._contextResolveCallback=null,this._detached=!1,this._waitTasks=new Set,this._boundFunctions=new Map,this._ctxBindings=new Set,this._settingUpBinding=null,this._frameManager=e,this._frame=r,this._timeoutSettings=n,this._setContext(null),e._client.on("Runtime.bindingCalled",i=>this._onBindingCalled(i))}frame(){return this._frame}async _setContext(e){if(e){this._ctxBindings.clear(),this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(const r of this._waitTasks)r.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(r=>{this._contextResolveCallback=r})}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=!0;for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...r){return(await this.executionContext()).evaluateHandle(e,...r)}async evaluate(e,...r){return(await this.executionContext()).evaluate(e,...r)}async $(e){return await(await this._document()).$(e)}async _document(){return this._documentPromise?this._documentPromise:(this._documentPromise=this.executionContext().then(async e=>(await e.evaluateHandle("document")).asElement()),this._documentPromise)}async $x(e){return await(await this._document()).$x(e)}async $eval(e,r,...n){return(await this._document()).$eval(e,r,...n)}async $$eval(e,r,...n){return await(await this._document()).$$eval(e,r,...n)}async $$(e){return await(await this._document()).$$(e)}async content(){return await this.evaluate(()=>{let e="";return document.doctype&&(e=new XMLSerializer().serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}async setContent(e,r={}){const{waitUntil:n=["load"],timeout:i=this._timeoutSettings.navigationTimeout()}=r;await this.evaluate(s=>{document.open(),document.write(s),document.close()},e);const o=new kB.LifecycleWatcher(this._frameManager,this._frame,n,i),a=await Promise.race([o.timeoutOrTerminationPromise(),o.lifecyclePromise()]);if(o.dispose(),a)throw a}async addScriptTag(e){const{url:r=null,path:n=null,content:i=null,id:o="",type:a=""}=e;if(r!==null)try{return(await(await this.executionContext()).evaluateHandle(s,r,o,a)).asElement()}catch(u){throw new Error(`Loading script from ${r} failed`)}if(n!==null){if(!r1.isNode)throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.");let c=await(await Ur.helper.importFSModule()).promises.readFile(n,"utf8");return c+="//# sourceURL="+n.replace(/\n/g,""),(await(await this.executionContext()).evaluateHandle(l,c,o,a)).asElement()}if(i!==null)return(await(await this.executionContext()).evaluateHandle(l,i,o,a)).asElement();throw new Error("Provide an object with a `url`, `path` or `content` property");async function s(u,c,d){const h=document.createElement("script");h.src=u,c&&(h.id=c),d&&(h.type=d);const p=new Promise((y,_)=>{h.onload=y,h.onerror=_});return document.head.appendChild(h),await p,h}function l(u,c,d="text/javascript"){const h=document.createElement("script");h.type=d,h.text=u,c&&(h.id=c);let p=null;if(h.onerror=y=>p=y,document.head.appendChild(h),p)throw p;return h}}async addStyleTag(e){const{url:r=null,path:n=null,content:i=null}=e;if(r!==null)try{return(await(await this.executionContext()).evaluateHandle(o,r)).asElement()}catch(s){throw new Error(`Loading style from ${r} failed`)}if(n!==null){if(!r1.isNode)throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.");let l=await(await Ur.helper.importFSModule()).promises.readFile(n,"utf8");return l+="/*# sourceURL="+n.replace(/\n/g,"")+"*/",(await(await this.executionContext()).evaluateHandle(a,l)).asElement()}if(i!==null)return(await(await this.executionContext()).evaluateHandle(a,i)).asElement();throw new Error("Provide an object with a `url`, `path` or `content` property");async function o(s){const l=document.createElement("link");l.rel="stylesheet",l.href=s;const u=new Promise((c,d)=>{l.onload=c,l.onerror=d});return document.head.appendChild(l),await u,l}async function a(s){const l=document.createElement("style");l.type="text/css",l.appendChild(document.createTextNode(s));const u=new Promise((c,d)=>{l.onload=c,l.onerror=d});return document.head.appendChild(l),await u,l}}async click(e,r){const n=await this.$(e);Oi.assert(n,"No node found for selector: "+e),await n.click(r),await n.dispose()}async focus(e){const r=await this.$(e);Oi.assert(r,"No node found for selector: "+e),await r.focus(),await r.dispose()}async hover(e){const r=await this.$(e);Oi.assert(r,"No node found for selector: "+e),await r.hover(),await r.dispose()}async select(e,...r){const n=await this.$(e);Oi.assert(n,"No node found for selector: "+e);const i=await n.select(...r);return await n.dispose(),i}async tap(e){const r=await this.$(e);await r.tap(),await r.dispose()}async type(e,r,n){const i=await this.$(e);Oi.assert(i,"No node found for selector: "+e),await i.type(r,n),await i.dispose()}async waitForSelector(e,r){const{updatedSelector:n,queryHandler:i}=RB.getQueryHandlerAndSelector(e);return i.waitFor(this,n,r)}async addBindingToContext(e,r){if(this._ctxBindings.has(lo.bindingIdentifier(r,e._contextId)))return;if(this._settingUpBinding)return await this._settingUpBinding,this.addBindingToContext(e,r);const n=async i=>{const o=Ur.helper.pageBindingInitString("internal",i);try{await e._client.send("Runtime.addBinding",{name:i,executionContextName:e._contextName}),await e.evaluate(o)}catch(a){const s=a.message.includes("Execution context was destroyed"),l=a.message.includes("Cannot find context with specified id");if(s||l)return;Ur.debugError(a);return}this._ctxBindings.add(lo.bindingIdentifier(i,e._contextId))};this._settingUpBinding=n(r),await this._settingUpBinding,this._settingUpBinding=null}async _onBindingCalled(e){let r;if(!this._hasContext())return;const n=await this.executionContext();try{r=JSON.parse(e.payload)}catch{return}const{type:i,name:o,seq:a,args:s}=r;if(i!=="internal"||!this._ctxBindings.has(lo.bindingIdentifier(o,n._contextId))||n._contextId!==e.executionContextId)return;try{const u=await this._boundFunctions.get(o)(...s);await n.evaluate(l,o,a,u)}catch(u){if(u.message.includes("Protocol error"))return;Ur.debugError(u)}function l(u,c,d){globalThis[u].callbacks.get(c).resolve(d),globalThis[u].callbacks.delete(c)}}async waitForSelectorInPage(e,r,n,i){const{visible:o=!1,hidden:a=!1,timeout:s=this._timeoutSettings.timeout()}=n,l=o||a?"raf":"mutation",u=`selector \`${r}\`${a?" to be hidden":""}`;async function c(_,f,m){const g=predicateQueryHandler?await predicateQueryHandler(document,_):document.querySelector(_);return checkWaitForOptions(g,f,m)}const d={domWorld:this,predicateBody:Ur.helper.makePredicateString(c,e),title:u,polling:l,timeout:s,args:[r,o,a],binding:i},p=await new Rl(d).promise,y=p.asElement();return y||(await p.dispose(),null)}async waitForXPath(e,r){const{visible:n=!1,hidden:i=!1,timeout:o=this._timeoutSettings.timeout()}=r,a=n||i?"raf":"mutation",s=`XPath \`${e}\`${i?" to be hidden":""}`;function l(p,y,_){const f=document.evaluate(p,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(f,y,_)}const u={domWorld:this,predicateBody:Ur.helper.makePredicateString(l),title:s,polling:a,timeout:o,args:[e,n,i]},d=await new Rl(u).promise,h=d.asElement();return h||(await d.dispose(),null)}waitForFunction(e,r={},...n){const{polling:i="raf",timeout:o=this._timeoutSettings.timeout()}=r,a={domWorld:this,predicateBody:e,title:"function",polling:i,timeout:o,args:n};return new Rl(a).promise}async title(){return this.evaluate(()=>document.title)}}var n1=Pi.DOMWorld=lo;lo.bindingIdentifier=(t,e)=>`${t}_${e}`;class Rl{constructor(e){if(this._runCount=0,this._terminated=!1,Ur.helper.isString(e.polling))Oi.assert(e.polling==="raf"||e.polling==="mutation","Unknown polling option: "+e.polling);else if(Ur.helper.isNumber(e.polling))Oi.assert(e.polling>0,"Cannot poll with non-positive interval: "+e.polling);else throw new Error("Unknown polling options: "+e.polling);function r(n){return Ur.helper.isString(n)?`return (${n});`:`return (${n})(...args);`}if(this._domWorld=e.domWorld,this._polling=e.polling,this._timeout=e.timeout,this._predicateBody=r(e.predicateBody),this._args=e.args,this._binding=e.binding,this._runCount=0,this._domWorld._waitTasks.add(this),this._binding&&this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction),this.promise=new Promise((n,i)=>{this._resolve=n,this._reject=i}),e.timeout){const n=new xB.TimeoutError(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(n),e.timeout)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){const e=++this._runCount;let r=null,n=null;const i=await this._domWorld.executionContext();if(!(this._terminated||e!==this._runCount)&&(this._binding&&await this._domWorld.addBindingToContext(i,this._binding.name),!(this._terminated||e!==this._runCount))){try{r=await i.evaluateHandle(NB,this._predicateBody,this._polling,this._timeout,...this._args)}catch(o){n=o}if(this._terminated||e!==this._runCount){r&&await r.dispose();return}if(!n&&await this._domWorld.evaluate(o=>!o,r).catch(()=>!0)){await r.dispose();return}if(n){if(n.message.includes("TypeError: binding is not a function"))return this.rerun();if(n.message.includes("Execution context is not available in detached frame")){this.terminate(new Error("waitForFunction failed: frame got detached."));return}if(n.message.includes("Execution context was destroyed")||n.message.includes("Cannot find context with specified id"))return;this._reject(n)}else this._resolve(r);this._cleanup()}}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this)}}t1=Pi.WaitTask=Rl;async function NB(t,e,r,...n){const i=new Function("...args",t);let o=!1;if(r&&setTimeout(()=>o=!0,r),e==="raf")return await s();if(e==="mutation")return await a();if(typeof e=="number")return await l(e);async function a(){const u=await i(...n);if(u)return Promise.resolve(u);let c;const d=new Promise(p=>c=p),h=new MutationObserver(async()=>{o&&(h.disconnect(),c());const p=await i(...n);p&&(h.disconnect(),c(p))});return h.observe(document,{childList:!0,subtree:!0,attributes:!0}),d}async function s(){let u;const c=new Promise(h=>u=h);return await d(),c;async function d(){if(o){u();return}const h=await i(...n);h?u(h):requestAnimationFrame(d)}}async function l(u){let c;const d=new Promise(p=>c=p);return await h(),d;async function h(){if(o){c();return}const p=await i(...n);p?c(p):setTimeout(h,u)}}}var IB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get WaitTask(){return t1},get DOMWorld(){return n1},default:Pi},[Pi])),jB=O(IB);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.FrameManager=t.FrameManagerEmittedEvents=void 0;const e=Ua,r=so,n=vt,i=Ht,o=hp,a=e1,s=jB,l=mp,u="__puppeteer_utility_world__",c=/^\(\/\/[^\)]+\)|^\/\//;t.FrameManagerEmittedEvents={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class d extends r.EventEmitter{constructor(_,f,m,g){super();this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client=_,this._page=f,this._networkManager=new l.NetworkManager(_,m,this),this._timeoutSettings=g,this._client.on("Page.frameAttached",w=>this._onFrameAttached(w.frameId,w.parentFrameId)),this._client.on("Page.frameNavigated",w=>this._onFrameNavigated(w.frame)),this._client.on("Page.navigatedWithinDocument",w=>this._onFrameNavigatedWithinDocument(w.frameId,w.url)),this._client.on("Page.frameDetached",w=>this._onFrameDetached(w.frameId)),this._client.on("Page.frameStoppedLoading",w=>this._onFrameStoppedLoading(w.frameId)),this._client.on("Runtime.executionContextCreated",w=>this._onExecutionContextCreated(w.context)),this._client.on("Runtime.executionContextDestroyed",w=>this._onExecutionContextDestroyed(w.executionContextId)),this._client.on("Runtime.executionContextsCleared",()=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",w=>this._onLifecycleEvent(w)),this._client.on("Target.attachedToTarget",async w=>this._onFrameMoved(w))}async initialize(){const _=await Promise.all([this._client.send("Page.enable"),this._client.send("Page.getFrameTree")]),{frameTree:f}=_[1];this._handleFrameTree(f),await Promise.all([this._client.send("Page.setLifecycleEventsEnabled",{enabled:!0}),this._client.send("Runtime.enable").then(()=>this._ensureIsolatedWorld(u)),this._networkManager.initialize()])}networkManager(){return this._networkManager}async navigateFrame(_,f,m={}){p(m);const{referer:g=this._networkManager.extraHTTPHeaders().referer,waitUntil:w=["load"],timeout:P=this._timeoutSettings.navigationTimeout()}=m,A=new a.LifecycleWatcher(this,_,w,P);let S=!1,M=await Promise.race([L(this._client,f,g,_._id),A.timeoutOrTerminationPromise()]);if(M||(M=await Promise.race([A.timeoutOrTerminationPromise(),S?A.newDocumentNavigationPromise():A.sameDocumentNavigationPromise()])),A.dispose(),M)throw M;return A.navigationResponse();async function L(W,z,Z,G){try{const ae=await W.send("Page.navigate",{url:z,referrer:Z,frameId:G});return S=!!ae.loaderId,ae.errorText?new Error(`${ae.errorText} at ${z}`):null}catch(ae){return ae}}}async waitForFrameNavigation(_,f={}){p(f);const{waitUntil:m=["load"],timeout:g=this._timeoutSettings.navigationTimeout()}=f,w=new a.LifecycleWatcher(this,_,m,g),P=await Promise.race([w.timeoutOrTerminationPromise(),w.sameDocumentNavigationPromise(),w.newDocumentNavigationPromise()]);if(w.dispose(),P)throw P;return w.navigationResponse()}async _onFrameMoved(_){_.targetInfo.type==="iframe"&&e.debug("puppeteer:frame")(`The frame '${_.targetInfo.targetId}' moved to another session. Out-of-process iframes (OOPIF) are not supported by Puppeteer yet. https://github.com/puppeteer/puppeteer/issues/2548`)}_onLifecycleEvent(_){const f=this._frames.get(_.frameId);!f||(f._onLifecycleEvent(_.loaderId,_.name),this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,f))}_onFrameStoppedLoading(_){const f=this._frames.get(_);!f||(f._onLoadingStopped(),this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,f))}_handleFrameTree(_){if(_.frame.parentId&&this._onFrameAttached(_.frame.id,_.frame.parentId),this._onFrameNavigated(_.frame),!!_.childFrames)for(const f of _.childFrames)this._handleFrameTree(f)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(_){return this._frames.get(_)||null}_onFrameAttached(_,f){if(this._frames.has(_))return;n.assert(f);const m=this._frames.get(f),g=new h(this,m,_);this._frames.set(g._id,g),this.emit(t.FrameManagerEmittedEvents.FrameAttached,g)}_onFrameNavigated(_){const f=!_.parentId;let m=f?this._mainFrame:this._frames.get(_.id);if(n.assert(f||m,"We either navigate top level or have old version of the navigated frame"),m)for(const g of m.childFrames())this._removeFramesRecursively(g);f&&(m?(this._frames.delete(m._id),m._id=_.id):m=new h(this,null,_.id),this._frames.set(_.id,m),this._mainFrame=m),m._navigated(_),this.emit(t.FrameManagerEmittedEvents.FrameNavigated,m)}async _ensureIsolatedWorld(_){this._isolatedWorlds.has(_)||(this._isolatedWorlds.add(_),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${o.EVALUATION_SCRIPT_URL}`,worldName:_}),await Promise.all(this.frames().map(f=>this._client.send("Page.createIsolatedWorld",{frameId:f._id,worldName:_,grantUniveralAccess:!0}).catch(i.debugError))))}_onFrameNavigatedWithinDocument(_,f){const m=this._frames.get(_);!m||(m._navigatedWithinDocument(f),this.emit(t.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,m),this.emit(t.FrameManagerEmittedEvents.FrameNavigated,m))}_onFrameDetached(_){const f=this._frames.get(_);f&&this._removeFramesRecursively(f)}_onExecutionContextCreated(_){const f=_.auxData,m=f?f.frameId:null,g=this._frames.get(m)||null;let w=null;g&&(_.auxData&&!!_.auxData.isDefault?w=g._mainWorld:_.name===u&&!g._secondaryWorld._hasContext()&&(w=g._secondaryWorld));const P=new o.ExecutionContext(this._client,_,w);w&&w._setContext(P),this._contextIdToContext.set(_.id,P)}_onExecutionContextDestroyed(_){const f=this._contextIdToContext.get(_);!f||(this._contextIdToContext.delete(_),f._world&&f._world._setContext(null))}_onExecutionContextsCleared(){for(const _ of this._contextIdToContext.values())_._world&&_._world._setContext(null);this._contextIdToContext.clear()}executionContextById(_){const f=this._contextIdToContext.get(_);return n.assert(f,"INTERNAL ERROR: missing context with id = "+_),f}_removeFramesRecursively(_){for(const f of _.childFrames())this._removeFramesRecursively(f);_._detach(),this._frames.delete(_._id),this.emit(t.FrameManagerEmittedEvents.FrameDetached,_)}}t.FrameManager=d;class h{constructor(_,f,m){this._url="",this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._frameManager=_,this._parentFrame=f,this._url="",this._id=m,this._detached=!1,this._loaderId="",this._mainWorld=new s.DOMWorld(_,this,_._timeoutSettings),this._secondaryWorld=new s.DOMWorld(_,this,_._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}async goto(_,f={}){return await this._frameManager.navigateFrame(this,_,f)}async waitForNavigation(_={}){return await this._frameManager.waitForFrameNavigation(this,_)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(_,...f){return this._mainWorld.evaluateHandle(_,...f)}async evaluate(_,...f){return this._mainWorld.evaluate(_,...f)}async $(_){return this._mainWorld.$(_)}async $x(_){return this._mainWorld.$x(_)}async $eval(_,f,...m){return this._mainWorld.$eval(_,f,...m)}async $$eval(_,f,...m){return this._mainWorld.$$eval(_,f,...m)}async $$(_){return this._mainWorld.$$(_)}async content(){return this._secondaryWorld.content()}async setContent(_,f={}){return this._secondaryWorld.setContent(_,f)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(_){return this._mainWorld.addScriptTag(_)}async addStyleTag(_){return this._mainWorld.addStyleTag(_)}async click(_,f={}){return this._secondaryWorld.click(_,f)}async focus(_){return this._secondaryWorld.focus(_)}async hover(_){return this._secondaryWorld.hover(_)}select(_,...f){return this._secondaryWorld.select(_,...f)}async tap(_){return this._secondaryWorld.tap(_)}async type(_,f,m){return this._mainWorld.type(_,f,m)}waitFor(_,f={},...m){if(console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code."),i.helper.isString(_)){const g=_;return c.test(g)?this.waitForXPath(g,f):this.waitForSelector(g,f)}return i.helper.isNumber(_)?new Promise(g=>setTimeout(g,_)):typeof _=="function"?this.waitForFunction(_,f,...m):Promise.reject(new Error("Unsupported target type: "+typeof _))}waitForTimeout(_){return new Promise(f=>{setTimeout(f,_)})}async waitForSelector(_,f={}){const m=await this._secondaryWorld.waitForSelector(_,f);if(!m)return null;const w=await(await this._mainWorld.executionContext())._adoptElementHandle(m);return await m.dispose(),w}async waitForXPath(_,f={}){const m=await this._secondaryWorld.waitForXPath(_,f);if(!m)return null;const w=await(await this._mainWorld.executionContext())._adoptElementHandle(m);return await m.dispose(),w}waitForFunction(_,f={},...m){return this._mainWorld.waitForFunction(_,f,...m)}async title(){return this._secondaryWorld.title()}_navigated(_){this._name=_.name,this._url=`${_.url}${_.urlFragment||""}`}_navigatedWithinDocument(_){this._url=_}_onLifecycleEvent(_,f){f==="init"&&(this._loaderId=_,this._lifecycleEvents.clear()),this._lifecycleEvents.add(f)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}}t.Frame=h;function p(y){n.assert(y.networkIdleTimeout===void 0,"ERROR: networkIdleTimeout option is no longer supported."),n.assert(y.networkIdleInflight===void 0,"ERROR: networkIdleInflight option is no longer supported."),n.assert(y.waitUntil!=="networkidle",'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}})(up);var AB=Pe(up),cn={},es={};Object.defineProperty(es,"__esModule",{value:!0});var i1=es.keyDefinitions=void 0;i1=es.keyDefinitions={"0":{keyCode:48,key:"0",code:"Digit0"},"1":{keyCode:49,key:"1",code:"Digit1"},"2":{keyCode:50,key:"2",code:"Digit2"},"3":{keyCode:51,key:"3",code:"Digit3"},"4":{keyCode:52,key:"4",code:"Digit4"},"5":{keyCode:53,key:"5",code:"Digit5"},"6":{keyCode:54,key:"6",code:"Digit6"},"7":{keyCode:55,key:"7",code:"Digit7"},"8":{keyCode:56,key:"8",code:"Digit8"},"9":{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}};var FB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get keyDefinitions(){return i1},default:es},[es])),LB=O(FB);Object.defineProperty(cn,"__esModule",{value:!0});var o1=cn.Touchscreen=u1=cn.Mouse=s1=cn.Keyboard=void 0;const DB=vt,a1=LB;class zB{constructor(e){this._modifiers=0,this._pressedKeys=new Set,this._client=e}async down(e,r={text:void 0}){const n=this._keyDescriptionForString(e),i=this._pressedKeys.has(n.code);this._pressedKeys.add(n.code),this._modifiers|=this._modifierBit(n.key);const o=r.text===void 0?n.text:r.text;await this._client.send("Input.dispatchKeyEvent",{type:o?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:n.keyCode,code:n.code,key:n.key,text:o,unmodifiedText:o,autoRepeat:i,location:n.location,isKeypad:n.location===3})}_modifierBit(e){return e==="Alt"?1:e==="Control"?2:e==="Meta"?4:e==="Shift"?8:0}_keyDescriptionForString(e){const r=this._modifiers&8,n={key:"",keyCode:0,code:"",text:"",location:0},i=a1.keyDefinitions[e];return DB.assert(i,`Unknown key: "${e}"`),i.key&&(n.key=i.key),r&&i.shiftKey&&(n.key=i.shiftKey),i.keyCode&&(n.keyCode=i.keyCode),r&&i.shiftKeyCode&&(n.keyCode=i.shiftKeyCode),i.code&&(n.code=i.code),i.location&&(n.location=i.location),n.key.length===1&&(n.text=n.key),i.text&&(n.text=i.text),r&&i.shiftText&&(n.text=i.shiftText),this._modifiers&~8&&(n.text=""),n}async up(e){const r=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(r.key),this._pressedKeys.delete(r.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:r.key,windowsVirtualKeyCode:r.keyCode,code:r.code,location:r.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!a1.keyDefinitions[e]}async type(e,r={}){const n=r.delay||null;for(const i of e)this.charIsKey(i)?await this.press(i,{delay:n}):(n&&await new Promise(o=>setTimeout(o,n)),await this.sendCharacter(i))}async press(e,r={}){const{delay:n=null}=r;await this.down(e,r),n&&await new Promise(i=>setTimeout(i,r.delay)),await this.up(e)}}var s1=cn.Keyboard=zB;class qB{constructor(e,r){this._x=0,this._y=0,this._button="none",this._client=e,this._keyboard=r}async move(e,r,n={}){const{steps:i=1}=n,o=this._x,a=this._y;this._x=e,this._y=r;for(let s=1;s<=i;s++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:o+(this._x-o)*(s/i),y:a+(this._y-a)*(s/i),modifiers:this._keyboard._modifiers})}async click(e,r,n={}){const{delay:i=null}=n;i!==null?(await this.move(e,r),await this.down(n),await new Promise(o=>setTimeout(o,i)),await this.up(n)):(await this.move(e,r),await this.down(n),await this.up(n))}async down(e={}){const{button:r="left",clickCount:n=1}=e;this._button=r,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:r,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:n})}async up(e={}){const{button:r="left",clickCount:n=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:r,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:n})}async wheel(e={}){const{deltaX:r=0,deltaY:n=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:r,deltaY:n,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}async drag(e,r){const n=new Promise(i=>{this._client.once("Input.dragIntercepted",o=>i(o.data))});return await this.move(e.x,e.y),await this.down(),await this.move(r.x,r.y),n}async dragEnter(e,r){await this._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:r})}async dragOver(e,r){await this._client.send("Input.dispatchDragEvent",{type:"dragOver",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:r})}async drop(e,r){await this._client.send("Input.dispatchDragEvent",{type:"drop",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:r})}async dragAndDrop(e,r,n={}){const{delay:i=null}=n,o=await this.drag(e,r);await this.dragEnter(r,o),await this.dragOver(r,o),i&&await new Promise(a=>setTimeout(a,i)),await this.drop(r,o),await this.up()}}var u1=cn.Mouse=qB;class UB{constructor(e,r){this._client=e,this._keyboard=r}async tap(e,r){const n=[{x:Math.round(e),y:Math.round(r)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:n,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}}o1=cn.Touchscreen=UB;var BB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Touchscreen(){return o1},get Mouse(){return u1},get Keyboard(){return s1},default:cn},[cn])),HB=O(BB),ts={};Object.defineProperty(ts,"__esModule",{value:!0});var l1=ts.Tracing=void 0;const KB=vt,c1=Ht;class VB{constructor(e){this._recording=!1,this._path="",this._client=e}async start(e={}){KB.assert(!this._recording,"Cannot start recording trace while already recording trace.");const r=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler"],{path:n=null,screenshots:i=!1,categories:o=r}=e;i&&o.push("disabled-by-default-devtools.screenshot");const a=o.filter(l=>l.startsWith("-")).map(l=>l.slice(1)),s=o.filter(l=>!l.startsWith("-"));this._path=n,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",traceConfig:{excludedCategories:a,includedCategories:s}})}async stop(){let e,r;const n=new Promise((i,o)=>{e=i,r=o});return this._client.once("Tracing.tracingComplete",async i=>{try{const o=await c1.helper.getReadableFromProtocolStream(this._client,i.stream),a=await c1.helper.getReadableAsBuffer(o,this._path);e(a)}catch(o){r(o)}}),await this._client.send("Tracing.end"),this._recording=!1,n}}l1=ts.Tracing=VB;var WB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Tracing(){return l1},default:ts},[ts])),GB=O(WB),dn={};Object.defineProperty(dn,"__esModule",{value:!0});var d1=dn.CSSCoverage=p1=dn.JSCoverage=f1=dn.Coverage=void 0;const Nl=vt,jn=Ht,XB=hp;class JB{constructor(e){this._jsCoverage=new h1(e),this._cssCoverage=new m1(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}}var f1=dn.Coverage=JB;class h1{constructor(e){this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._includeRawScriptCoverage=!1,this._client=e}async start(e={}){Nl.assert(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:r=!0,reportAnonymousScripts:n=!1,includeRawScriptCoverage:i=!1}=e;this._resetOnNavigation=r,this._reportAnonymousScripts=n,this._includeRawScriptCoverage=i,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[jn.helper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),jn.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:this._includeRawScriptCoverage,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){!this._resetOnNavigation||(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==XB.EVALUATION_SCRIPT_URL&&!(!e.url&&!this._reportAnonymousScripts))try{const r=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,r.scriptSource)}catch(r){jn.debugError(r)}}async stop(){Nl.assert(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;const e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);jn.helper.removeEventListeners(this._eventListeners);const r=[],n=e[0];for(const i of n.result){let o=this._scriptURLs.get(i.scriptId);!o&&this._reportAnonymousScripts&&(o="debugger://VM"+i.scriptId);const a=this._scriptSources.get(i.scriptId);if(a===void 0||o===void 0)continue;const s=[];for(const u of i.functions)s.push(...u.ranges);const l=_1(s);this._includeRawScriptCoverage?r.push({url:o,ranges:l,text:a,rawScriptCoverage:i}):r.push({url:o,ranges:l,text:a})}return r}}var p1=dn.JSCoverage=h1;class m1{constructor(e){this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){Nl.assert(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:r=!0}=e;this._resetOnNavigation=r,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[jn.helper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),jn.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){!this._resetOnNavigation||(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){const r=e.header;if(!!r.sourceURL)try{const n=await this._client.send("CSS.getStyleSheetText",{styleSheetId:r.styleSheetId});this._stylesheetURLs.set(r.styleSheetId,r.sourceURL),this._stylesheetSources.set(r.styleSheetId,n.text)}catch(n){jn.debugError(n)}}async stop(){Nl.assert(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),jn.helper.removeEventListeners(this._eventListeners);const r=new Map;for(const i of e.ruleUsage){let o=r.get(i.styleSheetId);o||(o=[],r.set(i.styleSheetId,o)),o.push({startOffset:i.startOffset,endOffset:i.endOffset,count:i.used?1:0})}const n=[];for(const i of this._stylesheetURLs.keys()){const o=this._stylesheetURLs.get(i),a=this._stylesheetSources.get(i),s=_1(r.get(i)||[]);n.push({url:o,ranges:s,text:a})}return n}}d1=dn.CSSCoverage=m1;function _1(t){const e=[];for(const o of t)e.push({offset:o.startOffset,type:0,range:o}),e.push({offset:o.endOffset,type:1,range:o});e.sort((o,a)=>{if(o.offset!==a.offset)return o.offset-a.offset;if(o.type!==a.type)return a.type-o.type;const s=o.range.endOffset-o.range.startOffset,l=a.range.endOffset-a.range.startOffset;return o.type===0?l-s:s-l});const r=[],n=[];let i=0;for(const o of e){if(r.length&&i<o.offset&&r[r.length-1]>0){const a=n.length?n[n.length-1]:null;a&&a.end===i?a.end=o.offset:n.push({start:i,end:o.offset})}i=o.offset,o.type===0?r.push(o.range.count):r.pop()}return n.filter(o=>o.end-o.start>1)}var YB=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get CSSCoverage(){return d1},get JSCoverage(){return p1},get Coverage(){return f1},default:dn},[dn])),QB=O(YB),rs={};Object.defineProperty(rs,"__esModule",{value:!0});var y1=rs.WebWorker=void 0;const ZB=so,e7=Ht,t7=hp,r7=fp;class n7 extends ZB.EventEmitter{constructor(e,r,n,i){super();this._client=e,this._url=r,this._executionContextPromise=new Promise(a=>this._executionContextCallback=a);let o;this._client.once("Runtime.executionContextCreated",async a=>{o=l=>new r7.JSHandle(s,e,l);const s=new t7.ExecutionContext(e,a.context,null);this._executionContextCallback(s)}),this._client.send("Runtime.enable").catch(e7.debugError),this._client.on("Runtime.consoleAPICalled",a=>n(a.type,a.args.map(o),a.stackTrace)),this._client.on("Runtime.exceptionThrown",a=>i(a.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...r){return(await this._executionContextPromise).evaluate(e,...r)}async evaluateHandle(e,...r){return(await this._executionContextPromise).evaluateHandle(e,...r)}}y1=rs.WebWorker=n7;var i7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get WebWorker(){return y1},default:rs},[rs])),v1=O(i7),ns={};Object.defineProperty(ns,"__esModule",{value:!0});var g1=ns.Accessibility=void 0;class o7{constructor(e){this._client=e}async snapshot(e={}){const{interestingOnly:r=!0,root:n=null}=e,{nodes:i}=await this._client.send("Accessibility.getFullAXTree");let o=null;if(n){const{node:u}=await this._client.send("DOM.describeNode",{objectId:n._remoteObject.objectId});o=u.backendNodeId}const a=yp.createTree(i);let s=a;if(o&&(s=a.find(u=>u.payload.backendDOMNodeId===o),!s))return null;if(!r)return this.serializeTree(s)[0];const l=new Set;return this.collectInterestingNodes(l,a,!1),l.has(s)?this.serializeTree(s,l)[0]:null}serializeTree(e,r){const n=[];for(const o of e.children)n.push(...this.serializeTree(o,r));if(r&&!r.has(e))return n;const i=e.serialize();return n.length&&(i.children=n),[i]}collectInterestingNodes(e,r,n){if(r.isInteresting(n)&&e.add(r),!r.isLeafNode()){n=n||r.isControl();for(const i of r.children)this.collectInterestingNodes(e,i,n)}}}g1=ns.Accessibility=o7;class yp{constructor(e){this.children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._hidden=!1,this.payload=e,this._name=this.payload.name?this.payload.name.value:"",this._role=this.payload.role?this.payload.role.value:"Unknown",this._ignored=this.payload.ignored;for(const r of this.payload.properties||[])r.name==="editable"&&(this._richlyEditable=r.value.value==="richtext",this._editable=!0),r.name==="focusable"&&(this._focusable=r.value.value),r.name==="hidden"&&(this._hidden=r.value.value)}_isPlainTextField(){return this._richlyEditable?!1:this._editable?!0:this._role==="textbox"||this._role==="searchbox"}_isTextOnlyObject(){const e=this._role;return e==="LineBreak"||e==="text"||e==="InlineTextBox"}_hasFocusableChild(){if(this._cachedHasFocusableChild===void 0){this._cachedHasFocusableChild=!1;for(const e of this.children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(const r of this.children){const n=r.find(e);if(n)return n}return null}isLeafNode(){if(!this.children.length||this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return this._hasFocusableChild()?!1:!!(this._focusable&&this._name||this._role==="heading"&&this._name)}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return this._role==="Ignored"||this._hidden||this._ignored?!1:this._focusable||this._richlyEditable||this.isControl()?!0:e?!1:this.isLeafNode()&&!!this._name}serialize(){const e=new Map;for(const h of this.payload.properties||[])e.set(h.name.toLowerCase(),h.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);const r={role:this._role},n=["name","value","description","keyshortcuts","roledescription","valuetext"],i=h=>e.get(h);for(const h of n)!e.has(h)||(r[h]=i(h));const o=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],a=h=>e.get(h);for(const h of o)h==="focused"&&this._role==="RootWebArea"||!a(h)||(r[h]=a(h));const s=["checked","pressed"];for(const h of s){if(!e.has(h))continue;const p=e.get(h);r[h]=p==="mixed"?"mixed":p==="true"}const l=["level","valuemax","valuemin"],u=h=>e.get(h);for(const h of l)!e.has(h)||(r[h]=u(h));const c=["autocomplete","haspopup","invalid","orientation"],d=h=>e.get(h);for(const h of c){const p=d(h);!p||p==="false"||(r[h]=d(h))}return r}static createTree(e){const r=new Map;for(const n of e)r.set(n.nodeId,new yp(n));for(const n of r.values())for(const i of n.payload.childIds||[])n.children.push(r.get(i));return r.values().next().value}}var a7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Accessibility(){return g1},default:ns},[ns])),s7=O(a7),is={};Object.defineProperty(is,"__esModule",{value:!0});var b1=is.TimeoutSettings=void 0;const $1=3e4;class u7{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return this._defaultNavigationTimeout!==null?this._defaultNavigationTimeout:this._defaultTimeout!==null?this._defaultTimeout:$1}timeout(){return this._defaultTimeout!==null?this._defaultTimeout:$1}}b1=is.TimeoutSettings=u7;var l7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get TimeoutSettings(){return b1},default:is},[is])),c7=O(l7),os={};Object.defineProperty(os,"__esModule",{value:!0});var w1=os.FileChooser=void 0;const S1=vt;class d7{constructor(e,r){this._handled=!1,this._element=e,this._multiple=r.mode!=="selectSingle"}isMultiple(){return this._multiple}async accept(e){S1.assert(!this._handled,"Cannot accept FileChooser which is already handled!"),this._handled=!0,await this._element.uploadFile(...e)}cancel(){S1.assert(!this._handled,"Cannot cancel FileChooser which is already handled!"),this._handled=!0}}w1=os.FileChooser=d7;var f7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get FileChooser(){return w1},default:os},[os])),h7=O(f7),as={};Object.defineProperty(as,"__esModule",{value:!0});var E1=as.ConsoleMessage=void 0;class p7{constructor(e,r,n,i){this._type=e,this._text=r,this._args=n,this._stackTraceLocations=i}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}}E1=as.ConsoleMessage=p7;var m7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get ConsoleMessage(){return E1},default:as},[as])),_7=O(m7),ss={};Object.defineProperty(ss,"__esModule",{value:!0});var T1=ss.paperFormats=void 0;T1=ss.paperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};var y7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get paperFormats(){return T1},default:ss},[ss])),v7=O(y7);Object.defineProperty(Ha,"__esModule",{value:!0});var P1=Ha.Page=void 0;const g7=so,O1=Va,b7=Y8,$7=eB,Il=Gw,vp=HB,w7=GB,st=vt,ut=Ht,S7=QB,E7=v1,T7=fp,fn=mp,P7=s7,O7=c7,C7=h7,C1=_7,M7=v7,k7=Nn;class x7{constructor(){this._chain=Promise.resolve(void 0)}postTask(e){const r=this._chain.then(e);return this._chain=r.catch(()=>{}),r}}class gp extends g7.EventEmitter{constructor(e,r,n){super();this._closed=!1,this._timeoutSettings=new O7.TimeoutSettings,this._pageBindings=new Map,this._javascriptEnabled=!0,this._workers=new Map,this._fileChooserInterceptors=new Set,this._userDragInterceptionEnabled=!1,this._client=e,this._target=r,this._keyboard=new vp.Keyboard(e),this._mouse=new vp.Mouse(e,this._keyboard),this._touchscreen=new vp.Touchscreen(e,this._keyboard),this._accessibility=new P7.Accessibility(e),this._frameManager=new Il.FrameManager(e,this,n,this._timeoutSettings),this._emulationManager=new $7.EmulationManager(e),this._tracing=new w7.Tracing(e),this._coverage=new S7.Coverage(e),this._screenshotTaskQueue=new x7,this._viewport=null,e.on("Target.attachedToTarget",o=>{if(o.targetInfo.type!=="worker"&&o.targetInfo.type!=="iframe"){e.send("Target.detachFromTarget",{sessionId:o.sessionId}).catch(ut.debugError);return}const a=O1.Connection.fromSession(e).session(o.sessionId),s=new E7.WebWorker(a,o.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(o.sessionId,s),this.emit("workercreated",s)}),e.on("Target.detachedFromTarget",o=>{const a=this._workers.get(o.sessionId);!a||(this._workers.delete(o.sessionId),this.emit("workerdestroyed",a))}),this._frameManager.on(Il.FrameManagerEmittedEvents.FrameAttached,o=>this.emit("frameattached",o)),this._frameManager.on(Il.FrameManagerEmittedEvents.FrameDetached,o=>this.emit("framedetached",o)),this._frameManager.on(Il.FrameManagerEmittedEvents.FrameNavigated,o=>this.emit("framenavigated",o));const i=this._frameManager.networkManager();i.on(fn.NetworkManagerEmittedEvents.Request,o=>this.emit("request",o)),i.on(fn.NetworkManagerEmittedEvents.RequestServedFromCache,o=>this.emit("requestservedfromcache",o)),i.on(fn.NetworkManagerEmittedEvents.Response,o=>this.emit("response",o)),i.on(fn.NetworkManagerEmittedEvents.RequestFailed,o=>this.emit("requestfailed",o)),i.on(fn.NetworkManagerEmittedEvents.RequestFinished,o=>this.emit("requestfinished",o)),this._fileChooserInterceptors=new Set,e.on("Page.domContentEventFired",()=>this.emit("domcontentloaded")),e.on("Page.loadEventFired",()=>this.emit("load")),e.on("Runtime.consoleAPICalled",o=>this._onConsoleAPI(o)),e.on("Runtime.bindingCalled",o=>this._onBindingCalled(o)),e.on("Page.javascriptDialogOpening",o=>this._onDialog(o)),e.on("Runtime.exceptionThrown",o=>this._handleException(o.exceptionDetails)),e.on("Inspector.targetCrashed",()=>this._onTargetCrashed()),e.on("Performance.metrics",o=>this._emitMetrics(o)),e.on("Log.entryAdded",o=>this._onLogEntryAdded(o)),e.on("Page.fileChooserOpened",o=>this._onFileChooser(o)),this._target._isClosedPromise.then(()=>{this.emit("close"),this._closed=!0})}static async create(e,r,n,i){const o=new gp(e,r,n);return await o._initialize(),i&&await o.setViewport(i),o}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;const i=await(await this._frameManager.frame(e.frameId).executionContext())._adoptBackendNodeId(e.backendNodeId),o=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();const a=new C7.FileChooser(i,e);for(const s of o)s.call(null,a)}isDragInterceptionEnabled(){return this._userDragInterceptionEnabled}isJavaScriptEnabled(){return this._javascriptEnabled}on(e,r){return e==="request"?super.on(e,n=>{n.enqueueInterceptAction(()=>r(n))}):super.on(e,r)}once(e,r){return super.once(e,r)}async waitForFileChooser(e={}){this._fileChooserInterceptors.size||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:!0});const{timeout:r=this._timeoutSettings.timeout()}=e;let n;const i=new Promise(o=>n=o);return this._fileChooserInterceptors.add(n),ut.helper.waitWithTimeout(i,"waiting for file chooser",r).catch(o=>{throw this._fileChooserInterceptors.delete(n),o})}async setGeolocation(e){const{longitude:r,latitude:n,accuracy:i=0}=e;if(r<-180||r>180)throw new Error(`Invalid longitude "${r}": precondition -180 <= LONGITUDE <= 180 failed.`);if(n<-90||n>90)throw new Error(`Invalid latitude "${n}": precondition -90 <= LATITUDE <= 90 failed.`);if(i<0)throw new Error(`Invalid accuracy "${i}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:r,latitude:n,accuracy:i})}target(){return this._target}client(){return this._client}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:r,text:n,args:i,source:o,url:a,lineNumber:s}=e.entry;i&&i.map(l=>ut.helper.releaseObject(this._client,l)),o!=="worker"&&this.emit("console",new C1.ConsoleMessage(r,n,[],[{url:a,lineNumber:s}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}async setDragInterception(e){return this._userDragInterceptionEnabled=e,this._client.send("Input.setInterceptDrags",{enabled:e})}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}emulateNetworkConditions(e){return this._frameManager.networkManager().emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...r){return(await this.mainFrame().executionContext()).evaluateHandle(e,...r)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,r,...n){return this.mainFrame().$eval(e,r,...n)}async $$eval(e,r,...n){return this.mainFrame().$$eval(e,r,...n)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){const r=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,n=["priority"],i=o=>{for(const a of n)delete o[a];return o};return r.map(i)}async deleteCookie(...e){const r=this.url();for(const n of e){const i=Object.assign({},n);!n.url&&r.startsWith("http")&&(i.url=r),await this._client.send("Network.deleteCookies",i)}}async setCookie(...e){const r=this.url(),n=r.startsWith("http"),i=e.map(o=>{const a=Object.assign({},o);return!a.url&&n&&(a.url=r),st.assert(a.url!=="about:blank",`Blank page can not have cookie "${a.name}"`),st.assert(!String.prototype.startsWith.call(a.url||"","data:"),`Data URL page can not have cookie "${a.name}"`),a});await this.deleteCookie(...i),i.length&&await this._client.send("Network.setCookies",{cookies:i})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,r){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,r);const n=ut.helper.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:n}),await Promise.all(this.frames().map(i=>i.evaluate(n).catch(ut.debugError)))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e,r){return this._frameManager.networkManager().setUserAgent(e,r)}async metrics(){const e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const r={};for(const n of e||[])R7.has(n.name)&&(r[n.name]=n.value);return r}_handleException(e){const r=ut.helper.getExceptionMessage(e),n=new Error(r);n.stack="",this.emit("pageerror",n)}async _onConsoleAPI(e){if(e.executionContextId===0)return;const r=this._frameManager.executionContextById(e.executionContextId),n=e.args.map(i=>T7.createJSHandle(r,i));this._addConsoleMessage(e.type,n,e.stackTrace)}async _onBindingCalled(e){let r;try{r=JSON.parse(e.payload)}catch{return}const{type:n,name:i,seq:o,args:a}=r;if(n!=="exposedFun"||!this._pageBindings.has(i))return;let s=null;try{const l=await this._pageBindings.get(i)(...a);s=ut.helper.pageBindingDeliverResultString(i,o,l)}catch(l){l instanceof Error?s=ut.helper.pageBindingDeliverErrorString(i,o,l.message,l.stack):s=ut.helper.pageBindingDeliverErrorValueString(i,o,l)}this._client.send("Runtime.evaluate",{expression:s,contextId:e.executionContextId}).catch(ut.debugError)}_addConsoleMessage(e,r,n){if(!this.listenerCount("console")){r.forEach(s=>s.dispose());return}const i=[];for(const s of r){const l=s._remoteObject;l.objectId?i.push(s.toString()):i.push(ut.helper.valueFromRemoteObject(l))}const o=[];if(n)for(const s of n.callFrames)o.push({url:s.url,lineNumber:s.lineNumber,columnNumber:s.columnNumber});const a=new C1.ConsoleMessage(e,i.join(" "),r,o);this.emit("console",a)}_onDialog(e){let r=null;new Set(["alert","confirm","prompt","beforeunload"]).has(e.type)&&(r=e.type),st.assert(r,"Unknown javascript dialog type: "+e.type);const i=new b7.Dialog(this._client,r,e.message,e.defaultPrompt);this.emit("dialog",i)}async _resetDefaultBackgroundColor(){await this._client.send("Emulation.setDefaultBackgroundColorOverride")}async _setTransparentBackgroundColor(){await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}})}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,r={}){await this._frameManager.mainFrame().setContent(e,r)}async goto(e,r={}){return await this._frameManager.mainFrame().goto(e,r)}async reload(e){return(await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]))[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){return this._disconnectPromise||(this._disconnectPromise=new Promise(e=>this._client.once(O1.CDPSessionEmittedEvents.Disconnected,()=>e(new Error("Target closed"))))),this._disconnectPromise}async waitForRequest(e,r={}){const{timeout:n=this._timeoutSettings.timeout()}=r;return ut.helper.waitForEvent(this._frameManager.networkManager(),fn.NetworkManagerEmittedEvents.Request,i=>ut.helper.isString(e)?e===i.url():typeof e=="function"?!!e(i):!1,n,this._sessionClosePromise())}async waitForResponse(e,r={}){const{timeout:n=this._timeoutSettings.timeout()}=r;return ut.helper.waitForEvent(this._frameManager.networkManager(),fn.NetworkManagerEmittedEvents.Response,async i=>ut.helper.isString(e)?e===i.url():typeof e=="function"?!!await e(i):!1,n,this._sessionClosePromise())}async waitForNetworkIdle(e={}){const{idleTime:r=500,timeout:n=this._timeoutSettings.timeout()}=e,i=this._frameManager.networkManager();let o;const a=new Promise(f=>{o=f});let s;const l=new Promise((f,m)=>{s=m});let u;const c=()=>o(),d=()=>{u&&clearTimeout(u),s(new Error("abort"))},h=()=>{u&&clearTimeout(u),i.numRequestsInProgress()===0&&(u=setTimeout(c,r))};h();const p=()=>(h(),!1),y=f=>ut.helper.waitForEvent(i,f,p,n,l),_=[y(fn.NetworkManagerEmittedEvents.Request),y(fn.NetworkManagerEmittedEvents.Response)];await Promise.race([a,..._,this._sessionClosePromise()]).then(f=>(d(),f),f=>{throw d(),f})}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(1,e)}async _go(e,r){const n=await this._client.send("Page.getNavigationHistory"),i=n.entries[n.currentIndex+e];return i?(await Promise.all([this.waitForNavigation(r),this._client.send("Page.navigateToHistoryEntry",{entryId:i.id})]))[0]:null}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){st.assert(e==="screen"||e==="print"||e===null,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateCPUThrottling(e){st.assert(e===null||e>=1,"Throttling rate should be greater or equal to 1"),await this._client.send("Emulation.setCPUThrottlingRate",{rate:e!==null?e:1})}async emulateMediaFeatures(e){e===null&&await this._client.send("Emulation.setEmulatedMedia",{features:null}),Array.isArray(e)&&(e.every(r=>{const n=r.name;return st.assert(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(n),"Unsupported media feature: "+n),!0}),await this._client.send("Emulation.setEmulatedMedia",{features:e}))}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(r){throw r.message.includes("Invalid timezone")?new Error(`Invalid timezone ID: ${e}`):r}}async emulateIdleState(e){e?await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked}):await this._client.send("Emulation.clearIdleOverride")}async emulateVisionDeficiency(e){const r=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{st.assert(!e||r.has(e),`Unsupported vision deficiency: ${e}`),await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(n){throw n}}async setViewport(e){const r=await this._emulationManager.emulateViewport(e);this._viewport=e,r&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...r){return this._frameManager.mainFrame().evaluate(e,...r)}async evaluateOnNewDocument(e,...r){const n=ut.helper.evaluationString(e,...r);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:n})}async setCacheEnabled(e=!0){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let r=null;if(e.type){const n=e.type;n!=="png"&&n!=="jpeg"&&n!=="webp"&&st.assertNever(n,"Unknown options.type value: "+n),r=e.type}else if(e.path){const n=e.path,i=n.slice(n.lastIndexOf(".")+1).toLowerCase();i==="png"?r="png":i==="jpg"||i==="jpeg"?r="jpeg":i==="webp"&&(r="webp"),st.assert(r,`Unsupported screenshot type for extension \`.${i}\``)}return r||(r="png"),e.quality&&(st.assert(r==="jpeg","options.quality is unsupported for the "+r+" screenshots"),st.assert(typeof e.quality=="number","Expected options.quality to be a number but found "+typeof e.quality),st.assert(Number.isInteger(e.quality),"Expected options.quality to be an integer"),st.assert(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),st.assert(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(st.assert(typeof e.clip.x=="number","Expected options.clip.x to be a number but found "+typeof e.clip.x),st.assert(typeof e.clip.y=="number","Expected options.clip.y to be a number but found "+typeof e.clip.y),st.assert(typeof e.clip.width=="number","Expected options.clip.width to be a number but found "+typeof e.clip.width),st.assert(typeof e.clip.height=="number","Expected options.clip.height to be a number but found "+typeof e.clip.height),st.assert(e.clip.width!==0,"Expected options.clip.width not to be 0."),st.assert(e.clip.height!==0,"Expected options.clip.height not to be 0.")),this._screenshotTaskQueue.postTask(()=>this._screenshotTask(r,e))}async _screenshotTask(e,r){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let n=r.clip?l(r.clip):void 0,{captureBeyondViewport:i=!0}=r;if(i=typeof i=="boolean"?i:!0,r.fullPage){const u=await this._client.send("Page.getLayoutMetrics"),{width:c,height:d}=u.cssContentSize||u.contentSize;if(n={x:0,y:0,width:c,height:d,scale:1},!i){const{isMobile:h=!1,deviceScaleFactor:p=1,isLandscape:y=!1}=this._viewport||{},_=y?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};await this._client.send("Emulation.setDeviceMetricsOverride",{mobile:h,width:c,height:d,deviceScaleFactor:p,screenOrientation:_})}}const o=r.omitBackground&&(e==="png"||e==="webp");o&&await this._setTransparentBackgroundColor();const a=await this._client.send("Page.captureScreenshot",{format:e,quality:r.quality,clip:n,captureBeyondViewport:i});o&&await this._resetDefaultBackgroundColor(),r.fullPage&&this._viewport&&await this.setViewport(this._viewport);const s=r.encoding==="base64"?a.data:Buffer.from(a.data,"base64");if(r.path){if(!k7.isNode)throw new Error("Screenshots can only be written to a file path in a Node environment.");await(await ut.helper.importFSModule()).promises.writeFile(r.path,s)}return s;function l(u){const c=Math.round(u.x),d=Math.round(u.y),h=Math.round(u.width+u.x-c),p=Math.round(u.height+u.y-d);return{x:c,y:d,width:h,height:p,scale:1}}}async createPDFStream(e={}){const{scale:r=1,displayHeaderFooter:n=!1,headerTemplate:i="",footerTemplate:o="",printBackground:a=!1,landscape:s=!1,pageRanges:l="",preferCSSPageSize:u=!1,margin:c={},omitBackground:d=!1,timeout:h=3e4}=e;let p=8.5,y=11;if(e.format){const A=M7.paperFormats[e.format.toLowerCase()];st.assert(A,"Unknown paper format: "+e.format),p=A.width,y=A.height}else p=co(e.width)||p,y=co(e.height)||y;const _=co(c.top)||0,f=co(c.left)||0,m=co(c.bottom)||0,g=co(c.right)||0;d&&await this._setTransparentBackgroundColor();const w=this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:s,displayHeaderFooter:n,headerTemplate:i,footerTemplate:o,printBackground:a,scale:r,paperWidth:p,paperHeight:y,marginTop:_,marginBottom:m,marginLeft:f,marginRight:g,pageRanges:l,preferCSSPageSize:u}),P=await ut.helper.waitWithTimeout(w,"Page.printToPDF",h);return d&&await this._resetDefaultBackgroundColor(),ut.helper.getReadableFromProtocolStream(this._client,P.stream)}async pdf(e={}){const{path:r=void 0}=e,n=await this.createPDFStream(e);return await ut.helper.getReadableAsBuffer(n,r)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){st.assert(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed."),!!e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,r={}){return this.mainFrame().click(e,r)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...r){return this.mainFrame().select(e,...r)}tap(e){return this.mainFrame().tap(e)}type(e,r,n){return this.mainFrame().type(e,r,n)}waitFor(e,r={},...n){return this.mainFrame().waitFor(e,r,...n)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,r={}){return this.mainFrame().waitForSelector(e,r)}waitForXPath(e,r={}){return this.mainFrame().waitForXPath(e,r)}waitForFunction(e,r={},...n){return this.mainFrame().waitForFunction(e,r,...n)}}P1=Ha.Page=gp;const R7=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]),M1={px:1,in:96,cm:37.8,mm:3.78};function co(t){if(typeof t=="undefined")return;let e;if(ut.helper.isNumber(t))e=t;else if(ut.helper.isString(t)){const r=t;let n=r.substring(r.length-2).toLowerCase(),i="";M1.hasOwnProperty(n)?i=r.substring(0,r.length-2):(n="px",i=r);const o=Number(i);st.assert(!isNaN(o),"Failed to parse parameter value: "+r),e=o*M1[n]}else throw new Error("page.pdf() Cannot handle parameter type: "+typeof t);return e/96}var N7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Page(){return P1},default:Ha},[Ha])),I7=O(N7);Object.defineProperty(Ba,"__esModule",{value:!0});var k1=Ba.Target=void 0;const j7=I7,A7=v1;class F7{constructor(e,r,n,i,o){this._targetInfo=e,this._browserContext=r,this._targetId=e.targetId,this._sessionFactory=n,this._ignoreHTTPSErrors=i,this._defaultViewport=o,this._pagePromise=null,this._workerPromise=null,this._initializedPromise=new Promise(a=>this._initializedCallback=a).then(async a=>{if(!a)return!1;const s=this.opener();if(!s||!s._pagePromise||this.type()!=="page")return!0;const l=await s._pagePromise;if(!l.listenerCount("popup"))return!0;const u=await this.page();return l.emit("popup",u),!0}),this._isClosedPromise=new Promise(a=>this._closedCallback=a),this._isInitialized=this._targetInfo.type!=="page"||this._targetInfo.url!=="",this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return(this._targetInfo.type==="page"||this._targetInfo.type==="background_page"||this._targetInfo.type==="webview")&&!this._pagePromise&&(this._pagePromise=this._sessionFactory().then(e=>j7.Page.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport))),this._pagePromise}async worker(){return this._targetInfo.type!=="service_worker"&&this._targetInfo.type!=="shared_worker"?null:(this._workerPromise||(this._workerPromise=this._sessionFactory().then(e=>new A7.WebWorker(e,this._targetInfo.url,()=>{},()=>{}))),this._workerPromise)}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;return e==="page"||e==="background_page"||e==="service_worker"||e==="shared_worker"||e==="browser"||e==="webview"?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&(this._targetInfo.type!=="page"||this._targetInfo.url!=="")){this._isInitialized=!0,this._initializedCallback(!0);return}}}k1=Ba.Target=F7;var L7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Target(){return k1},default:Ba},[Ba])),D7=O(L7);Object.defineProperty(wi,"__esModule",{value:!0});var x1=wi.BrowserContext=N1=wi.Browser=void 0;const jl=vt,z7=Ht,q7=D7,R1=so,U7=Va,B7=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["persistent-storage","durableStorage"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);class bp extends R1.EventEmitter{constructor(e,r,n,i,o,a,s){super();this._ignoreHTTPSErrors=n,this._defaultViewport=i,this._process=o,this._connection=e,this._closeCallback=a||function(){},this._targetFilterCallback=s||(()=>!0),this._defaultContext=new Al(this._connection,this,null),this._contexts=new Map;for(const l of r)this._contexts.set(l,new Al(this._connection,this,l));this._targets=new Map,this._connection.on(U7.ConnectionEmittedEvents.Disconnected,()=>this.emit("disconnected")),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,r,n,i,o,a,s){const l=new bp(e,r,n,i,o,a,s);return await e.send("Target.setDiscoverTargets",{discover:!0}),l}process(){return this._process}async createIncognitoBrowserContext(e={}){const{proxyServer:r="",proxyBypassList:n=[]}=e,{browserContextId:i}=await this._connection.send("Target.createBrowserContext",{proxyServer:r,proxyBypassList:n&&n.join(",")}),o=new Al(this._connection,this,i);return this._contexts.set(i,o),o}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}async _targetCreated(e){const r=e.targetInfo,{browserContextId:n}=r,i=n&&this._contexts.has(n)?this._contexts.get(n):this._defaultContext;if(!this._targetFilterCallback(r))return;const a=new q7.Target(r,i,()=>this._connection.createSession(r),this._ignoreHTTPSErrors,this._defaultViewport);jl.assert(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,a),await a._initializedPromise&&(this.emit("targetcreated",a),i.emit("targetcreated",a))}async _targetDestroyed(e){const r=this._targets.get(e.targetId);r._initializedCallback(!1),this._targets.delete(e.targetId),r._closedCallback(),await r._initializedPromise&&(this.emit("targetdestroyed",r),r.browserContext().emit("targetdestroyed",r))}_targetInfoChanged(e){const r=this._targets.get(e.targetInfo.targetId);jl.assert(r,"target should exist before targetInfoChanged");const n=r.url(),i=r._isInitialized;r._targetInfoChanged(e.targetInfo),i&&n!==r.url()&&(this.emit("targetchanged",r),r.browserContext().emit("targetchanged",r))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){const{targetId:r}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),n=this._targets.get(r);return jl.assert(await n._initializedPromise,"Failed to create target for page"),await n.page()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>e.type()==="browser")}async waitForTarget(e,r={}){const{timeout:n=3e4}=r,i=this.targets().find(e);if(i)return i;let o;const a=new Promise(l=>o=l);this.on("targetcreated",s),this.on("targetchanged",s);try{return n?await z7.helper.waitWithTimeout(a,"target",n):await a}finally{this.removeListener("targetcreated",s),this.removeListener("targetchanged",s)}function s(l){e(l)&&o(l)}}async pages(){return(await Promise.all(this.browserContexts().map(r=>r.pages()))).reduce((r,n)=>r.concat(n),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}}var N1=wi.Browser=bp;class Al extends R1.EventEmitter{constructor(e,r,n){super();this._connection=e,this._browser=r,this._id=n}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,r={}){return this._browser.waitForTarget(n=>n.browserContext()===this&&e(n),r)}async pages(){return(await Promise.all(this.targets().filter(r=>r.type()==="page").map(r=>r.page()))).filter(r=>!!r)}isIncognito(){return!!this._id}async overridePermissions(e,r){const n=r.map(i=>{const o=B7.get(i);if(!o)throw new Error("Unknown permission: "+i);return o});await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:n})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){jl.assert(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}}x1=wi.BrowserContext=Al;var H7=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get BrowserContext(){return x1},get Browser(){return N1},default:wi},[wi])),I1=O(H7),us={};const K7=Ze.Readable,hn=Symbol("buffer"),$p=Symbol("type");class fo{constructor(){this[$p]="";const e=arguments[0],r=arguments[1],n=[];let i=0;if(e){const a=e,s=Number(a.length);for(let l=0;l<s;l++){const u=a[l];let c;u instanceof Buffer?c=u:ArrayBuffer.isView(u)?c=Buffer.from(u.buffer,u.byteOffset,u.byteLength):u instanceof ArrayBuffer?c=Buffer.from(u):u instanceof fo?c=u[hn]:c=Buffer.from(typeof u=="string"?u:String(u)),i+=c.length,n.push(c)}}this[hn]=Buffer.concat(n);let o=r&&r.type!==void 0&&String(r.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[$p]=o)}get size(){return this[hn].length}get type(){return this[$p]}text(){return Promise.resolve(this[hn].toString())}arrayBuffer(){const e=this[hn],r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(r)}stream(){const e=new K7;return e._read=function(){},e.push(this[hn]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,r=arguments[0],n=arguments[1];let i,o;r===void 0?i=0:r<0?i=Math.max(e+r,0):i=Math.min(r,e),n===void 0?o=e:n<0?o=Math.max(e+n,0):o=Math.min(n,e);const a=Math.max(o-i,0),l=this[hn].slice(i,i+a),u=new fo([],{type:arguments[2]});return u[hn]=l,u}}Object.defineProperties(fo.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(fo.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});function Nt(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Nt.prototype=Object.create(Error.prototype);Nt.prototype.constructor=Nt;Nt.prototype.name="FetchError";let wp;try{wp=require("encoding").convert}catch(t){}const pn=Symbol("Body internals"),j1=Ze.PassThrough;function wt(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var o=r.timeout;let a=o===void 0?0:o;t==null?t=null:A1(t)?t=Buffer.from(t.toString()):ls(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof Ze||(t=Buffer.from(String(t)))),this[pn]={body:t,disturbed:!1,error:null},this.size=i,this.timeout=a,t instanceof Ze&&t.on("error",function(s){const l=s.name==="AbortError"?s:new Nt(`Invalid response body while trying to fetch ${e.url}: ${s.message}`,"system",s);e[pn].error=l})}wt.prototype={get body(){return this[pn].body},get bodyUsed(){return this[pn].disturbed},arrayBuffer(){return ho.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return ho.call(this).then(function(e){return Object.assign(new fo([],{type:t.toLowerCase()}),{[hn]:e})})},json(){var t=this;return ho.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(r){return wt.Promise.reject(new Nt(`invalid json response body at ${t.url} reason: ${r.message}`,"invalid-json"))}})},text(){return ho.call(this).then(function(t){return t.toString()})},buffer(){return ho.call(this)},textConverted(){var t=this;return ho.call(this).then(function(e){return V7(e,t.headers)})}};Object.defineProperties(wt.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});wt.mixIn=function(t){for(const e of Object.getOwnPropertyNames(wt.prototype))if(!(e in t)){const r=Object.getOwnPropertyDescriptor(wt.prototype,e);Object.defineProperty(t,e,r)}};function ho(){var t=this;if(this[pn].disturbed)return wt.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[pn].disturbed=!0,this[pn].error)return wt.Promise.reject(this[pn].error);let e=this.body;if(e===null)return wt.Promise.resolve(Buffer.alloc(0));if(ls(e)&&(e=e.stream()),Buffer.isBuffer(e))return wt.Promise.resolve(e);if(!(e instanceof Ze))return wt.Promise.resolve(Buffer.alloc(0));let r=[],n=0,i=!1;return new wt.Promise(function(o,a){let s;t.timeout&&(s=setTimeout(function(){i=!0,a(new Nt(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(l){l.name==="AbortError"?(i=!0,a(l)):a(new Nt(`Invalid response body while trying to fetch ${t.url}: ${l.message}`,"system",l))}),e.on("data",function(l){if(!(i||l===null)){if(t.size&&n+l.length>t.size){i=!0,a(new Nt(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}n+=l.length,r.push(l)}}),e.on("end",function(){if(!i){clearTimeout(s);try{o(Buffer.concat(r,n))}catch(l){a(new Nt(`Could not create Buffer from response body for ${t.url}: ${l.message}`,"system",l))}}})})}function V7(t,e){if(typeof wp!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=e.get("content-type");let n="utf-8",i,o;return r&&(i=/charset=([^;]*)/i.exec(r)),o=t.slice(0,1024).toString(),!i&&o&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!i&&o&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&o&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),wp(t,"UTF-8",n).toString()}function A1(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function ls(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function F1(t){let e,r,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof Ze&&typeof n.getBoundary!="function"&&(e=new j1,r=new j1,n.pipe(e),n.pipe(r),t[pn].body=e,n=r),n}function L1(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":A1(t)?"application/x-www-form-urlencoded;charset=UTF-8":ls(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof Ze?null:"text/plain;charset=UTF-8"}function D1(t){const e=t.body;return e===null?0:ls(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function W7(t,e){const r=e.body;r===null?t.end():ls(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}wt.Promise=global.Promise;const z1=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Sp=/[^\t\x20-\x7e\x80-\xff]/;function cs(t){if(t=`${t}`,z1.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function q1(t){if(t=`${t}`,Sp.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function po(t,e){e=e.toLowerCase();for(const r in t)if(r.toLowerCase()===e)return r}const _t=Symbol("map");class or{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[_t]=Object.create(null),e instanceof or){const r=e.raw(),n=Object.keys(r);for(const i of n)for(const o of r[i])this.append(i,o);return}if(e!=null)if(typeof e=="object"){const r=e[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");const n=[];for(const i of e){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(const i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(const n of Object.keys(e)){const i=e[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,cs(e);const r=po(this[_t],e);return r===void 0?null:this[_t][r].join(", ")}forEach(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=Ep(this),i=0;for(;i<n.length;){var o=n[i];const a=o[0],s=o[1];e.call(r,s,a,this),n=Ep(this),i++}}set(e,r){e=`${e}`,r=`${r}`,cs(e),q1(r);const n=po(this[_t],e);this[_t][n!==void 0?n:e]=[r]}append(e,r){e=`${e}`,r=`${r}`,cs(e),q1(r);const n=po(this[_t],e);n!==void 0?this[_t][n].push(r):this[_t][e]=[r]}has(e){return e=`${e}`,cs(e),po(this[_t],e)!==void 0}delete(e){e=`${e}`,cs(e);const r=po(this[_t],e);r!==void 0&&delete this[_t][r]}raw(){return this[_t]}keys(){return Pp(this,"key")}values(){return Pp(this,"value")}[Symbol.iterator](){return Pp(this,"key+value")}}or.prototype.entries=or.prototype[Symbol.iterator];Object.defineProperty(or.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(or.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});function Ep(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[_t]).sort().map(e==="key"?function(n){return n.toLowerCase()}:e==="value"?function(n){return t[_t][n].join(", ")}:function(n){return[n.toLowerCase(),t[_t][n].join(", ")]})}const Tp=Symbol("internal");function Pp(t,e){const r=Object.create(Op);return r[Tp]={target:t,kind:e,index:0},r}const Op=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Op)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[Tp];const e=t.target,r=t.kind,n=t.index,i=Ep(e,r),o=i.length;return n>=o?{value:void 0,done:!0}:(this[Tp].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(Op,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});function G7(t){const e=Object.assign({__proto__:null},t[_t]),r=po(t[_t],"Host");return r!==void 0&&(e[r]=e[r][0]),e}function X7(t){const e=new or;for(const r of Object.keys(t))if(!z1.test(r))if(Array.isArray(t[r]))for(const n of t[r])Sp.test(n)||(e[_t][r]===void 0?e[_t][r]=[n]:e[_t][r].push(n));else Sp.test(t[r])||(e[_t][r]=[t[r]]);return e}const An=Symbol("Response internals"),J7=Ze.STATUS_CODES;class Or{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wt.call(this,e,r);const n=r.status||200,i=new or(r.headers);if(e!=null&&!i.has("Content-Type")){const o=L1(e);o&&i.append("Content-Type",o)}this[An]={url:r.url,status:n,statusText:r.statusText||J7[n],headers:i,counter:r.counter}}get url(){return this[An].url||""}get status(){return this[An].status}get ok(){return this[An].status>=200&&this[An].status<300}get redirected(){return this[An].counter>0}get statusText(){return this[An].statusText}get headers(){return this[An].headers}clone(){return new Or(F1(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}wt.mixIn(Or.prototype);Object.defineProperties(Or.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(Or.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const mn=Symbol("Request internals"),Cp=Ze.parse,Y7=Ze.format,Q7="destroy"in Ze.Readable.prototype;function Fl(t){return typeof t=="object"&&typeof t[mn]=="object"}function Z7(t){const e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}class Fn{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;Fl(e)?n=Cp(e.url):(e&&e.href?n=Cp(e.href):n=Cp(`${e}`),e={});let i=r.method||e.method||"GET";if(i=i.toUpperCase(),(r.body!=null||Fl(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let o=r.body!=null?r.body:Fl(e)&&e.body!==null?F1(e):null;wt.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const a=new or(r.headers||e.headers||{});if(o!=null&&!a.has("Content-Type")){const l=L1(o);l&&a.append("Content-Type",l)}let s=Fl(e)?e.signal:null;if("signal"in r&&(s=r.signal),s!=null&&!Z7(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[mn]={method:i,redirect:r.redirect||e.redirect||"follow",headers:a,parsedURL:n,signal:s},this.follow=r.follow!==void 0?r.follow:e.follow!==void 0?e.follow:20,this.compress=r.compress!==void 0?r.compress:e.compress!==void 0?e.compress:!0,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[mn].method}get url(){return Y7(this[mn].parsedURL)}get headers(){return this[mn].headers}get redirect(){return this[mn].redirect}get signal(){return this[mn].signal}clone(){return new Fn(this)}}wt.mixIn(Fn.prototype);Object.defineProperty(Fn.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(Fn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});function e9(t){const e=t[mn].parsedURL,r=new or(t[mn].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof Ze.Readable&&!Q7)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),t.body!=null){const o=D1(t);typeof o=="number"&&(n=String(o))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=t.agent;return typeof i=="function"&&(i=i(e)),!r.has("Connection")&&!i&&r.set("Connection","close"),Object.assign({},e,{method:t.method,headers:G7(r),agent:i})}function ds(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}ds.prototype=Object.create(Error.prototype);ds.prototype.constructor=ds;ds.prototype.name="AbortError";const U1=Ze.PassThrough,t9=Ze.resolve;function Ln(t,e){if(!Ln.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return wt.Promise=Ln.Promise,new Ln.Promise(function(r,n){const i=new Fn(t,e),o=e9(i),a=(o.protocol==="https:",Ze).request,s=i.signal;let l=null;const u=function(){let _=new ds("The user aborted a request.");n(_),i.body&&i.body instanceof Ze.Readable&&i.body.destroy(_),!(!l||!l.body)&&l.body.emit("error",_)};if(s&&s.aborted){u();return}const c=function(){u(),p()},d=a(o);let h;s&&s.addEventListener("abort",c);function p(){d.abort(),s&&s.removeEventListener("abort",c),clearTimeout(h)}i.timeout&&d.once("socket",function(y){h=setTimeout(function(){n(new Nt(`network timeout at: ${i.url}`,"request-timeout")),p()},i.timeout)}),d.on("error",function(y){n(new Nt(`request to ${i.url} failed, reason: ${y.message}`,"system",y)),p()}),d.on("response",function(y){clearTimeout(h);const _=X7(y.headers);if(Ln.isRedirect(y.statusCode)){const P=_.get("Location"),A=P===null?null:t9(i.url,P);switch(i.redirect){case"error":n(new Nt(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),p();return;case"manual":if(A!==null)try{_.set("Location",A)}catch(M){n(M)}break;case"follow":if(A===null)break;if(i.counter>=i.follow){n(new Nt(`maximum redirect reached at: ${i.url}`,"max-redirect")),p();return}const S={headers:new or(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(y.statusCode!==303&&i.body&&D1(i)===null){n(new Nt("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&i.method==="POST")&&(S.method="GET",S.body=void 0,S.headers.delete("content-length")),r(Ln(new Fn(A,S))),p();return}}y.once("end",function(){s&&s.removeEventListener("abort",c)});let f=y.pipe(new U1);const m={url:i.url,status:y.statusCode,statusText:y.statusMessage,headers:_,size:i.size,timeout:i.timeout,counter:i.counter},g=_.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||g===null||y.statusCode===204||y.statusCode===304){l=new Or(f,m),r(l);return}const w={flush:Ze.Z_SYNC_FLUSH,finishFlush:Ze.Z_SYNC_FLUSH};if(g=="gzip"||g=="x-gzip"){f=f.pipe(Ze.createGunzip(w)),l=new Or(f,m),r(l);return}if(g=="deflate"||g=="x-deflate"){y.pipe(new U1).once("data",function(A){(A[0]&15)==8?f=f.pipe(Ze.createInflate()):f=f.pipe(Ze.createInflateRaw()),l=new Or(f,m),r(l)});return}if(g=="br"&&typeof Ze.createBrotliDecompress=="function"){f=f.pipe(Ze.createBrotliDecompress()),l=new Or(f,m),r(l);return}l=new Or(f,m),r(l)}),W7(d,i)})}Ln.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};Ln.Promise=global.Promise;var r9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ln,Headers:or,Request:Fn,Response:Or,FetchError:Nt}),n9=O(r9),i9=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o9=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a9=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i9(e,t,r);return o9(e,t),e};Object.defineProperty(us,"__esModule",{value:!0});var B1=us.getFetch=void 0;const s9=Nn,u9=async()=>s9.isNode?await Promise.resolve().then(()=>a9(n9)):globalThis.fetch;B1=us.getFetch=u9;var l9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get getFetch(){return B1},default:us},[us])),c9=O(l9),fs={},H1=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},d9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:H1},[H1])),f9=O(d9);const h9="puppeteer-core",p9="10.4.0",m9="A high-level API to control headless Chrome over the DevTools Protocol",_9="./cjs-entry-core.js",y9="lib/types.d.ts",v9="github:puppeteer/puppeteer",g9={node:">=10.18.1"},b9={"test-browser":"wtr","test-browser-watch":"wtr --watch",unit:"npm run tsc-cjs && mocha --config mocha-config/puppeteer-unit-tests.js","unit-debug":"npm run tsc-cjs && mocha --inspect-brk --config mocha-config/puppeteer-unit-tests.js","unit-with-coverage":"cross-env COVERAGE=1 npm run unit","assert-unit-coverage":"cross-env COVERAGE=1 mocha --config mocha-config/coverage-tests.js",funit:"cross-env PUPPETEER_PRODUCT=firefox npm run unit",test:"npm run tsc && npm run lint --silent && npm run unit-with-coverage && npm run test-browser",prepare:"node typescript-if-required.js",prepublishOnly:"npm run build","dev-install":"npm run tsc && node install.js",eslint:'([ "$CI" = true ] && eslint --ext js --ext ts --quiet -f codeframe . || eslint --ext js --ext ts .)',"eslint-fix":"eslint --ext js --ext ts --fix .",commitlint:"commitlint --from=HEAD~1",markdownlint:"prettier --check **/README.md docs/troubleshooting.md","markdownlint-fix":"prettier --write **/README.md docs/troubleshooting.md",lint:"npm run eslint && npm run build && npm run doc && npm run commitlint && npm run markdownlint",doc:"node utils/doclint/cli.js","clean-lib":"rimraf lib",build:"npm run tsc && npm run generate-d-ts",tsc:"npm run clean-lib && tsc --version && npm run tsc-cjs && npm run tsc-esm","tsc-cjs":"tsc -b src/tsconfig.cjs.json","tsc-esm":"tsc -b src/tsconfig.esm.json","apply-next-version":"node utils/apply_next_version.js","test-install":"scripts/test-install.sh","clean-docs":"rimraf website/docs && rimraf docs-api-json","generate-d-ts":"npm run clean-docs && api-extractor run --local --verbose && node inject-global-type-stubs.js","generate-docs":"npm run generate-d-ts && api-documenter markdown -i docs-api-json -o website/docs && node utils/remove-tag.js","ensure-correct-devtools-protocol-revision":"ts-node -s scripts/ensure-correct-devtools-protocol-package","ensure-pinned-deps":"ts-node -s scripts/ensure-pinned-deps","test-types-file":"ts-node -s scripts/test-ts-definition-files.ts",release:"node utils/remove_version_suffix.js && standard-version --commit-all","build-docs-production":"cd website && npm install && npm run build"},$9=["lib/types.d.ts","lib/**/*.d.ts","lib/**/*.d.ts.map","lib/**/*.js","lib/**/*.js.map","install.js","typescript-if-required.js","cjs-entry.js","cjs-entry-core.js"],w9="The Chromium Authors",S9="Apache-2.0",E9={debug:"4.3.1","devtools-protocol":"0.0.901419","extract-zip":"2.0.1","https-proxy-agent":"5.0.0","node-fetch":"2.6.1","pkg-dir":"4.2.0",progress:"2.0.1","proxy-from-env":"1.1.0",rimraf:"3.0.2","tar-fs":"2.0.0","unbzip2-stream":"1.3.3",ws:"7.4.6"},T9={"@commitlint/cli":"11.0.0","@commitlint/config-conventional":"11.0.0","@microsoft/api-documenter":"7.13.8","@microsoft/api-extractor":"7.15.1","@types/debug":"0.0.31","@types/mime":"2.0.3","@types/mocha":"7.0.2","@types/node":"14.14.45","@types/proxy-from-env":"1.0.1","@types/rimraf":"2.0.2","@types/sinon":"9.0.11","@types/tar-fs":"1.16.2","@types/ws":"7.4.4","@typescript-eslint/eslint-plugin":"4.23.0","@typescript-eslint/parser":"4.23.0","@web/test-runner":"0.12.20",commonmark:"0.29.3","cross-env":"7.0.3",eslint:"7.26.0","eslint-config-prettier":"8.3.0","eslint-plugin-import":"2.22.1","eslint-plugin-mocha":"8.1.0","eslint-plugin-prettier":"3.4.0","eslint-plugin-unicorn":"22.0.0",esprima:"4.0.0",expect:"25.2.7",husky:"4.3.8","jpeg-js":"0.3.7",mime:"2.5.2",minimist:"1.2.0",mocha:"8.4.0",ncp:"2.0.0",pixelmatch:"4.0.2",pngjs:"5.0.0",prettier:"2.3.0",sinon:"9.2.4","source-map-support":"0.5.19","standard-version":"9.3.0","text-diff":"1.0.1","ts-node":"9.1.1",typescript:"4.2.4"},P9={hooks:{"pre-commit":"npm run eslint","commit-msg":"commitlint --env HUSKY_GIT_PARAMS","pre-push":"npm run tsc && npm run eslint && npm run doc && npm run ensure-pinned-deps"}};var O9={name:h9,version:p9,description:m9,main:_9,types:y9,repository:v9,engines:g9,scripts:b9,files:$9,author:w9,license:S9,dependencies:E9,devDependencies:T9,husky:P9},C9=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});var K1=fs.NodeWebSocketTransport=void 0;const M9=C9(f9);class Mp{constructor(e){this._ws=e,this._ws.addEventListener("message",r=>{this.onmessage&&this.onmessage.call(null,r.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){const r=O9;return new Promise((n,i)=>{const o=new M9.default(e,[],{followRedirects:!0,perMessageDeflate:!1,maxPayload:256*1024*1024,headers:{"User-Agent":`Puppeteer ${r.version}`}});o.addEventListener("open",()=>n(new Mp(o))),o.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}}K1=fs.NodeWebSocketTransport=Mp;var k9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get NodeWebSocketTransport(){return K1},default:fs},[fs])),V1=O(k9),hs={};Object.defineProperty(hs,"__esModule",{value:!0});var W1=hs.BrowserWebSocketTransport=void 0;class kp{constructor(e){this._ws=e,this._ws.addEventListener("message",r=>{this.onmessage&&this.onmessage.call(null,r.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((r,n)=>{const i=new WebSocket(e);i.addEventListener("open",()=>r(new kp(i))),i.addEventListener("error",n)})}send(e){this._ws.send(e)}close(){this._ws.close()}}W1=hs.BrowserWebSocketTransport=kp;var x9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get BrowserWebSocketTransport(){return W1},default:hs},[hs])),R9=O(x9),N9=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I9=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G1=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N9(e,t,r);return I9(e,t),e};Object.defineProperty(La,"__esModule",{value:!0});var X1=La.connectToBrowser=void 0;const j9=I1,A9=vt,F9=Ht,xp=Va,L9=c9,D9=Nn,J1=async()=>D9.isNode?(await Promise.resolve().then(()=>G1(V1))).NodeWebSocketTransport:(await Promise.resolve().then(()=>G1(R9))).BrowserWebSocketTransport,z9=async t=>{const{browserWSEndpoint:e,browserURL:r,ignoreHTTPSErrors:n=!1,defaultViewport:i={width:800,height:600},transport:o,slowMo:a=0,targetFilter:s}=t;A9.assert(Number(!!e)+Number(!!r)+Number(!!o)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let l=null;if(o)l=new xp.Connection("",o,a);else if(e){const d=await(await J1()).create(e);l=new xp.Connection(e,d,a)}else if(r){const c=await q9(r),h=await(await J1()).create(c);l=new xp.Connection(c,h,a)}const{browserContextIds:u}=await l.send("Target.getBrowserContexts");return j9.Browser.create(l,u,n,i,null,()=>l.send("Browser.close").catch(F9.debugError),s)};X1=La.connectToBrowser=z9;async function q9(t){const e=new URL("/json/version",t),r=await L9.getFetch();try{const n=await r(e.toString(),{method:"GET"});if(!n.ok)throw new Error(`HTTP ${n.statusText}`);return(await n.json()).webSocketDebuggerUrl}catch(n){throw n.message=`Failed to fetch browser webSocket URL from ${e}: `+n.message,n}}var U9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get connectToBrowser(){return X1},default:La},[La])),B9=O(U9),ps={};Object.defineProperty(ps,"__esModule",{value:!0});var Y1=ps.networkConditions=void 0;Y1=ps.networkConditions={"Slow 3G":{download:500*1e3/8*.8,upload:500*1e3/8*.8,latency:400*5},"Fast 3G":{download:1.6*1e3*1e3/8*.9,upload:750*1e3/8*.9,latency:150*3.75}};var H9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get networkConditions(){return Y1},default:ps},[ps])),K9=O(H9);Object.defineProperty(ja,"__esModule",{value:!0});var Q1=ja.Puppeteer=void 0;const V9=Aa,W9=i8,Ll=ip,G9=B9,X9=K9;class J9{constructor(e){this._changedProduct=!1,this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return G9.connectToBrowser(e)}get devices(){return W9.devicesMap}get errors(){return V9.puppeteerErrors}get networkConditions(){return X9.networkConditions}registerCustomQueryHandler(e,r){Ll.registerCustomQueryHandler(e,r)}unregisterCustomQueryHandler(e){Ll.unregisterCustomQueryHandler(e)}customQueryHandlerNames(){return Ll.customQueryHandlerNames()}clearCustomQueryHandlers(){Ll.clearCustomQueryHandlers()}}Q1=ja.Puppeteer=J9;var Y9=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Puppeteer(){return Q1},default:ja},[ja])),Q9=O(Y9),ms={},Ci={exports:{}},Rp={},_s={},Z9=_s.byteLength=iH,eH=_s.toByteArray=aH,tH=_s.fromByteArray=lH,Br=[],ar=[],rH=typeof Uint8Array!="undefined"?Uint8Array:Array,Np="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var mo=0,nH=Np.length;mo<nH;++mo)Br[mo]=Np[mo],ar[Np.charCodeAt(mo)]=mo;ar["-".charCodeAt(0)]=62;ar["_".charCodeAt(0)]=63;function Z1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function iH(t){var e=Z1(t),r=e[0],n=e[1];return(r+n)*3/4-n}function oH(t,e,r){return(e+r)*3/4-r}function aH(t){var e,r=Z1(t),n=r[0],i=r[1],o=new rH(oH(t,n,i)),a=0,s=i>0?n-4:n,l;for(l=0;l<s;l+=4)e=ar[t.charCodeAt(l)]<<18|ar[t.charCodeAt(l+1)]<<12|ar[t.charCodeAt(l+2)]<<6|ar[t.charCodeAt(l+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=ar[t.charCodeAt(l)]<<2|ar[t.charCodeAt(l+1)]>>4,o[a++]=e&255),i===1&&(e=ar[t.charCodeAt(l)]<<10|ar[t.charCodeAt(l+1)]<<4|ar[t.charCodeAt(l+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function sH(t){return Br[t>>18&63]+Br[t>>12&63]+Br[t>>6&63]+Br[t&63]}function uH(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(sH(n));return i.join("")}function lH(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(uH(t,a,a+o>s?s:a+o));return n===1?(e=t[r-1],i.push(Br[e>>2]+Br[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Br[e>>10]+Br[e>>4&63]+Br[e<<2&63]+"=")),i.join("")}var cH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_s,byteLength:Z9,toByteArray:eH,fromByteArray:tH},[_s])),dH=O(cH),Dl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var fH=Dl.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,h=r?-1:1,p=t[e+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=o*256+t[e+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=a*256+t[e+d],d+=h,c-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(p?-1:1)*a*Math.pow(2,o-n)},hH=Dl.write=function(t,e,r,n,i,o){var a,s,l,u=o*8-i-1,c=(1<<u)-1,d=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*l-1)*Math.pow(2,i),a=a+d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=s&255,p+=y,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[r+p]=a&255,p+=y,a/=256,u-=8);t[r+p-y]|=_*128},pH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Dl,read:fH,write:hH},[Dl])),mH=O(pH);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=dH,r=mH,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var x=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(x,b),x.foo()===42}catch($){return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function a(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');var b=new Uint8Array(x);return Object.setPrototypeOf(b,s.prototype),b}function s(x,b,$){if(typeof x=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(x)}return l(x,b,$)}s.poolSize=8192;function l(x,b,$){if(typeof x=="string")return h(x,b);if(ArrayBuffer.isView(x))return y(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(it(x,ArrayBuffer)||x&&it(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(it(x,SharedArrayBuffer)||x&&it(x.buffer,SharedArrayBuffer)))return _(x,b,$);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var j=x.valueOf&&x.valueOf();if(j!=null&&j!==x)return s.from(j,b,$);var V=f(x);if(V)return V;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return s.from(x[Symbol.toPrimitive]("string"),b,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}s.from=function(x,b,$){return l(x,b,$)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function c(x,b,$){return u(x),x<=0?a(x):b!==void 0?typeof $=="string"?a(x).fill(b,$):a(x).fill(b):a(x)}s.alloc=function(x,b,$){return c(x,b,$)};function d(x){return u(x),a(x<0?0:m(x)|0)}s.allocUnsafe=function(x){return d(x)},s.allocUnsafeSlow=function(x){return d(x)};function h(x,b){if((typeof b!="string"||b==="")&&(b="utf8"),!s.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var $=w(x,b)|0,j=a($),V=j.write(x,b);return V!==$&&(j=j.slice(0,V)),j}function p(x){for(var b=x.length<0?0:m(x.length)|0,$=a(b),j=0;j<b;j+=1)$[j]=x[j]&255;return $}function y(x){if(it(x,Uint8Array)){var b=new Uint8Array(x);return _(b.buffer,b.byteOffset,b.byteLength)}return p(x)}function _(x,b,$){if(b<0||x.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<b+($||0))throw new RangeError('"length" is outside of buffer bounds');var j;return b===void 0&&$===void 0?j=new Uint8Array(x):$===void 0?j=new Uint8Array(x,b):j=new Uint8Array(x,b,$),Object.setPrototypeOf(j,s.prototype),j}function f(x){if(s.isBuffer(x)){var b=m(x.length)|0,$=a(b);return $.length===0||x.copy($,0,0,b),$}if(x.length!==void 0)return typeof x.length!="number"||Mt(x.length)?a(0):p(x);if(x.type==="Buffer"&&Array.isArray(x.data))return p(x.data)}function m(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function g(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==s.prototype},s.compare=function(b,$){if(it(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),it($,Uint8Array)&&($=s.from($,$.offset,$.byteLength)),!s.isBuffer(b)||!s.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===$)return 0;for(var j=b.length,V=$.length,te=0,ne=Math.min(j,V);te<ne;++te)if(b[te]!==$[te]){j=b[te],V=$[te];break}return j<V?-1:V<j?1:0},s.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(b,$){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return s.alloc(0);var j;if($===void 0)for($=0,j=0;j<b.length;++j)$+=b[j].length;var V=s.allocUnsafe($),te=0;for(j=0;j<b.length;++j){var ne=b[j];if(it(ne,Uint8Array))te+ne.length>V.length?s.from(ne).copy(V,te):Uint8Array.prototype.set.call(V,ne,te);else if(s.isBuffer(ne))ne.copy(V,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ne.length}return V};function w(x,b){if(s.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||it(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);var $=x.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&$===0)return 0;for(var V=!1;;)switch(b){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return X(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return ct(x).length;default:if(V)return j?-1:X(x).length;b=(""+b).toLowerCase(),V=!0}}s.byteLength=w;function P(x,b,$){var j=!1;if((b===void 0||b<0)&&(b=0),b>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,b>>>=0,$<=b))return"";for(x||(x="utf8");;)switch(x){case"hex":return E(this,b,$);case"utf8":case"utf-8":return se(this,b,$);case"ascii":return de(this,b,$);case"latin1":case"binary":return N(this,b,$);case"base64":return ae(this,b,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,b,$);default:if(j)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),j=!0}}s.prototype._isBuffer=!0;function A(x,b,$){var j=x[b];x[b]=x[$],x[$]=j}s.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<b;$+=2)A(this,$,$+1);return this},s.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<b;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},s.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<b;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},s.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?se(this,0,b):P.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(b){if(!s.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:s.compare(this,b)===0},s.prototype.inspect=function(){var b="",$=t.INSPECT_MAX_BYTES;return b=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(b+=" ... "),"<Buffer "+b+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(b,$,j,V,te){if(it(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),!s.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if($===void 0&&($=0),j===void 0&&(j=b?b.length:0),V===void 0&&(V=0),te===void 0&&(te=this.length),$<0||j>b.length||V<0||te>this.length)throw new RangeError("out of range index");if(V>=te&&$>=j)return 0;if(V>=te)return-1;if($>=j)return 1;if($>>>=0,j>>>=0,V>>>=0,te>>>=0,this===b)return 0;for(var ne=te-V,me=j-$,H=Math.min(ne,me),J=this.slice(V,te),re=b.slice($,j),ie=0;ie<H;++ie)if(J[ie]!==re[ie]){ne=J[ie],me=re[ie];break}return ne<me?-1:me<ne?1:0};function S(x,b,$,j,V){if(x.length===0)return-1;if(typeof $=="string"?(j=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,Mt($)&&($=V?0:x.length-1),$<0&&($=x.length+$),$>=x.length){if(V)return-1;$=x.length-1}else if($<0)if(V)$=0;else return-1;if(typeof b=="string"&&(b=s.from(b,j)),s.isBuffer(b))return b.length===0?-1:M(x,b,$,j,V);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(x,b,$):Uint8Array.prototype.lastIndexOf.call(x,b,$):M(x,[b],$,j,V);throw new TypeError("val must be string, number or Buffer")}function M(x,b,$,j,V){var te=1,ne=x.length,me=b.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(x.length<2||b.length<2)return-1;te=2,ne/=2,me/=2,$/=2}function H(Le,be){return te===1?Le[be]:Le.readUInt16BE(be*te)}var J;if(V){var re=-1;for(J=$;J<ne;J++)if(H(x,J)===H(b,re===-1?0:J-re)){if(re===-1&&(re=J),J-re+1===me)return re*te}else re!==-1&&(J-=J-re),re=-1}else for($+me>ne&&($=ne-me),J=$;J>=0;J--){for(var ie=!0,le=0;le<me;le++)if(H(x,J+le)!==H(b,le)){ie=!1;break}if(ie)return J}return-1}s.prototype.includes=function(b,$,j){return this.indexOf(b,$,j)!==-1},s.prototype.indexOf=function(b,$,j){return S(this,b,$,j,!0)},s.prototype.lastIndexOf=function(b,$,j){return S(this,b,$,j,!1)};function L(x,b,$,j){$=Number($)||0;var V=x.length-$;j?(j=Number(j),j>V&&(j=V)):j=V;var te=b.length;j>te/2&&(j=te/2);for(var ne=0;ne<j;++ne){var me=parseInt(b.substr(ne*2,2),16);if(Mt(me))return ne;x[$+ne]=me}return ne}function W(x,b,$,j){return gt(X(b,x.length-$),x,$,j)}function z(x,b,$,j){return gt(oe(b),x,$,j)}function Z(x,b,$,j){return gt(ct(b),x,$,j)}function G(x,b,$,j){return gt(Ge(b,x.length-$),x,$,j)}s.prototype.write=function(b,$,j,V){if($===void 0)V="utf8",j=this.length,$=0;else if(j===void 0&&typeof $=="string")V=$,j=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(j)?(j=j>>>0,V===void 0&&(V="utf8")):(V=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var te=this.length-$;if((j===void 0||j>te)&&(j=te),b.length>0&&(j<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var ne=!1;;)switch(V){case"hex":return L(this,b,$,j);case"utf8":case"utf-8":return W(this,b,$,j);case"ascii":case"latin1":case"binary":return z(this,b,$,j);case"base64":return Z(this,b,$,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,$,j);default:if(ne)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),ne=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(x,b,$){return b===0&&$===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(b,$))}function se(x,b,$){$=Math.min(x.length,$);for(var j=[],V=b;V<$;){var te=x[V],ne=null,me=te>239?4:te>223?3:te>191?2:1;if(V+me<=$){var H,J,re,ie;switch(me){case 1:te<128&&(ne=te);break;case 2:H=x[V+1],(H&192)==128&&(ie=(te&31)<<6|H&63,ie>127&&(ne=ie));break;case 3:H=x[V+1],J=x[V+2],(H&192)==128&&(J&192)==128&&(ie=(te&15)<<12|(H&63)<<6|J&63,ie>2047&&(ie<55296||ie>57343)&&(ne=ie));break;case 4:H=x[V+1],J=x[V+2],re=x[V+3],(H&192)==128&&(J&192)==128&&(re&192)==128&&(ie=(te&15)<<18|(H&63)<<12|(J&63)<<6|re&63,ie>65535&&ie<1114112&&(ne=ie))}}ne===null?(ne=65533,me=1):ne>65535&&(ne-=65536,j.push(ne>>>10&1023|55296),ne=56320|ne&1023),j.push(ne),V+=me}return ye(j)}var ce=4096;function ye(x){var b=x.length;if(b<=ce)return String.fromCharCode.apply(String,x);for(var $="",j=0;j<b;)$+=String.fromCharCode.apply(String,x.slice(j,j+=ce));return $}function de(x,b,$){var j="";$=Math.min(x.length,$);for(var V=b;V<$;++V)j+=String.fromCharCode(x[V]&127);return j}function N(x,b,$){var j="";$=Math.min(x.length,$);for(var V=b;V<$;++V)j+=String.fromCharCode(x[V]);return j}function E(x,b,$){var j=x.length;(!b||b<0)&&(b=0),(!$||$<0||$>j)&&($=j);for(var V="",te=b;te<$;++te)V+=Xt[x[te]];return V}function k(x,b,$){for(var j=x.slice(b,$),V="",te=0;te<j.length-1;te+=2)V+=String.fromCharCode(j[te]+j[te+1]*256);return V}s.prototype.slice=function(b,$){var j=this.length;b=~~b,$=$===void 0?j:~~$,b<0?(b+=j,b<0&&(b=0)):b>j&&(b=j),$<0?($+=j,$<0&&($=0)):$>j&&($=j),$<b&&($=b);var V=this.subarray(b,$);return Object.setPrototypeOf(V,s.prototype),V};function I(x,b,$){if(x%1!=0||x<0)throw new RangeError("offset is not uint");if(x+b>$)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(b,$,j){b=b>>>0,$=$>>>0,j||I(b,$,this.length);for(var V=this[b],te=1,ne=0;++ne<$&&(te*=256);)V+=this[b+ne]*te;return V},s.prototype.readUintBE=s.prototype.readUIntBE=function(b,$,j){b=b>>>0,$=$>>>0,j||I(b,$,this.length);for(var V=this[b+--$],te=1;$>0&&(te*=256);)V+=this[b+--$]*te;return V},s.prototype.readUint8=s.prototype.readUInt8=function(b,$){return b=b>>>0,$||I(b,1,this.length),this[b]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(b,$){return b=b>>>0,$||I(b,2,this.length),this[b]|this[b+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(b,$){return b=b>>>0,$||I(b,2,this.length),this[b]<<8|this[b+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(b,$){return b=b>>>0,$||I(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(b,$){return b=b>>>0,$||I(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},s.prototype.readIntLE=function(b,$,j){b=b>>>0,$=$>>>0,j||I(b,$,this.length);for(var V=this[b],te=1,ne=0;++ne<$&&(te*=256);)V+=this[b+ne]*te;return te*=128,V>=te&&(V-=Math.pow(2,8*$)),V},s.prototype.readIntBE=function(b,$,j){b=b>>>0,$=$>>>0,j||I(b,$,this.length);for(var V=$,te=1,ne=this[b+--V];V>0&&(te*=256);)ne+=this[b+--V]*te;return te*=128,ne>=te&&(ne-=Math.pow(2,8*$)),ne},s.prototype.readInt8=function(b,$){return b=b>>>0,$||I(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},s.prototype.readInt16LE=function(b,$){b=b>>>0,$||I(b,2,this.length);var j=this[b]|this[b+1]<<8;return j&32768?j|4294901760:j},s.prototype.readInt16BE=function(b,$){b=b>>>0,$||I(b,2,this.length);var j=this[b+1]|this[b]<<8;return j&32768?j|4294901760:j},s.prototype.readInt32LE=function(b,$){return b=b>>>0,$||I(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},s.prototype.readInt32BE=function(b,$){return b=b>>>0,$||I(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},s.prototype.readFloatLE=function(b,$){return b=b>>>0,$||I(b,4,this.length),r.read(this,b,!0,23,4)},s.prototype.readFloatBE=function(b,$){return b=b>>>0,$||I(b,4,this.length),r.read(this,b,!1,23,4)},s.prototype.readDoubleLE=function(b,$){return b=b>>>0,$||I(b,8,this.length),r.read(this,b,!0,52,8)},s.prototype.readDoubleBE=function(b,$){return b=b>>>0,$||I(b,8,this.length),r.read(this,b,!1,52,8)};function B(x,b,$,j,V,te){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>V||b<te)throw new RangeError('"value" argument is out of bounds');if($+j>x.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(b,$,j,V){if(b=+b,$=$>>>0,j=j>>>0,!V){var te=Math.pow(2,8*j)-1;B(this,b,$,j,te,0)}var ne=1,me=0;for(this[$]=b&255;++me<j&&(ne*=256);)this[$+me]=b/ne&255;return $+j},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(b,$,j,V){if(b=+b,$=$>>>0,j=j>>>0,!V){var te=Math.pow(2,8*j)-1;B(this,b,$,j,te,0)}var ne=j-1,me=1;for(this[$+ne]=b&255;--ne>=0&&(me*=256);)this[$+ne]=b/me&255;return $+j},s.prototype.writeUint8=s.prototype.writeUInt8=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,1,255,0),this[$]=b&255,$+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,2,65535,0),this[$]=b&255,this[$+1]=b>>>8,$+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,2,65535,0),this[$]=b>>>8,this[$+1]=b&255,$+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,4,4294967295,0),this[$+3]=b>>>24,this[$+2]=b>>>16,this[$+1]=b>>>8,this[$]=b&255,$+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,4,4294967295,0),this[$]=b>>>24,this[$+1]=b>>>16,this[$+2]=b>>>8,this[$+3]=b&255,$+4},s.prototype.writeIntLE=function(b,$,j,V){if(b=+b,$=$>>>0,!V){var te=Math.pow(2,8*j-1);B(this,b,$,j,te-1,-te)}var ne=0,me=1,H=0;for(this[$]=b&255;++ne<j&&(me*=256);)b<0&&H===0&&this[$+ne-1]!==0&&(H=1),this[$+ne]=(b/me>>0)-H&255;return $+j},s.prototype.writeIntBE=function(b,$,j,V){if(b=+b,$=$>>>0,!V){var te=Math.pow(2,8*j-1);B(this,b,$,j,te-1,-te)}var ne=j-1,me=1,H=0;for(this[$+ne]=b&255;--ne>=0&&(me*=256);)b<0&&H===0&&this[$+ne+1]!==0&&(H=1),this[$+ne]=(b/me>>0)-H&255;return $+j},s.prototype.writeInt8=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,1,127,-128),b<0&&(b=255+b+1),this[$]=b&255,$+1},s.prototype.writeInt16LE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,2,32767,-32768),this[$]=b&255,this[$+1]=b>>>8,$+2},s.prototype.writeInt16BE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,2,32767,-32768),this[$]=b>>>8,this[$+1]=b&255,$+2},s.prototype.writeInt32LE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,4,2147483647,-2147483648),this[$]=b&255,this[$+1]=b>>>8,this[$+2]=b>>>16,this[$+3]=b>>>24,$+4},s.prototype.writeInt32BE=function(b,$,j){return b=+b,$=$>>>0,j||B(this,b,$,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[$]=b>>>24,this[$+1]=b>>>16,this[$+2]=b>>>8,this[$+3]=b&255,$+4};function D(x,b,$,j,V,te){if($+j>x.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function v(x,b,$,j,V){return b=+b,$=$>>>0,V||D(x,b,$,4),r.write(x,b,$,j,23,4),$+4}s.prototype.writeFloatLE=function(b,$,j){return v(this,b,$,!0,j)},s.prototype.writeFloatBE=function(b,$,j){return v(this,b,$,!1,j)};function T(x,b,$,j,V){return b=+b,$=$>>>0,V||D(x,b,$,8),r.write(x,b,$,j,52,8),$+8}s.prototype.writeDoubleLE=function(b,$,j){return T(this,b,$,!0,j)},s.prototype.writeDoubleBE=function(b,$,j){return T(this,b,$,!1,j)},s.prototype.copy=function(b,$,j,V){if(!s.isBuffer(b))throw new TypeError("argument should be a Buffer");if(j||(j=0),!V&&V!==0&&(V=this.length),$>=b.length&&($=b.length),$||($=0),V>0&&V<j&&(V=j),V===j||b.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),b.length-$<V-j&&(V=b.length-$+j);var te=V-j;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,j,V):Uint8Array.prototype.set.call(b,this.subarray(j,V),$),te},s.prototype.fill=function(b,$,j,V){if(typeof b=="string"){if(typeof $=="string"?(V=$,$=0,j=this.length):typeof j=="string"&&(V=j,j=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!s.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(b.length===1){var te=b.charCodeAt(0);(V==="utf8"&&te<128||V==="latin1")&&(b=te)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if($<0||this.length<$||this.length<j)throw new RangeError("Out of range index");if(j<=$)return this;$=$>>>0,j=j===void 0?this.length:j>>>0,b||(b=0);var ne;if(typeof b=="number")for(ne=$;ne<j;++ne)this[ne]=b;else{var me=s.isBuffer(b)?b:s.from(b,V),H=me.length;if(H===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(ne=0;ne<j-$;++ne)this[ne+$]=me[ne%H]}return this};var F=/[^+/0-9A-Za-z-_]/g;function ee(x){if(x=x.split("=")[0],x=x.trim().replace(F,""),x.length<2)return"";for(;x.length%4!=0;)x=x+"=";return x}function X(x,b){b=b||1/0;for(var $,j=x.length,V=null,te=[],ne=0;ne<j;++ne){if($=x.charCodeAt(ne),$>55295&&$<57344){if(!V){if($>56319){(b-=3)>-1&&te.push(239,191,189);continue}else if(ne+1===j){(b-=3)>-1&&te.push(239,191,189);continue}V=$;continue}if($<56320){(b-=3)>-1&&te.push(239,191,189),V=$;continue}$=(V-55296<<10|$-56320)+65536}else V&&(b-=3)>-1&&te.push(239,191,189);if(V=null,$<128){if((b-=1)<0)break;te.push($)}else if($<2048){if((b-=2)<0)break;te.push($>>6|192,$&63|128)}else if($<65536){if((b-=3)<0)break;te.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((b-=4)<0)break;te.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return te}function oe(x){for(var b=[],$=0;$<x.length;++$)b.push(x.charCodeAt($)&255);return b}function Ge(x,b){for(var $,j,V,te=[],ne=0;ne<x.length&&!((b-=2)<0);++ne)$=x.charCodeAt(ne),j=$>>8,V=$%256,te.push(V),te.push(j);return te}function ct(x){return e.toByteArray(ee(x))}function gt(x,b,$,j){for(var V=0;V<j&&!(V+$>=b.length||V>=x.length);++V)b[V+$]=x[V];return V}function it(x,b){return x instanceof b||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===b.name}function Mt(x){return x!==x}var Xt=function(){for(var x="0123456789abcdef",b=new Array(256),$=0;$<16;++$)for(var j=$*16,V=0;V<16;++V)b[j+V]=x[$]+x[V];return b}()})(Rp);var _H=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Rp},[Rp])),Mi=O(_H),zl={exports:{}},eS=tS;function tS(t,e){if(t&&e)return tS(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),a=n[n.length-1];return typeof o=="function"&&o!==a&&Object.keys(a).forEach(function(s){o[s]=a[s]}),o}}var yH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:eS},[eS])),vH=O(yH),rS=vH;zl.exports=rS(ql);var gH=zl.exports.strict=rS(nS);ql.proto=ql(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ql(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return nS(this)},configurable:!0})});function ql(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function nS(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}var bH=zl.exports,$H=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:bH,strict:gH},[zl.exports])),iS=O($H),wH=iS,SH=function(){},EH=function(t){return t.setHeader&&typeof t.abort=="function"},TH=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},oS=function(t,e,r){if(typeof e=="function")return oS(t,null,e);e||(e={}),r=wH(r||SH);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=!1,l=function(){t.writable||u()},u=function(){a=!1,o||r.call(t)},c=function(){o=!1,a||r.call(t)},d=function(f){r.call(t,f?new Error("exited with error code: "+f):null)},h=function(f){r.call(t,f)},p=function(){process.nextTick(y)},y=function(){if(!s){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},_=function(){t.req.on("finish",u)};return EH(t)?(t.on("complete",u),t.on("abort",p),t.req?_():t.on("request",_)):a&&!n&&(t.on("end",l),t.on("close",l)),TH(t)&&t.on("exit",d),t.on("end",c),t.on("finish",u),e.error!==!1&&t.on("error",h),t.on("close",p),function(){s=!0,t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",_),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("exit",d),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",p)}},aS=oS,PH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aS},[aS])),sS=O(PH),OH=iS,CH=sS,Ip=ue,ys=function(){},MH=/^v?\.0/.test(process.version),Ul=function(t){return typeof t=="function"},kH=function(t){return!MH||!Ip?!1:(t instanceof(Ip.ReadStream||ys)||t instanceof(Ip.WriteStream||ys))&&Ul(t.close)},xH=function(t){return t.setHeader&&Ul(t.abort)},RH=function(t,e,r,n){n=OH(n);var i=!1;t.on("close",function(){i=!0}),CH(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,kH(t))return t.close(ys);if(xH(t))return t.abort();if(Ul(t.destroy))return t.destroy();n(a||new Error("stream was destroyed"))}}},uS=function(t){t()},NH=function(t,e){return t.pipe(e)},IH=function(){var t=Array.prototype.slice.call(arguments),e=Ul(t[t.length-1]||ys)&&t.pop()||ys;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var a=o<t.length-1,s=o>0;return RH(i,a,s,function(l){r||(r=l),l&&n.forEach(uS),!a&&(n.forEach(uS),e(r))})});return t.reduce(NH)},lS=IH,jH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:lS},[lS])),cS=O(jH);const{PassThrough:AH}=ue;var dS=t=>{t=ge({},t);const{array:e}=t;let{encoding:r}=t;const n=r==="buffer";let i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);const o=new AH({objectMode:i});r&&o.setEncoding(r);let a=0;const s=[];return o.on("data",l=>{s.push(l),i?a=s.length:a+=l.length}),o.getBufferedValue=()=>e?s:n?Buffer.concat(s,a):s.join(""),o.getBufferedLength=()=>a,o},FH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:dS},[dS])),LH=O(FH);const{constants:DH}=Mi,zH=cS,qH=LH;class fS extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function Bl(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e=ge({maxBuffer:1/0},e);const{maxBuffer:r}=e;let n;return await new Promise((i,o)=>{const a=s=>{s&&n.getBufferedLength()<=DH.MAX_LENGTH&&(s.bufferedData=n.getBufferedValue()),o(s)};n=zH(t,qH(e),s=>{if(s){a(s);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&a(new fS)})}),n.getBufferedValue()}Ci.exports=Bl;Ci.exports.default=Bl;var UH=Ci.exports.buffer=(t,e)=>Bl(t,ot(ge({},e),{encoding:"buffer"})),BH=Ci.exports.array=(t,e)=>Bl(t,ot(ge({},e),{array:!0})),HH=Ci.exports.MaxBufferError=fS,KH=Ci.exports,VH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:KH,buffer:UH,array:BH,MaxBufferError:HH},[Ci.exports])),WH=O(VH),Cr={},_o={},hS=Hl;function Hl(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}Hl.prototype.go=function(t){this.pending<this.max?mS(this,t):this.waiting.push(t)};Hl.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};Hl.prototype.hold=function(){return pS(this)};function pS(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)mS(t,t.waiting.shift());else if(t.pending===0){var o=t.listeners;t.listeners=[],o.forEach(n)}}function n(i){i(t.error)}}function mS(t,e){e(pS(t))}var GH=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:hS},[hS])),XH=O(GH),vs=ue,Kl=ue,jp=ue,_S=jp.Readable,Ap=jp.Writable,JH=jp.PassThrough,YH=XH,Vl=Zn.EventEmitter,QH=_o.createFromBuffer=rK,ZH=_o.createFromFd=nK,eK=_o.BufferSlicer=yn,tK=_o.FdSlicer=_n;Kl.inherits(_n,Vl);function _n(t,e){e=e||{},Vl.call(this),this.fd=t,this.pend=new YH,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}_n.prototype.read=function(t,e,r,n,i){var o=this;o.pend.go(function(a){vs.read(o.fd,t,e,r,n,function(s,l,u){a(),i(s,l,u)})})};_n.prototype.write=function(t,e,r,n,i){var o=this;o.pend.go(function(a){vs.write(o.fd,t,e,r,n,function(s,l,u){a(),i(s,l,u)})})};_n.prototype.createReadStream=function(t){return new Wl(this,t)};_n.prototype.createWriteStream=function(t){return new Gl(this,t)};_n.prototype.ref=function(){this.refCount+=1};_n.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&vs.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};Kl.inherits(Wl,_S);function Wl(t,e){e=e||{},_S.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Wl.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(r);vs.read(e.context.fd,i,0,r,e.pos,function(o,a){o?e.destroy(o):a===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=a,e.push(i.slice(0,a))),n()})})}};Wl.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};Kl.inherits(Gl,Ap);function Gl(t,e){e=e||{},Ap.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Gl.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();vs.write(n.context.fd,t,0,t.length,n.pos,function(a,s){a?(n.destroy(),o(),r(a)):(n.bytesWritten+=s,n.pos+=s,n.emit("progress"),o(),r())})})}};Gl.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Kl.inherits(yn,Vl);function yn(t,e){Vl.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}yn.prototype.read=function(t,e,r,n,i){var o=n+r,a=o-this.buffer.length,s=a>0?a:r;this.buffer.copy(t,e,n,o),setImmediate(function(){i(null,s)})};yn.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};yn.prototype.createReadStream=function(t){t=t||{};var e=new JH(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};yn.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new Ap(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,o){if(!r.destroyed){var a=r.pos+n.length;if(a>r.endOffset){var s=new Error("maximum file length exceeded");s.code="ETOOBIG",r.destroyed=!0,o(s);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=a,r.emit("progress"),o()}},r.destroy=function(){r.destroyed=!0},r};yn.prototype.ref=function(){this.refCount+=1};yn.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function rK(t,e){return new yn(t,e)}function nK(t,e){return new _n(t,e)}var iK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_o,createFromBuffer:QH,createFromFd:ZH,BufferSlicer:eK,FdSlicer:tK},[_o])),oK=O(iK),Dn=Mi.Buffer,Fp=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(Fp=new Int32Array(Fp));function yS(t){if(Dn.isBuffer(t))return t;var e=typeof Dn.alloc=="function"&&typeof Dn.from=="function";if(typeof t=="number")return e?Dn.alloc(t):new Dn(t);if(typeof t=="string")return e?Dn.from(t):new Dn(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function aK(t){var e=yS(4);return e.writeInt32BE(t,0),e}function Lp(t,e){t=yS(t),Dn.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=Fp[(r^t[n])&255]^r>>>8;return r^-1}function Dp(){return aK(Lp.apply(null,arguments))}Dp.signed=function(){return Lp.apply(null,arguments)};Dp.unsigned=function(){return Lp.apply(null,arguments)>>>0};var vS=Dp,sK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:vS},[vS])),uK=O(sK),zp=ue,lK=ue,gS=oK,cK=uK,Xl=ue,Jl=Zn.EventEmitter,bS=ue.Transform,qp=ue.PassThrough,dK=ue.Writable,fK=Cr.open=$K,hK=Cr.fromFd=$S,pK=Cr.fromBuffer=wK,mK=Cr.fromRandomAccessReader=Up,_K=Cr.dosDateTimeToDate=SS,yK=Cr.validateFileName=ES,vK=Cr.ZipFile=zn,gK=Cr.Entry=gs,bK=Cr.RandomAccessReader=qn;function $K(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=Zl),zp.open(t,"r",function(n,i){if(n)return r(n);$S(i,e,function(o,a){o&&zp.close(i,Zl),r(o,a)})})}function $S(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=Zl),zp.fstat(t,function(n,i){if(n)return r(n);var o=gS.createFromFd(t,{autoClose:!0});Up(o,i.size,e,r)})}function wK(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=gS.createFromBuffer(t,{maxChunkSize:65536});Up(n,t.length,e,r)}function Up(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=Zl),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var o=22,a=65535,s=Math.min(o+a,e),l=Hr(s),u=e-l.length;yo(t,l,0,s,u,function(c){if(c)return n(c);for(var d=s-o;d>=0;d-=1)if(l.readUInt32LE(d)===101010256){var h=l.slice(d),p=h.readUInt16LE(4);if(p!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+p));var y=h.readUInt16LE(10),_=h.readUInt32LE(16),f=h.readUInt16LE(20),m=h.length-o;if(f!==m)return n(new Error("invalid comment length. expected: "+m+". found: "+f));var g=i?Ql(h,22,h.length,!1):h.slice(22);if(!(y===65535||_===4294967295))return n(null,new zn(t,_,e,y,g,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames));var w=Hr(20),P=u+d-w.length;yo(t,w,0,w.length,P,function(A){if(A)return n(A);if(w.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var S=vo(w,8),M=Hr(56);yo(t,M,0,M.length,S,function(L){return L?n(L):M.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(y=vo(M,32),_=vo(M,48),n(null,new zn(t,_,e,y,g,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}Xl.inherits(zn,Jl);function zn(t,e,r,n,i,o,a,s,l,u){var c=this;Jl.call(c),c.reader=t,c.reader.on("error",function(d){wS(c,d)}),c.reader.once("close",function(){c.emit("close")}),c.readEntryCursor=e,c.fileSize=r,c.entryCount=n,c.comment=i,c.entriesRead=0,c.autoClose=!!o,c.lazyEntries=!!a,c.decodeStrings=!!s,c.validateEntrySizes=!!l,c.strictFileNames=!!u,c.isOpen=!0,c.emittedError=!1,c.lazyEntries||c._readEntry()}zn.prototype.close=function(){!this.isOpen||(this.isOpen=!1,this.reader.unref())};function Mr(t,e){t.autoClose&&t.close(),wS(t,e)}function wS(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}zn.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};zn.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Hr(46);yo(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Mr(t,r);if(!t.emittedError){var n=new gs,i=e.readUInt32LE(0);if(i!==33639248)return Mr(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Mr(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Hr(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),yo(t.reader,e,0,e.length,t.readEntryCursor,function(o){if(o)return Mr(t,o);if(!t.emittedError){var a=(n.generalPurposeBitFlag&2048)!=0;n.fileName=t.decodeStrings?Ql(e,0,n.fileNameLength,a):e.slice(0,n.fileNameLength);var s=n.fileNameLength+n.extraFieldLength,l=e.slice(n.fileNameLength,s);n.extraFields=[];for(var u=0;u<l.length-3;){var c=l.readUInt16LE(u+0),d=l.readUInt16LE(u+2),h=u+4,p=h+d;if(p>l.length)return Mr(t,new Error("extra field length exceeds extra field buffer size"));var y=Hr(d);l.copy(y,0,h,p),n.extraFields.push({id:c,data:y}),u=p}if(n.fileComment=t.decodeStrings?Ql(e,s,s+n.fileCommentLength,a):e.slice(s,s+n.fileCommentLength),n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var _=null,u=0;u<n.extraFields.length;u++){var f=n.extraFields[u];if(f.id===1){_=f.data;break}}if(_==null)return Mr(t,new Error("expected zip64 extended information extra field"));var m=0;if(n.uncompressedSize===4294967295){if(m+8>_.length)return Mr(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=vo(_,m),m+=8}if(n.compressedSize===4294967295){if(m+8>_.length)return Mr(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=vo(_,m),m+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(m+8>_.length)return Mr(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=vo(_,m),m+=8}}if(t.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var f=n.extraFields[u];if(f.id===28789){if(f.data.length<6||f.data.readUInt8(0)!==1)continue;var g=f.data.readUInt32LE(1);if(cK.unsigned(e.slice(0,n.fileNameLength))!==g)continue;n.fileName=Ql(f.data,5,f.data.length,!0);break}}if(t.validateEntrySizes&&n.compressionMethod===0){var w=n.uncompressedSize;if(n.isEncrypted()&&(w+=12),n.compressedSize!==w){var P="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Mr(t,new Error(P))}}if(t.decodeStrings){t.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var A=ES(n.fileName,t.validateFileNameOptions);if(A!=null)return Mr(t,new Error(A))}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};zn.prototype.openReadStream=function(t,e,r){var n=this,i=0,o=t.compressedSize;if(r==null)r=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var a=Hr(30);yo(n.reader,a,0,a.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var l=a.readUInt32LE(0);if(l!==67324752)return r(new Error("invalid local file header signature: 0x"+l.toString(16)));var u=a.readUInt16LE(26),c=a.readUInt16LE(28),d=t.relativeOffsetOfLocalHeader+a.length+u+c,h;if(t.compressionMethod===0)h=!1;else if(t.compressionMethod===8)h=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));var p=d,y=p+t.compressedSize;if(t.compressedSize!==0&&y>n.fileSize)return r(new Error("file data overflows file bounds: "+p+" + "+t.compressedSize+" > "+n.fileSize));var _=n.reader.createReadStream({start:p+i,end:p+o}),f=_;if(h){var m=!1,g=lK.createInflateRaw();_.on("error",function(w){setImmediate(function(){m||g.emit("error",w)})}),_.pipe(g),n.validateEntrySizes?(f=new bs(t.uncompressedSize),g.on("error",function(w){setImmediate(function(){m||f.emit("error",w)})}),g.pipe(f)):f=g,f.destroy=function(){m=!0,g!==f&&g.unpipe(f),_.unpipe(g),_.destroy()}}r(null,f)}finally{n.reader.unref()}})};function gs(){}gs.prototype.getLastModDate=function(){return SS(this.lastModFileDate,this.lastModFileTime)};gs.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!=0};gs.prototype.isCompressed=function(){return this.compressionMethod===8};function SS(t,e){var r=t&31,n=(t>>5&15)-1,i=(t>>9&127)+1980,o=0,a=(e&31)*2,s=e>>5&63,l=e>>11&31;return new Date(i,n,r,l,s,a,o)}function ES(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function yo(t,e,r,n,i,o){if(n===0)return setImmediate(function(){o(null,Hr(0))});t.read(e,r,n,i,function(a,s){if(a)return o(a);if(s<n)return o(new Error("unexpected EOF"));o()})}Xl.inherits(bs,bS);function bs(t){bS.call(this),this.actualByteCount=0,this.expectedByteCount=t}bs.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};bs.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};Xl.inherits(qn,Jl);function qn(){Jl.call(this),this.refCount=0}qn.prototype.ref=function(){this.refCount+=1};qn.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};qn.prototype.createReadStream=function(t){var e=t.start,r=t.end;if(e===r){var n=new qp;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),o=!1,a=new Yl(this);i.on("error",function(l){setImmediate(function(){o||a.emit("error",l)})}),a.destroy=function(){i.unpipe(a),a.unref(),i.destroy()};var s=new bs(r-e);return a.on("error",function(l){setImmediate(function(){o||s.emit("error",l)})}),s.destroy=function(){o=!0,a.unpipe(s),a.destroy()},i.pipe(a).pipe(s)};qn.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};qn.prototype.read=function(t,e,r,n,i){var o=this.createReadStream({start:n,end:n+r}),a=new dK,s=0;a._write=function(l,u,c){l.copy(t,e+s,0,l.length),s+=l.length,c()},a.on("finish",i),o.on("error",function(l){i(l)}),o.pipe(a)};qn.prototype.close=function(t){setImmediate(t)};Xl.inherits(Yl,qp);function Yl(t){qp.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}Yl.prototype._flush=function(t){this.unref(),t()};Yl.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var SK="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Ql(t,e,r,n){if(n)return t.toString("utf8",e,r);for(var i="",o=e;o<r;o++)i+=SK[t[o]];return i}function vo(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var Hr;typeof Buffer.allocUnsafe=="function"?Hr=function(t){return Buffer.allocUnsafe(t)}:Hr=function(t){return new Buffer(t)};function Zl(t){if(t)throw t}var EK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Cr,open:fK,fromFd:hK,fromBuffer:pK,fromRandomAccessReader:mK,dosDateTimeToDate:_K,validateFileName:yK,ZipFile:vK,Entry:gK,RandomAccessReader:bK},[Cr])),TK=O(EK);const kr=qa("extract-zip"),{createWriteStream:PK,promises:go}=ue,OK=WH,ki=ue,{promisify:Bp}=ue,CK=ue,MK=TK,kK=Bp(MK.open),xK=Bp(CK.pipeline);class RK{constructor(e,r){this.zipPath=e,this.opts=r}async extract(){return kr("opening",this.zipPath,"with opts",this.opts),this.zipfile=await kK(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,r)=>{this.zipfile.on("error",n=>{this.canceled=!0,r(n)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(kr("zip extraction complete"),e())}),this.zipfile.on("entry",async n=>{if(this.canceled){kr("skipping entry",n.fileName,{cancelled:this.canceled});return}if(kr("zipfile entry",n.fileName),n.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}const i=ki.dirname(ki.join(this.opts.dir,n.fileName));try{await go.mkdir(i,{recursive:!0});const o=await go.realpath(i);if(ki.relative(this.opts.dir,o).split(ki.sep).includes(".."))throw new Error(`Out of bound path "${o}" found while processing file ${n.fileName}`);await this.extractEntry(n),kr("finished processing",n.fileName),this.zipfile.readEntry()}catch(o){this.canceled=!0,this.zipfile.close(),r(o)}})})}async extractEntry(e){if(this.canceled){kr("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);const r=ki.join(this.opts.dir,e.fileName),n=e.externalFileAttributes>>16&65535,i=61440,o=16384,a=40960,s=(n&i)===a;let l=(n&i)===o;!l&&e.fileName.endsWith("/")&&(l=!0);const u=e.versionMadeBy>>8;l||(l=u===0&&e.externalFileAttributes===16),kr("extracting entry",{filename:e.fileName,isDir:l,isSymlink:s});const c=this.getExtractedMode(n,l)&511,d=l?r:ki.dirname(r),h={recursive:!0};if(l&&(h.mode=c),kr("mkdir",ge({dir:d},h)),await go.mkdir(d,h),l)return;kr("opening read stream",r);const p=await Bp(this.zipfile.openReadStream.bind(this.zipfile))(e);if(s){const y=await OK(p);kr("creating symlink",y,r),await go.symlink(y,r)}else await xK(p,PK(r,{mode:c}))}getExtractedMode(e,r){let n=e;return n===0&&(r?(this.opts.defaultDirMode&&(n=parseInt(this.opts.defaultDirMode,10)),n||(n=493)):(this.opts.defaultFileMode&&(n=parseInt(this.opts.defaultFileMode,10)),n||(n=420))),n}}var TS=async function(t,e){if(kr("creating target directory",e.dir),!ki.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await go.mkdir(e.dir,{recursive:!0}),e.dir=await go.realpath(e.dir),new RK(t,e).extract()},NK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:TS},[TS])),IK=O(NK);const We=ue,PS=ue,OS=ue;let bo;try{bo=require("glob")}catch(t){}const jK={nosort:!0,silent:!0};let Hp=0;const $s=process.platform==="win32",CS=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||OS[r],r=r+"Sync",t[r]=t[r]||OS[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&bo===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||jK},Kp=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),We(t,"rimraf: missing path"),We.equal(typeof t,"string","rimraf: path should be a string"),We.equal(typeof r,"function","rimraf: callback function required"),We(e,"rimraf: invalid options argument provided"),We.equal(typeof e,"object","rimraf: options should be object"),CS(e);let n=0,i=null,o=0;const a=l=>{i=i||l,--o==0&&r(i)},s=(l,u)=>{if(l)return r(l);if(o=u.length,o===0)return r();u.forEach(c=>{const d=h=>{if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&n<e.maxBusyTries)return n++,setTimeout(()=>Vp(c,e,d),n*100);if(h.code==="EMFILE"&&Hp<e.emfileWait)return setTimeout(()=>Vp(c,e,d),Hp++);h.code==="ENOENT"&&(h=null)}Hp=0,a(h)};Vp(c,e,d)})};if(e.disableGlob||!bo.hasMagic(t))return s(null,[t]);e.lstat(t,(l,u)=>{if(!l)return s(null,[t]);bo(t,e.glob,s)})},Vp=(t,e,r)=>{We(t),We(e),We(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&$s&&MS(t,e,n,r),i&&i.isDirectory())return ec(t,e,n,r);e.unlink(t,o=>{if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return $s?MS(t,e,o,r):ec(t,e,o,r);if(o.code==="EISDIR")return ec(t,e,o,r)}return r(o)})})},MS=(t,e,r,n)=>{We(t),We(e),We(typeof n=="function"),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(o,a)=>{o?n(o.code==="ENOENT"?null:r):a.isDirectory()?ec(t,e,r,n):e.unlink(t,n)})})},kS=(t,e,r)=>{We(t),We(e);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?tc(t,e,r):e.unlinkSync(t)},ec=(t,e,r,n)=>{We(t),We(e),We(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?AK(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},AK=(t,e,r)=>{We(t),We(e),We(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let o=i.length;if(o===0)return e.rmdir(t,r);let a;i.forEach(s=>{Kp(PS.join(t,s),e,l=>{if(!a){if(l)return r(a=l);--o==0&&e.rmdir(t,r)}})})})},xS=(t,e)=>{e=e||{},CS(e),We(t,"rimraf: missing path"),We.equal(typeof t,"string","rimraf: path should be a string"),We(e,"rimraf: missing options"),We.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!bo.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(n){r=bo.sync(t,e.glob)}if(!!r.length)for(let n=0;n<r.length;n++){const i=r[n];let o;try{o=e.lstatSync(i)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&$s&&kS(i,e,a)}try{o&&o.isDirectory()?tc(i,e,null):e.unlinkSync(i)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return $s?kS(i,e,a):tc(i,e,a);if(a.code!=="EISDIR")throw a;tc(i,e,a)}}},tc=(t,e,r)=>{We(t),We(e);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&FK(t,e)}},FK=(t,e)=>{We(t),We(e),e.readdirSync(t).forEach(i=>xS(PS.join(t,i),e));const r=$s?100:1;let n=0;do{let i=!0;try{const o=e.rmdirSync(t,e);return i=!1,o}finally{if(++n<r&&i)continue}}while(!0)};var RS=Kp;Kp.sync=xS;var LK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:RS},[RS])),NS=O(LK),Wp={},Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});function DK(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(o,a)=>{o?i(o):n(a)})})}}var zK=Gp.default=DK,qK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:zK},[Gp])),UK=O(qK),IS=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const BK=Zn,HK=IS(qa),KK=IS(UK),ws=HK.default("agent-base");function VK(t){return Boolean(t)&&typeof t.addRequest=="function"}function Xp(){const{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function rc(t,e){return new rc.Agent(t,e)}(function(t){class e extends BK.EventEmitter{constructor(n,i){super();let o=i;typeof n=="function"?this.callback=n:n&&(o=n),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Xp()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Xp()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){const o=Object.assign({},i);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=Xp()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,n._last=!0,n.shouldKeepAlive=!1;let a=!1,s=null;const l=o.timeout||this.timeout,u=p=>{n._hadError||(n.emit("error",p),n._hadError=!0)},c=()=>{s=null,a=!0;const p=new Error(`A "socket" was not created for HTTP request before ${l}ms`);p.code="ETIMEOUT",u(p)},d=p=>{a||(s!==null&&(clearTimeout(s),s=null),u(p))},h=p=>{if(a)return;if(s!=null&&(clearTimeout(s),s=null),VK(p)){ws("Callback returned another Agent instance %o",p.constructor.name),p.addRequest(n,o);return}if(p){p.once("free",()=>{this.freeSocket(p,o)}),n.onSocket(p);return}const y=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);u(y)};if(typeof this.callback!="function"){u(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(ws("Converting legacy callback function to promise"),this.promisifiedCallback=KK.default(this.callback)):this.promisifiedCallback=this.callback),typeof l=="number"&&l>0&&(s=setTimeout(c,l)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{ws("Resolving socket for %o request: %o",o.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,o)).then(h,d)}catch(p){Promise.reject(p).catch(d)}}freeSocket(n,i){ws("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){ws("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(rc||(rc={}));var jS=rc,WK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jS},[jS])),GK=O(WK),Jp={},XK=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jp,"__esModule",{value:!0});const JK=XK(qa),Ss=JK.default("https-proxy-agent:parse-proxy-response");function YK(t){return new Promise((e,r)=>{let n=0;const i=[];function o(){const d=t.read();d?c(d):t.once("readable",o)}function a(){t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",s),t.removeListener("readable",o)}function s(d){Ss("onclose had error %o",d)}function l(){Ss("onend")}function u(d){a(),Ss("onerror %o",d),r(d)}function c(d){i.push(d),n+=d.length;const h=Buffer.concat(i,n);if(h.indexOf(`\r
\r
`)===-1){Ss("have not received end of HTTP headers yet..."),o();return}const y=h.toString("ascii",0,h.indexOf(`\r
`)),_=+y.split(" ")[1];Ss("got proxy server response: %o",y),e({statusCode:_,buffered:h})}t.on("error",u),t.on("close",s),t.on("end",l),o()})}var QK=Jp.default=YK,ZK=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:QK},[Jp])),eV=O(ZK),tV=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},$o=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wp,"__esModule",{value:!0});const AS=$o(ue),FS=$o(ue),rV=$o(ue),nV=$o(ue),iV=$o(qa),oV=GK,aV=$o(eV),Es=iV.default("https-proxy-agent:agent");class sV extends oV.Agent{constructor(e){let r;if(typeof e=="string"?r=rV.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Es("creating new HttpsProxyAgent instance: %o",r);super(r);const n=Object.assign({},r);this.secureProxy=r.secureProxy||dV(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return tV(this,void 0,void 0,function*(){const{proxy:n,secureProxy:i}=this;let o;i?(Es("Creating `tls.Socket`: %o",n),o=FS.default.connect(n)):(Es("Creating `net.Socket`: %o",n),o=AS.default.connect(n));const a=Object.assign({},n.headers);let l=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:u,port:c,secureEndpoint:d}=r;cV(c,d)||(u+=`:${c}`),a.Host=u,a.Connection="close";for(const f of Object.keys(a))l+=`${f}: ${a[f]}\r
`;const h=aV.default(o);o.write(`${l}\r
`);const{statusCode:p,buffered:y}=yield h;if(p===200){if(e.once("socket",lV),r.secureEndpoint){const f=r.servername||r.host;if(!f)throw new Error('Could not determine "servername"');return Es("Upgrading socket connection to TLS"),FS.default.connect(Object.assign(Object.assign({},fV(r,"host","hostname","path","port")),{socket:o,servername:f}))}return o}o.destroy();const _=new AS.default.Socket;return _.readable=!0,e.once("socket",f=>{Es("replaying proxy buffer for failed request"),nV.default(f.listenerCount("data")>0),f.push(y),f.push(null)}),_})}}var uV=Wp.default=sV;function lV(t){t.resume()}function cV(t,e){return Boolean(!e&&t===80||e&&t===443)}function dV(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function fV(t,...e){const r={};let n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}var hV=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:uV},[Wp])),pV=O(hV),mV=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const Yp=mV(pV);function Qp(t){return new Yp.default(t)}(function(t){t.HttpsProxyAgent=Yp.default,t.prototype=Yp.default.prototype})(Qp||(Qp={}));var LS=Qp,_V=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:LS},[LS])),yV=O(_V),Zp={},vV=ue.parse,gV={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},bV=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function $V(t){var e=typeof t=="string"?vV(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||gV[r]||0,!wV(n,i)))return"";var o=wo("npm_config_"+r+"_proxy")||wo(r+"_proxy")||wo("npm_config_proxy")||wo("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function wV(t,e){var r=(wo("npm_config_no_proxy")||wo("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,a=i?parseInt(i[2]):0;return a&&a!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!bV.call(t,o)):t!==o}):!0}function wo(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}var SV=Zp.getProxyForUrl=$V,EV=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Zp,getProxyForUrl:SV},[Zp])),TV=O(EV),nc={};const sr=ue,xi=ue,PV=sr.lchown?"lchown":"chown",OV=sr.lchownSync?"lchownSync":"chownSync",DS=sr.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),zS=(t,e,r)=>{try{return sr[OV](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},CV=(t,e,r)=>{try{return sr.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},MV=DS?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):sr.chown(t,e,r,n)}:(t,e,r,n)=>n,em=DS?(t,e,r)=>{try{return zS(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;CV(t,e,r)}}:(t,e,r)=>zS(t,e,r),kV=process.version;let qS=(t,e,r)=>sr.readdir(t,e,r),xV=(t,e)=>sr.readdirSync(t,e);/^v4\./.test(kV)&&(qS=(t,e,r)=>sr.readdir(t,r));const ic=(t,e,r,n)=>{sr[PV](t,e,r,MV(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},US=(t,e,r,n,i)=>{if(typeof e=="string")return sr.lstat(xi.resolve(t,e),(o,a)=>{if(o)return i(o.code!=="ENOENT"?o:null);a.name=e,US(t,a,r,n,i)});if(e.isDirectory())tm(xi.resolve(t,e.name),r,n,o=>{if(o)return i(o);const a=xi.resolve(t,e.name);ic(a,r,n,i)});else{const o=xi.resolve(t,e.name);ic(o,r,n,i)}},tm=(t,e,r,n)=>{qS(t,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return ic(t,e,r,n);let a=o.length,s=null;const l=u=>{if(!s){if(u)return n(s=u);if(--a==0)return ic(t,e,r,n)}};o.forEach(u=>US(t,u,e,r,l))})},RV=(t,e,r,n)=>{if(typeof e=="string")try{const i=sr.lstatSync(xi.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&BS(xi.resolve(t,e.name),r,n),em(xi.resolve(t,e.name),r,n)},BS=(t,e,r)=>{let n;try{n=xV(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return em(t,e,r);throw i}return n&&n.length&&n.forEach(i=>RV(t,i,e,r)),em(t,e,r)};var HS=tm;tm.sync=BS;var NV=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:HS},[HS])),IV=O(NV),oc={},Ts={exports:{}},ac={exports:{}},KS=Zn.EventEmitter,jV=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:KS},[KS])),VS=O(jV);function WS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(r),!0).forEach(function(n){FV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DV(t,e,r){return e&&GS(t.prototype,e),r&&GS(t,r),t}var zV=Mi,sc=zV.Buffer,qV=ue,rm=qV.inspect,UV=rm&&rm.custom||"inspect";function BV(t,e,r){sc.prototype.copy.call(t,e,r)}var XS=function(){function t(){LV(this,t),this.head=null,this.tail=null,this.length=0}return DV(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return sc.alloc(0);for(var n=sc.allocUnsafe(r>>>0),i=this.head,o=0;i;)BV(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=sc.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:UV,value:function(r,n){return rm(this,AV({},n,{depth:0,customInspect:!1}))}}]),t}(),HV=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:XS},[XS])),KV=O(HV);function VV(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(nm,this,t)):process.nextTick(nm,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(uc,r):(r._writableState.errorEmitted=!0,process.nextTick(JS,r,o)):process.nextTick(JS,r,o):e?(process.nextTick(uc,r),e(o)):process.nextTick(uc,r)}),this)}function JS(t,e){nm(t,e),uc(t)}function uc(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function WV(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function nm(t,e){t.emit("error",e)}function GV(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var YS={destroy:VV,undestroy:WV,errorOrDestroy:GV},XV=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:YS},[YS])),QS=O(XV),im={};function JV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ZS={};function ur(t,e,r){r||(r=Error);function n(o,a,s){return typeof e=="string"?e:e(o,a,s)}var i=function(o){JV(a,o);function a(s,l,u){return o.call(this,n(s,l,u))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=t,ZS[t]=i}function eE(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function YV(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function QV(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ZV(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ur("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ur("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&YV(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(QV(t," argument"))i="The ".concat(t," ").concat(n," ").concat(eE(e,"type"));else{var o=ZV(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(eE(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ur("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ur("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ur("ERR_STREAM_PREMATURE_CLOSE","Premature close");ur("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ur("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ur("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ur("ERR_STREAM_WRITE_AFTER_END","write after end");ur("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ur("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ur("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var eW=im.codes=ZS,tW=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:im,codes:eW},[im])),So=O(tW),rW=So.codes.ERR_INVALID_OPT_VALUE;function nW(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function iW(t,e,r,n){var i=nW(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new rW(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var tE={getHighWaterMark:iW},oW=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:tE},[tE])),rE=O(oW),lc={exports:{}};typeof Object.create=="function"?lc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:lc.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var aW=lc.exports,sW=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aW},[lc.exports])),Ri=O(sW),nE=O(XO),iE=uW;function uW(t,e){if(om("noDeprecation"))return t;var r=!1;function n(){if(!r){if(om("throwDeprecation"))throw new Error(e);om("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function om(t){try{if(!K.localStorage)return!1}catch(r){return!1}var e=K.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var lW=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:iE},[iE])),cW=O(lW),Eo=O(GO),oE=lt;function aE(t){var e=this;this.next=null,this.entry=null,this.finish=function(){FW(e,t)}}var To;lt.WritableState=Ps;var dW={deprecate:cW},sE=VS,cc=Mi.Buffer,fW=K.Uint8Array||function(){};function hW(t){return cc.from(t)}function pW(t){return cc.isBuffer(t)||t instanceof fW}var am=QS,mW=rE,_W=mW.getHighWaterMark,Un=So.codes,yW=Un.ERR_INVALID_ARG_TYPE,vW=Un.ERR_METHOD_NOT_IMPLEMENTED,gW=Un.ERR_MULTIPLE_CALLBACK,bW=Un.ERR_STREAM_CANNOT_PIPE,$W=Un.ERR_STREAM_DESTROYED,wW=Un.ERR_STREAM_NULL_VALUES,SW=Un.ERR_STREAM_WRITE_AFTER_END,EW=Un.ERR_UNKNOWN_ENCODING,Po=am.errorOrDestroy;Ri(lt,sE);function TW(){}function Ps(t,e,r){To=To||Eo,t=t||{},typeof r!="boolean"&&(r=e instanceof To),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=_W(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){RW(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new aE(this)}Ps.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ps.prototype,"buffer",{get:dW.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var dc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(dc=Function.prototype[Symbol.hasInstance],Object.defineProperty(lt,Symbol.hasInstance,{value:function(e){return dc.call(this,e)?!0:this!==lt?!1:e&&e._writableState instanceof Ps}})):dc=function(e){return e instanceof this};function lt(t){To=To||Eo;var e=this instanceof To;if(!e&&!dc.call(lt,this))return new lt(t);this._writableState=new Ps(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),sE.call(this)}lt.prototype.pipe=function(){Po(this,new bW)};function PW(t,e){var r=new SW;Po(t,r),process.nextTick(e,r)}function OW(t,e,r,n){var i;return r===null?i=new wW:typeof r!="string"&&!e.objectMode&&(i=new yW("chunk",["string","Buffer"],r)),i?(Po(t,i),process.nextTick(n,i),!1):!0}lt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&pW(t);return o&&!cc.isBuffer(t)&&(t=hW(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=TW),n.ending?PW(this,r):(o||OW(this,n,t,r))&&(n.pendingcb++,i=MW(this,n,o,t,e,r)),i};lt.prototype.cork=function(){this._writableState.corked++};lt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&lE(this,t))};lt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new EW(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(lt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function CW(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=cc.from(e,r)),e}Object.defineProperty(lt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function MW(t,e,r,n,i,o){if(!r){var a=CW(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else sm(t,e,!1,s,n,i,o);return l}function sm(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new $W("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function kW(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Os,t,e),t._writableState.errorEmitted=!0,Po(t,n)):(i(n),t._writableState.errorEmitted=!0,Po(t,n),Os(t,e))}function xW(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function RW(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new gW;if(xW(r),e)kW(t,r,n,e,i);else{var o=cE(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&lE(t,r),n?process.nextTick(uE,t,r,o,i):uE(t,r,o,i)}}function uE(t,e,r,n){r||NW(t,e),e.pendingcb--,n(),Os(t,e)}function NW(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function lE(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,sm(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new aE(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,d=e.objectMode?1:l.length;if(sm(t,e,!1,d,l,u,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}lt.prototype._write=function(t,e,r){r(new vW("_write()"))};lt.prototype._writev=null;lt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||AW(this,n,r),this};Object.defineProperty(lt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cE(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function IW(t,e){t._final(function(r){e.pendingcb--,r&&Po(t,r),e.prefinished=!0,t.emit("prefinish"),Os(t,e)})}function jW(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(IW,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Os(t,e){var r=cE(e);if(r&&(jW(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function AW(t,e,r){e.ending=!0,Os(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function FW(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});lt.prototype.destroy=am.destroy;lt.prototype._undestroy=am.undestroy;lt.prototype._destroy=function(t,e){e(t)};var LW=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:oE},[oE])),dE=O(LW),DW=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},fE=Kr,hE=nE,um=dE;Ri(Kr,hE);for(var pE=DW(um.prototype),lm=0;lm<pE.length;lm++){var cm=pE[lm];Kr.prototype[cm]||(Kr.prototype[cm]=um.prototype[cm])}function Kr(t){if(!(this instanceof Kr))return new Kr(t);hE.call(this,t),um.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",zW)))}Object.defineProperty(Kr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Kr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Kr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function zW(){this._writableState.ended||process.nextTick(qW,this)}function qW(t){t.end()}Object.defineProperty(Kr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var dm={},fc={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Mi,n=r.Buffer;function i(a,s){for(var l in a)s[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(a,s,l){return n(a,s,l)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(a,s,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,s,l)},o.alloc=function(a,s,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return s!==void 0?typeof l=="string"?u.fill(s,l):u.fill(s):u.fill(0),u},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(fc,fc.exports);var UW=fc.exports,BW=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:UW},[fc.exports])),HW=O(BW),fm=HW.Buffer,mE=fm.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function KW(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function VW(t){var e=KW(t);if(typeof e!="string"&&(fm.isEncoding===mE||!mE(t)))throw new Error("Unknown encoding: "+t);return e||t}var WW=dm.StringDecoder=Cs;function Cs(t){this.encoding=VW(t);var e;switch(this.encoding){case"utf16le":this.text=ZW,this.end=eG,e=4;break;case"utf8":this.fillLast=JW,e=4;break;case"base64":this.text=tG,this.end=rG,e=3;break;default:this.write=nG,this.end=iG;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=fm.allocUnsafe(e)}Cs.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Cs.prototype.end=QW;Cs.prototype.text=YW;Cs.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function hm(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function GW(t,e,r){var n=e.length-1;if(n<r)return 0;var i=hm(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=hm(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=hm(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function XW(t,e,r){if((e[0]&192)!=128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"\uFFFD"}}function JW(t){var e=this.lastTotal-this.lastNeed,r=XW(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function YW(t,e){var r=GW(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function QW(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function ZW(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function eG(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function tG(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function rG(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function nG(t){return t.toString(this.encoding)}function iG(t){return t&&t.length?this.write(t):""}var oG=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:dm,StringDecoder:WW},[dm])),pm=O(oG),_E=So.codes.ERR_STREAM_PREMATURE_CLOSE;function aG(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function sG(){}function uG(t){return t.setHeader&&typeof t.abort=="function"}function yE(t,e,r){if(typeof e=="function")return yE(t,null,e);e||(e={}),r=aG(r||sG);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||s()},a=t._writableState&&t._writableState.finished,s=function(){i=!1,a=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,l=!0,i||r.call(t)},c=function(y){r.call(t,y)},d=function(){var y;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(y=new _E),r.call(t,y);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(y=new _E),r.call(t,y)},h=function(){t.req.on("finish",s)};return uG(t)?(t.on("complete",s),t.on("abort",d),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",u),t.on("finish",s),e.error!==!1&&t.on("error",c),t.on("close",d),function(){t.removeListener("complete",s),t.removeListener("abort",d),t.removeListener("request",h),t.req&&t.req.removeListener("finish",s),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",s),t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",d)}}var vE=yE,lG=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:vE},[vE])),mm=O(lG),hc;function Bn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cG=mm,Hn=Symbol("lastResolve"),Ni=Symbol("lastReject"),Ms=Symbol("error"),pc=Symbol("ended"),Ii=Symbol("lastPromise"),_m=Symbol("handlePromise"),ji=Symbol("stream");function Kn(t,e){return{value:t,done:e}}function dG(t){var e=t[Hn];if(e!==null){var r=t[ji].read();r!==null&&(t[Ii]=null,t[Hn]=null,t[Ni]=null,e(Kn(r,!1)))}}function fG(t){process.nextTick(dG,t)}function hG(t,e){return function(r,n){t.then(function(){if(e[pc]){r(Kn(void 0,!0));return}e[_m](r,n)},n)}}var pG=Object.getPrototypeOf(function(){}),mG=Object.setPrototypeOf((hc={get stream(){return this[ji]},next:function(){var e=this,r=this[Ms];if(r!==null)return Promise.reject(r);if(this[pc])return Promise.resolve(Kn(void 0,!0));if(this[ji].destroyed)return new Promise(function(a,s){process.nextTick(function(){e[Ms]?s(e[Ms]):a(Kn(void 0,!0))})});var n=this[Ii],i;if(n)i=new Promise(hG(n,this));else{var o=this[ji].read();if(o!==null)return Promise.resolve(Kn(o,!1));i=new Promise(this[_m])}return this[Ii]=i,i}},Bn(hc,Symbol.asyncIterator,function(){return this}),Bn(hc,"return",function(){var e=this;return new Promise(function(r,n){e[ji].destroy(null,function(i){if(i){n(i);return}r(Kn(void 0,!0))})})}),hc),pG),_G=function(e){var r,n=Object.create(mG,(r={},Bn(r,ji,{value:e,writable:!0}),Bn(r,Hn,{value:null,writable:!0}),Bn(r,Ni,{value:null,writable:!0}),Bn(r,Ms,{value:null,writable:!0}),Bn(r,pc,{value:e._readableState.endEmitted,writable:!0}),Bn(r,_m,{value:function(o,a){var s=n[ji].read();s?(n[Ii]=null,n[Hn]=null,n[Ni]=null,o(Kn(s,!1))):(n[Hn]=o,n[Ni]=a)},writable:!0}),r));return n[Ii]=null,cG(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ni];o!==null&&(n[Ii]=null,n[Hn]=null,n[Ni]=null,o(i)),n[Ms]=i;return}var a=n[Hn];a!==null&&(n[Ii]=null,n[Hn]=null,n[Ni]=null,a(Kn(void 0,!0))),n[pc]=!0}),e.on("readable",fG.bind(null,n)),n},gE=_G,yG=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:gE},[gE])),vG=O(yG),bE=function(){throw new Error("Readable.from is not available in the browser")},gG=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:bE},[bE])),bG=O(gG),$E=Ae,Oo;Ae.ReadableState=SE;Zn.EventEmitter;var wE=function(e,r){return e.listeners(r).length},ks=VS,mc=Mi.Buffer,$G=K.Uint8Array||function(){};function wG(t){return mc.from(t)}function SG(t){return mc.isBuffer(t)||t instanceof $G}var ym=ue,ke;ym&&ym.debuglog?ke=ym.debuglog("stream"):ke=function(){};var EG=KV,vm=QS,TG=rE,PG=TG.getHighWaterMark,_c=So.codes,OG=_c.ERR_INVALID_ARG_TYPE,CG=_c.ERR_STREAM_PUSH_AFTER_EOF,MG=_c.ERR_METHOD_NOT_IMPLEMENTED,kG=_c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Co,gm,bm;Ri(Ae,ks);var xs=vm.errorOrDestroy,$m=["error","close","destroy","pause","resume"];function xG(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function SE(t,e,r){Oo=Oo||Eo,t=t||{},typeof r!="boolean"&&(r=e instanceof Oo),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=PG(this,t,"readableHighWaterMark",r),this.buffer=new EG,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Co||(Co=pm.StringDecoder),this.decoder=new Co(t.encoding),this.encoding=t.encoding)}function Ae(t){if(Oo=Oo||Eo,!(this instanceof Ae))return new Ae(t);var e=this instanceof Oo;this._readableState=new SE(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ks.call(this)}Object.defineProperty(Ae.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Ae.prototype.destroy=vm.destroy;Ae.prototype._undestroy=vm.undestroy;Ae.prototype._destroy=function(t,e){e(t)};Ae.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=mc.from(t,e),e=""),n=!0),EE(this,t,e,!1,n)};Ae.prototype.unshift=function(t){return EE(this,t,null,!0,!1)};function EE(t,e,r,n,i){ke("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,IG(t,o);else{var a;if(i||(a=RG(o,e)),a)xs(t,a);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==mc.prototype&&(e=wG(e)),n)o.endEmitted?xs(t,new kG):wm(t,o,e,!0);else if(o.ended)xs(t,new CG);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?wm(t,o,e,!1):Sm(t,o)):wm(t,o,e,!1)}else n||(o.reading=!1,Sm(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function wm(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&yc(t)),Sm(t,e)}function RG(t,e){var r;return!SG(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new OG("chunk",["string","Buffer","Uint8Array"],e)),r}Ae.prototype.isPaused=function(){return this._readableState.flowing===!1};Ae.prototype.setEncoding=function(t){Co||(Co=pm.StringDecoder);var e=new Co(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var TE=1073741824;function NG(t){return t>=TE?t=TE:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function PE(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=NG(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ae.prototype.read=function(t){ke("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ke("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Tm(this):yc(this),null;if(t=PE(t,e),t===0&&e.ended)return e.length===0&&Tm(this),null;var n=e.needReadable;ke("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ke("length less than watermark",n)),e.ended||e.reading?(n=!1,ke("reading or ended",n)):n&&(ke("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=PE(r,e)));var i;return t>0?i=ME(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Tm(this)),i!==null&&this.emit("data",i),i};function IG(t,e){if(ke("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?yc(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,OE(t)))}}function yc(t){var e=t._readableState;ke("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ke("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(OE,t))}function OE(t){var e=t._readableState;ke("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Em(t)}function Sm(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(jG,t,e))}function jG(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ke("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Ae.prototype._read=function(t){xs(this,new MG("_read()"))};Ae.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ke("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?s:_;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(f,m){ke("onunpipe"),f===r&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,c())}function s(){ke("onend"),t.end()}var l=AG(r);t.on("drain",l);var u=!1;function c(){ke("cleanup"),t.removeListener("close",p),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",h),t.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",_),r.removeListener("data",d),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",d);function d(f){ke("ondata");var m=t.write(f);ke("dest.write",m),m===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&kE(n.pipes,t)!==-1)&&!u&&(ke("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(f){ke("onerror",f),_(),t.removeListener("error",h),wE(t,"error")===0&&xs(t,f)}xG(t,"error",h);function p(){t.removeListener("finish",y),_()}t.once("close",p);function y(){ke("onfinish"),t.removeListener("close",p),_()}t.once("finish",y);function _(){ke("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ke("pipe resume"),r.resume()),t};function AG(t){return function(){var r=t._readableState;ke("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&wE(t,"data")&&(r.flowing=!0,Em(t))}}Ae.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=kE(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ae.prototype.on=function(t,e){var r=ks.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ke("on readable",n.length,n.reading),n.length?yc(this):n.reading||process.nextTick(FG,this)),r};Ae.prototype.addListener=Ae.prototype.on;Ae.prototype.removeListener=function(t,e){var r=ks.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(CE,this),r};Ae.prototype.removeAllListeners=function(t){var e=ks.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(CE,this),e};function CE(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function FG(t){ke("readable nexttick read 0"),t.read(0)}Ae.prototype.resume=function(){var t=this._readableState;return t.flowing||(ke("resume"),t.flowing=!t.readableListening,LG(this,t)),t.paused=!1,this};function LG(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(DG,t,e))}function DG(t,e){ke("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Em(t),e.flowing&&!e.reading&&t.read(0)}Ae.prototype.pause=function(){return ke("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ke("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Em(t){var e=t._readableState;for(ke("flow",e.flowing);e.flowing&&t.read()!==null;);}Ae.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ke("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(ke("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=e.push(a);s||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<$m.length;o++)t.on($m[o],this.emit.bind(this,$m[o]));return this._read=function(a){ke("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Ae.prototype[Symbol.asyncIterator]=function(){return gm===void 0&&(gm=vG),gm(this)});Object.defineProperty(Ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Ae._fromList=ME;Object.defineProperty(Ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ME(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Tm(t){var e=t._readableState;ke("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(zG,e,t))}function zG(t,e){if(ke("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Ae.from=function(t,e){return bm===void 0&&(bm=bG),bm(Ae,t,e)});function kE(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var xE=vn,vc=So.codes,qG=vc.ERR_METHOD_NOT_IMPLEMENTED,UG=vc.ERR_MULTIPLE_CALLBACK,BG=vc.ERR_TRANSFORM_ALREADY_TRANSFORMING,HG=vc.ERR_TRANSFORM_WITH_LENGTH_0,gc=Eo;Ri(vn,gc);function KG(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new UG);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function vn(t){if(!(this instanceof vn))return new vn(t);gc.call(this,t),this._transformState={afterTransform:KG.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",VG)}function VG(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){RE(t,e,r)}):RE(this,null,null)}vn.prototype.push=function(t,e){return this._transformState.needTransform=!1,gc.prototype.push.call(this,t,e)};vn.prototype._transform=function(t,e,r){r(new qG("_transform()"))};vn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};vn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};vn.prototype._destroy=function(t,e){gc.prototype._destroy.call(this,t,function(r){e(r)})};function RE(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new HG;if(t._transformState.transforming)throw new BG;return t.push(null)}var WG=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:xE},[xE])),NE=O(WG),IE=Rs,jE=NE;Ri(Rs,jE);function Rs(t){if(!(this instanceof Rs))return new Rs(t);jE.call(this,t)}Rs.prototype._transform=function(t,e,r){r(null,t)};var GG=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:IE},[IE])),XG=O(GG),Pm;function JG(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var AE=So.codes,YG=AE.ERR_MISSING_ARGS,QG=AE.ERR_STREAM_DESTROYED;function FE(t){if(t)throw t}function ZG(t){return t.setHeader&&typeof t.abort=="function"}function eX(t,e,r,n){n=JG(n);var i=!1;t.on("close",function(){i=!0}),Pm===void 0&&(Pm=mm),Pm(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,ZG(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new QG("pipe"))}}}function LE(t){t()}function tX(t,e){return t.pipe(e)}function rX(t){return!t.length||typeof t[t.length-1]!="function"?FE:t.pop()}function nX(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=rX(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new YG("streams");var i,o=e.map(function(a,s){var l=s<e.length-1,u=s>0;return eX(a,l,u,function(c){i||(i=c),c&&o.forEach(LE),!l&&(o.forEach(LE),n(i))})});return e.reduce(tX)}var DE=nX,iX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:DE},[DE])),oX=O(iX);(function(t,e){e=t.exports=nE,e.Stream=e,e.Readable=e,e.Writable=dE,e.Duplex=Eo,e.Transform=NE,e.PassThrough=XG,e.finished=mm,e.pipeline=oX})(ac,ac.exports);var aX=ac.exports,sX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aX},[ac.exports])),Ns=O(sX);const{Buffer:xr}=Mi,zE=Symbol.for("BufferList");function Ye(t){if(!(this instanceof Ye))return new Ye(t);Ye._init.call(this,t)}Ye._init=function(e){Object.defineProperty(this,zE,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Ye.prototype._new=function(e){return new Ye(e)};Ye.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){const i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};Ye.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};Ye.prototype.get=function(e){if(e>this.length||e<0)return;const r=this._offset(e);return this._bufs[r[0]][r[1]]};Ye.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Ye.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||xr.alloc(0);const o=!!e,a=this._offset(n),s=i-n;let l=s,u=o&&r||0,c=a[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:xr.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,u),u+=this._bufs[d].length;return e}if(l<=this._bufs[a[0]].length-c)return o?this._bufs[a[0]].copy(e,r,c,c+l):this._bufs[a[0]].slice(c,c+l);o||(e=xr.allocUnsafe(s));for(let d=a[0];d<this._bufs.length;d++){const h=this._bufs[d].length-c;if(l>h)this._bufs[d].copy(e,u,c),u+=h;else{this._bufs[d].copy(e,u,c,c+l),u+=h;break}l-=h,c&&(c=0)}return e.length>u?e.slice(0,u):e};Ye.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();const n=this._offset(e),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};Ye.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};Ye.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Ye.prototype.duplicate=function(){const e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Ye.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(xr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(xr.from(e));return this};Ye.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Ye.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=xr.from([t]):typeof t=="string"?t=xr.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=xr.from(t.buffer,t.byteOffset,t.byteLength):xr.isBuffer(t)||(t=xr.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;const n=this._offset(e);let i=n[0],o=n[1];for(;i<this._bufs.length;i++){const a=this._bufs[i];for(;o<a.length;)if(a.length-o>=t.length){const l=a.indexOf(t,o);if(l!==-1)return this._reverseOffset([i,l]);o=a.length-t.length+1}else{const l=this._reverseOffset([i,o]);if(this._match(l,t))return l;o++}o=0}return-1};Ye.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)(function(r){t[r]===null?Ye.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:Ye.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();Ye.prototype._isBufferList=function(e){return e instanceof Ye||Ye.isBufferList(e)};Ye.isBufferList=function(e){return e!=null&&e[zE]};var qE=Ye,uX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:qE},[qE])),lX=O(uX);const Om=Ns.Duplex,cX=Ri,Is=lX;function It(t){if(!(this instanceof It))return new It(t);if(typeof t=="function"){this._callback=t;const e=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",e)}),this.on("unpipe",function(n){n.removeListener("error",e)}),t=null}Is._init.call(this,t),Om.call(this)}cX(It,Om);Object.assign(It.prototype,Is.prototype);It.prototype._new=function(e){return new It(e)};It.prototype._write=function(e,r,n){this._appendBuffer(e),typeof n=="function"&&n()};It.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};It.prototype.end=function(e){Om.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};It.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};It.prototype._isBufferList=function(e){return e instanceof It||e instanceof Is||It.isBufferList(e)};It.isBufferList=Is.isBufferList;Ts.exports=It;var dX=Ts.exports.BufferListStream=It,fX=Ts.exports.BufferList=Is,hX=Ts.exports,pX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:hX,BufferListStream:dX,BufferList:fX},[Ts.exports])),mX=O(pX),Ai={},_X=Buffer.alloc,yX="0000000000000000000",vX="7777777777777777777",UE="0".charCodeAt(0),BE=Buffer.from("ustar\0","binary"),gX=Buffer.from("00","binary"),bX=Buffer.from("ustar ","binary"),$X=Buffer.from(" \0","binary"),wX=parseInt("7777",8),js=257,Cm=263,SX=function(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},EX=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},TX=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},HE=function(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n},KE=function(t){for(var e=8*32,r=0;r<148;r++)e+=t[r];for(var n=156;n<512;n++)e+=t[n];return e},Vn=function(t,e){return t=t.toString(8),t.length>e?vX.slice(0,e)+" ":yX.slice(0,e-t.length)+t+" "};function PX(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],n=t.length-1;n>0;n--){var i=t[n];e?r.push(i):r.push(255-i)}var o=0,a=r.length;for(n=0;n<a;n++)o+=r[n]*Math.pow(256,n);return e?o:-1*o}var Wn=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return PX(t);for(;e<t.length&&t[e]===32;)e++;for(var n=SX(HE(t,32,e,t.length),t.length,t.length);e<n&&t[e]===0;)e++;return n===e?0:parseInt(t.slice(e,n).toString(),8)},Mo=function(t,e,r,n){return t.slice(e,HE(t,0,e,e+r)).toString(n)},Mm=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t},OX=Ai.decodeLongPath=function(t,e){return Mo(t,0,t.length,e)},CX=Ai.encodePax=function(t){var e="";t.name&&(e+=Mm(" path="+t.name+`
`)),t.linkname&&(e+=Mm(" linkpath="+t.linkname+`
`));var r=t.pax;if(r)for(var n in r)e+=Mm(" "+n+"="+r[n]+`
`);return Buffer.from(e)},MX=Ai.decodePax=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&t[r]!==32;)r++;var n=parseInt(t.slice(0,r).toString(),10);if(!n)return e;var i=t.slice(r+1,n-1).toString(),o=i.indexOf("=");if(o===-1)return e;e[i.slice(0,o)]=i.slice(o+1),t=t.slice(n)}return e},kX=Ai.encode=function(t){var e=_X(512),r=t.name,n="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),Buffer.byteLength(r)!==r.length)return null;for(;Buffer.byteLength(r)>100;){var i=r.indexOf("/");if(i===-1)return null;n+=n?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return Buffer.byteLength(r)>100||Buffer.byteLength(n)>155||t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(Vn(t.mode&wX,6),100),e.write(Vn(t.uid,6),108),e.write(Vn(t.gid,6),116),e.write(Vn(t.size,11),124),e.write(Vn(t.mtime.getTime()/1e3|0,11),136),e[156]=UE+TX(t.type),t.linkname&&e.write(t.linkname,157),BE.copy(e,js),gX.copy(e,Cm),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(Vn(t.devmajor||0,6),329),e.write(Vn(t.devminor||0,6),337),n&&e.write(n,345),e.write(Vn(KE(e),6),148),e)},xX=Ai.decode=function(t,e,r){var n=t[156]===0?0:t[156]-UE,i=Mo(t,0,100,e),o=Wn(t,100,8),a=Wn(t,108,8),s=Wn(t,116,8),l=Wn(t,124,12),u=Wn(t,136,12),c=EX(n),d=t[157]===0?null:Mo(t,157,100,e),h=Mo(t,265,32),p=Mo(t,297,32),y=Wn(t,329,8),_=Wn(t,337,8),f=KE(t);if(f===8*32)return null;if(f!==Wn(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(BE.compare(t,js,js+6)===0)t[345]&&(i=Mo(t,345,155,e)+"/"+i);else if(!(bX.compare(t,js,js+6)===0&&$X.compare(t,Cm,Cm+2)===0)){if(!r)throw new Error("Invalid tar header: unknown format.")}return n===0&&i&&i[i.length-1]==="/"&&(n=5),{name:i,mode:o,uid:a,gid:s,size:l,mtime:new Date(1e3*u),type:c,linkname:d,uname:h,gname:p,devmajor:y,devminor:_}},RX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Ai,decodeLongPath:OX,encodePax:CX,decodePax:MX,encode:kX,decode:xX},[Ai])),VE=O(RX),WE=ue,NX=mX,As=VE,GE=Ns.Writable,XE=Ns.PassThrough,JE=function(){},YE=function(t){return t&=511,t&&512-t},IX=function(t,e){var r=new bc(t,e);return r.end(),r},jX=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},bc=function(t,e){this._parent=t,this.offset=e,XE.call(this,{autoDestroy:!1})};WE.inherits(bc,XE);bc.prototype.destroy=function(t){this._parent.destroy(t)};var gn=function(t){if(!(this instanceof gn))return new gn(t);GE.call(this,t),t=t||{},this._offset=0,this._buffer=NX(),this._missing=0,this._partial=!1,this._onparse=JE,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,n=function(){e._continue()},i=function(h){if(e._locked=!1,h)return e.destroy(h);e._stream||n()},o=function(){e._stream=null;var h=YE(e._header.size);h?e._parse(h,a):e._parse(512,d),e._locked||n()},a=function(){e._buffer.consume(YE(e._header.size)),e._parse(512,d),n()},s=function(){var h=e._header.size;e._paxGlobal=As.decodePax(r.slice(0,h)),r.consume(h),o()},l=function(){var h=e._header.size;e._pax=As.decodePax(r.slice(0,h)),e._paxGlobal&&(e._pax=Object.assign({},e._paxGlobal,e._pax)),r.consume(h),o()},u=function(){var h=e._header.size;this._gnuLongPath=As.decodeLongPath(r.slice(0,h),t.filenameEncoding),r.consume(h),o()},c=function(){var h=e._header.size;this._gnuLongLinkPath=As.decodeLongPath(r.slice(0,h),t.filenameEncoding),r.consume(h),o()},d=function(){var h=e._offset,p;try{p=e._header=As.decode(r.slice(0,512),t.filenameEncoding,t.allowUnknownFormat)}catch(y){e.emit("error",y)}if(r.consume(512),!p){e._parse(512,d),n();return}if(p.type==="gnu-long-path"){e._parse(p.size,u),n();return}if(p.type==="gnu-long-link-path"){e._parse(p.size,c),n();return}if(p.type==="pax-global-header"){e._parse(p.size,s),n();return}if(p.type==="pax-header"){e._parse(p.size,l),n();return}if(e._gnuLongPath&&(p.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(p.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=p=jX(p,e._pax),e._pax=null),e._locked=!0,!p.size||p.type==="directory"){e._parse(512,d),e.emit("entry",p,IX(e,h),i);return}e._stream=new bc(e,h),e.emit("entry",p,e._stream,i),e._parse(p.size,o),n()};this._onheader=d,this._parse(512,d)};WE.inherits(gn,GE);gn.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};gn.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};gn.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=JE,this._overflow?this._write(this._overflow,void 0,t):t()}};gn.prototype._write=function(t,e,r){if(!this._destroyed){var n=this._stream,i=this._buffer,o=this._missing;if(t.length&&(this._partial=!0),t.length<o)return this._missing-=t.length,this._overflow=null,n?n.write(t,r):(i.append(t),r());this._cb=r,this._missing=0;var a=null;t.length>o&&(a=t.slice(o),t=t.slice(0,o)),n?n.end(t):i.append(t),this._overflow=a,this._onparse()}};gn.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};var QE=gn,AX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:QE},[QE])),FX=O(AX),ZE=ue,LX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:ZE},[ZE])),DX=O(LX),ko=DX,eT=sS,$c=Ri,zX=Buffer.alloc,tT=Ns.Readable,xo=Ns.Writable,qX=pm.StringDecoder,wc=VE,UX=parseInt("755",8),BX=parseInt("644",8),rT=zX(1024),km=function(){},xm=function(t,e){e&=511,e&&t.push(rT.slice(0,512-e))};function HX(t){switch(t&ko.S_IFMT){case ko.S_IFBLK:return"block-device";case ko.S_IFCHR:return"character-device";case ko.S_IFDIR:return"directory";case ko.S_IFIFO:return"fifo";case ko.S_IFLNK:return"symlink"}return"file"}var Sc=function(t){xo.call(this),this.written=0,this._to=t,this._destroyed=!1};$c(Sc,xo);Sc.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r};Sc.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Ec=function(){xo.call(this),this.linkname="",this._decoder=new qX("utf-8"),this._destroyed=!1};$c(Ec,xo);Ec.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()};Ec.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Fs=function(){xo.call(this),this._destroyed=!1};$c(Fs,xo);Fs.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))};Fs.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Vr=function(t){if(!(this instanceof Vr))return new Vr(t);tT.call(this,t),this._drain=km,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};$c(Vr,tT);Vr.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(r=e,e=null),r||(r=km);var n=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=HX(t.mode)),t.mode||(t.mode=t.type==="directory"?UX:BX),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=Buffer.from(e)),Buffer.isBuffer(e)){t.size=e.length,this._encode(t);var i=this.push(e);return xm(n,t.size),i?process.nextTick(r):this._drain=r,new Fs}if(t.type==="symlink"&&!t.linkname){var o=new Ec;return eT(o,function(s){if(s)return n.destroy(),r(s);t.linkname=o.linkname,n._encode(t),r()}),o}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return process.nextTick(r),new Fs;var a=new Sc(this);return this._stream=a,eT(a,function(s){if(n._stream=null,s)return n.destroy(),r(s);if(a.written!==t.size)return n.destroy(),r(new Error("size mismatch"));xm(n,t.size),n._finalizing&&n.finalize(),r()}),a}};Vr.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(rT),this.push(null))};Vr.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};Vr.prototype._encode=function(t){if(!t.pax){var e=wc.encode(t);if(e){this.push(e);return}}this._encodePax(t)};Vr.prototype._encodePax=function(t){var e=wc.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(wc.encode(r)),this.push(e),xm(this,e.length),r.size=t.size,r.type=t.type,this.push(wc.encode(r))};Vr.prototype._read=function(t){var e=this._drain;this._drain=km,e()};var nT=Vr,KX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:nT},[nT])),VX=O(KX),WX=oc.extract=FX,GX=oc.pack=VX,XX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:oc,extract:WX,pack:GX},[oc])),JX=O(XX),Ls=ue,iT=ue,oT=parseInt("0777",8),aT=Ro.mkdirp=Ro.mkdirP=Ro;function Ro(t,e,r,n){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var i=e.mode,o=e.fs||iT;i===void 0&&(i=oT),n||(n=null);var a=r||function(){};t=Ls.resolve(t),o.mkdir(t,i,function(s){if(!s)return n=n||t,a(null,n);switch(s.code){case"ENOENT":if(Ls.dirname(t)===t)return a(s);Ro(Ls.dirname(t),e,function(l,u){l?a(l,u):Ro(t,e,a,u)});break;default:o.stat(t,function(l,u){l||!u.isDirectory()?a(s,n):a(null,n)});break}})}Ro.sync=function t(e,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,o=r.fs||iT;i===void 0&&(i=oT),n||(n=null),e=Ls.resolve(e);try{o.mkdirSync(e,i),n=n||e}catch(s){switch(s.code){case"ENOENT":n=t(Ls.dirname(e),r,n),t(e,r,n);break;default:var a;try{a=o.statSync(e)}catch(l){throw s}if(!a.isDirectory())throw s;break}}return n};var YX=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aT},[aT])),QX=O(YX),ZX=IV,sT=JX,uT=cS,eJ=QX,lT=ue,tr=ue,tJ=ue,Ds=tJ.platform()==="win32",zs=function(){},Rm=function(t){return t},Nm=Ds?function(t){return t.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:Rm,rJ=function(t,e,r,n,i,o){var a=i||["."];return function(l){if(!a.length)return l();var u=a.shift(),c=tr.join(r,u);e(c,function(d,h){if(d)return l(d);if(!h.isDirectory())return l(null,u,h);t.readdir(c,function(p,y){if(p)return l(p);o&&y.sort();for(var _=0;_<y.length;_++)n(tr.join(r,u,y[_]))||a.push(tr.join(u,y[_]));l(null,u,h)})})}},cT=function(t,e){return function(r){r.name=r.name.split("/").slice(e).join("/");var n=r.linkname;return n&&(r.type==="link"||tr.isAbsolute(n))&&(r.linkname=n.split("/").slice(e).join("/")),t(r)}},nJ=nc.pack=function(t,e){t||(t="."),e||(e={});var r=e.fs||lT,n=e.ignore||e.filter||zs,i=e.map||zs,o=e.mapStream||Rm,a=rJ(r,e.dereference?r.stat:r.lstat,t,n,e.entries,e.sort),s=e.strict!==!1,l=typeof e.umask=="number"?~e.umask:~dT(),u=typeof e.dmode=="number"?e.dmode:0,c=typeof e.fmode=="number"?e.fmode:0,d=e.pack||sT.pack(),h=e.finish||zs;e.strip&&(i=cT(i,e.strip)),e.readable&&(u|=parseInt(555,8),c|=parseInt(444,8)),e.writable&&(u|=parseInt(333,8),c|=parseInt(222,8));var p=function(f,m){r.readlink(tr.join(t,f),function(g,w){if(g)return d.destroy(g);m.linkname=Nm(w),d.entry(m,_)})},y=function(f,m,g){if(f)return d.destroy(f);if(!m)return e.finalize!==!1&&d.finalize(),h(d);if(g.isSocket())return _();var w={name:Nm(m),mode:(g.mode|(g.isDirectory()?u:c))&l,mtime:g.mtime,size:g.size,type:"file",uid:g.uid,gid:g.gid};if(g.isDirectory())return w.size=0,w.type="directory",w=i(w)||w,d.entry(w,_);if(g.isSymbolicLink())return w.size=0,w.type="symlink",w=i(w)||w,p(m,w);if(w=i(w)||w,!g.isFile())return s?d.destroy(new Error("unsupported type for "+m)):_();var P=d.entry(w,_);if(!!P){var A=o(r.createReadStream(tr.join(t,m)),w);A.on("error",function(S){P.destroy(S)}),uT(A,P)}},_=function(f){if(f)return d.destroy(f);a(y)};return _(),d},iJ=function(t){return t.length?t[t.length-1]:null},oJ=function(){return process.getuid?process.getuid():-1},dT=function(){return process.umask?process.umask():0},aJ=nc.extract=function(t,e){t||(t="."),e||(e={});var r=e.fs||lT,n=e.ignore||e.filter||zs,i=e.map||zs,o=e.mapStream||Rm,a=e.chown!==!1&&!Ds&&oJ()===0,s=e.extract||sT.extract(),l=[],u=new Date,c=typeof e.umask=="number"?~e.umask:~dT(),d=typeof e.dmode=="number"?e.dmode:0,h=typeof e.fmode=="number"?e.fmode:0,p=e.strict!==!1;e.strip&&(i=cT(i,e.strip)),e.readable&&(d|=parseInt(555,8),h|=parseInt(444,8)),e.writable&&(d|=parseInt(333,8),h|=parseInt(222,8));var y=function(m,g){for(var w;(w=iJ(l))&&m.slice(0,w[0].length)!==w[0];)l.pop();if(!w)return g();r.utimes(w[0],u,w[1],g)},_=function(m,g,w){if(e.utimes===!1)return w();if(g.type==="directory")return r.utimes(m,u,g.mtime,w);if(g.type==="symlink")return y(m,w);r.utimes(m,u,g.mtime,function(P){if(P)return w(P);y(m,w)})},f=function(m,g,w){var P=g.type==="symlink",A=P?r.lchmod:r.chmod,S=P?r.lchown:r.chown;if(!A)return w();var M=(g.mode|(g.type==="directory"?d:h))&c;A(m,M,function(L){if(L)return w(L);if(!a||!S)return w();S(m,g.uid,g.gid,w)})};return s.on("entry",function(m,g,w){m=i(m)||m,m.name=Nm(m.name);var P=tr.join(t,tr.join("/",m.name));if(n(P,m))return g.resume(),w();var A=function(z){if(z)return w(z);_(P,m,function(Z){if(Z)return w(Z);if(Ds)return w();f(P,m,w)})},S=function(){if(Ds)return w();r.unlink(P,function(){r.symlink(m.linkname,P,A)})},M=function(){if(Ds)return w();r.unlink(P,function(){var z=tr.join(t,tr.join("/",m.linkname));r.link(z,P,function(Z){if(Z&&Z.code==="EPERM"&&e.hardlinkAsFilesFallback)return g=r.createReadStream(z),L();A(Z)})})},L=function(){var z=r.createWriteStream(P),Z=o(g,m);z.on("error",function(G){Z.destroy(G)}),uT(Z,z,function(G){if(G)return w(G);z.on("close",A)})};if(m.type==="directory")return l.push([P,m.mtime]),hT(P,{fs:r,own:a,uid:m.uid,gid:m.gid},A);var W=tr.dirname(P);fT(r,W,tr.join(t,"."),function(z,Z){if(z)return w(z);if(!Z)return w(new Error(W+" is not a valid path"));hT(W,{fs:r,own:a,uid:m.uid,gid:m.gid},function(G){if(G)return w(G);switch(m.type){case"file":return L();case"link":return M();case"symlink":return S()}if(p)return w(new Error("unsupported type for "+P+" ("+m.type+")"));g.resume(),w()})})}),e.finish&&s.on("finish",e.finish),s};function fT(t,e,r,n){if(e===r)return n(null,!0);t.lstat(e,function(i,o){if(i&&i.code!=="ENOENT")return n(i);if(i||o.isDirectory())return fT(t,tr.join(e,".."),r,n);n(null,!1)})}function hT(t,e,r){eJ(t,{fs:e.fs},function(n,i){!n&&i&&e.own?ZX(i,e.uid,e.gid,r):r(n)})}var sJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:nc,pack:nJ,extract:aJ},[nc])),uJ=O(sJ),Im={exports:{}};(function(t,e){var r=ue;t.exports=n,n.through=n;function n(i,o,a){i=i||function(y){this.queue(y)},o=o||function(){this.queue(null)};var s=!1,l=!1,u=[],c=!1,d=new r;d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(a&&a.autoDestroy===!1),d.write=function(y){return i.call(this,y),!d.paused};function h(){for(;u.length&&!d.paused;){var y=u.shift();if(y===null)return d.emit("end");d.emit("data",y)}}d.queue=d.push=function(y){return c||(y===null&&(c=!0),u.push(y),h()),d},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&process.nextTick(function(){d.destroy()})});function p(){d.writable=!1,o.call(d),!d.readable&&d.autoDestroy&&d.destroy()}return d.end=function(y){if(!s)return s=!0,arguments.length&&d.write(y),p(),d},d.destroy=function(){if(!l)return l=!0,s=!0,u.length=0,d.writable=d.readable=!1,d.emit("close"),d},d.pause=function(){if(!d.paused)return d.paused=!0,d},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),h(),d.paused||d.emit("drain"),d},d}})(Im);var lJ=Im.exports,cJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:lJ},[Im.exports])),dJ=O(cJ);function jm(t){this.name="Bzip2Error",this.message=t,this.stack=new Error().stack}jm.prototype=new Error;var Ot={Error:function(t){throw new jm(t)}},Wr={};Wr.Bzip2Error=jm;Wr.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];Wr.array=function(t){var e=0,r=0,n=[0,1,3,7,15,31,63,127,255];return function(i){for(var o=0;i>0;){var a=8-e;i>=a?(o<<=a,o|=n[a]&t[r++],e=0,i-=a):(o<<=i,o|=(t[r]&n[i]<<8-i-e)>>8-i-e,e+=i,i=0)}return o}};Wr.simple=function(t,e){var r=Wr.array(t),n=Wr.header(r),i=!1,o=1e5*n,a=new Int32Array(o);do i=Wr.decompress(r,e,a,o);while(!i)};Wr.header=function(t){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),t(8*3)!=4348520&&Ot.Error("No magic number found");var e=t(8)-48;return(e<1||e>9)&&Ot.Error("Not a BZIP archive"),e};Wr.decompress=function(t,e,r,n,i){for(var o=20,a=258,s=0,l=1,u=50,c=0^-1,d="",h=0;h<6;h++)d+=t(8).toString(16);if(d=="177245385090"){var p=t(32)|0;return p!==i&&Ot.Error("Error in bzip2: crc32 do not match"),t(null),null}d!="314159265359"&&Ot.Error("eek not valid bzip data");var y=t(32)|0;t(1)&&Ot.Error("unsupported obsolete version");var _=t(24);_>n&&Ot.Error("Initial position larger than buffer size");var f=t(16),m=0;for(h=0;h<16;h++)if(f&1<<15-h){var g=t(16);for(k=0;k<16;k++)g&1<<15-k&&(this.symToByte[m++]=16*h+k)}var w=t(3);(w<2||w>6)&&Ot.Error("another error");var P=t(15);P==0&&Ot.Error("meh");for(var h=0;h<w;h++)this.mtfSymbol[h]=h;for(var h=0;h<P;h++){for(var k=0;t(1);k++)k>=w&&Ot.Error("whoops another error");for(var A=this.mtfSymbol[k],g=k-1;g>=0;g--)this.mtfSymbol[g+1]=this.mtfSymbol[g];this.mtfSymbol[0]=A,this.selectors[h]=A}for(var S=m+2,M=[],L=new Uint8Array(a),W=new Uint16Array(o+1),z,k=0;k<w;k++){f=t(5);for(var h=0;h<S;h++){for(;(f<1||f>o)&&Ot.Error("I gave up a while ago on writing error messages"),!!t(1);)t(1)?f--:f++;L[h]=f}var Z,G;Z=G=L[0];for(var h=1;h<S;h++)L[h]>G?G=L[h]:L[h]<Z&&(Z=L[h]);z=M[k]={},z.permute=new Int32Array(a),z.limit=new Int32Array(o+1),z.base=new Int32Array(o+1),z.minLen=Z,z.maxLen=G;for(var ae=z.base.subarray(1),se=z.limit.subarray(1),ce=0,h=Z;h<=G;h++)for(var f=0;f<S;f++)L[f]==h&&(z.permute[ce++]=f);for(h=Z;h<=G;h++)W[h]=se[h]=0;for(h=0;h<S;h++)W[L[h]]++;for(ce=f=0,h=Z;h<G;h++)ce+=W[h],se[h]=ce-1,ce<<=1,ae[h+1]=ce-(f+=W[h]);se[G]=ce+W[G]-1,ae[Z]=0}for(var h=0;h<256;h++)this.mtfSymbol[h]=h,this.byteCount[h]=0;var ye,de,S,N;for(ye=de=S=N=0;;){for(S--||(S=u-1,N>=P&&Ot.Error("meow i'm a kitty, that's an error"),z=M[this.selectors[N++]],ae=z.base.subarray(1),se=z.limit.subarray(1)),h=z.minLen,k=t(h);h>z.maxLen&&Ot.Error("rawr i'm a dinosaur"),!(k<=se[h]);)h++,k=k<<1|t(1);k-=ae[h],(k<0||k>=a)&&Ot.Error("moo i'm a cow");var E=z.permute[k];if(E==s||E==l){ye||(ye=1,f=0),E==s?f+=ye:f+=2*ye,ye<<=1;continue}if(ye)for(ye=0,de+f>n&&Ot.Error("Boom."),A=this.symToByte[this.mtfSymbol[0]],this.byteCount[A]+=f;f--;)r[de++]=A;if(E>m)break;de>=n&&Ot.Error("I can't think of anything. Error"),h=E-1,A=this.mtfSymbol[h];for(var g=h-1;g>=0;g--)this.mtfSymbol[g+1]=this.mtfSymbol[g];this.mtfSymbol[0]=A,A=this.symToByte[A],this.byteCount[A]++,r[de++]=A}(_<0||_>=de)&&Ot.Error("I'm a monkey and I'm throwing something at someone, namely you");for(var k=0,h=0;h<256;h++)g=k+this.byteCount[h],this.byteCount[h]=k,k=g;for(var h=0;h<de;h++)A=r[h]&255,r[this.byteCount[A]]|=h<<8,this.byteCount[A]++;var I=0,B=0,D=0;de&&(I=r[_],B=I&255,I>>=8,D=-1),de=de;for(var v,T,F;de;){for(de--,T=B,I=r[I],B=I&255,I>>=8,D++==3?(v=B,F=T,B=-1):(v=1,F=B);v--;)c=(c<<8^this.crcTable[(c>>24^F)&255])&4294967295,e(F);B!=T&&(D=0)}return c=(c^-1)>>>0,(c|0)!=(y|0)&&Ot.Error("Error in bzip2: crc32 do not match"),i===null&&(i=0),i=(c^(i<<1|i>>>31))&4294967295,i};var pT=Wr,fJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pT},[pT])),hJ=O(fJ),mT=[0,1,3,7,15,31,63,127,255],_T=function(e){var r=0,n=0,i=e(),o=function(a){if(a===null&&r!=0){r=0,n++;return}for(var s=0;a>0;){n>=i.length&&(n=0,i=e());var l=8-r;r===0&&a>0&&o.bytesRead++,a>=l?(s<<=l,s|=mT[l]&i[n++],r=0,a-=l):(s<<=a,s|=(i[n]&mT[a]<<8-a-r)>>8-a-r,r+=a,a=0)}return s};return o.bytesRead=0,o},pJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:_T},[_T])),mJ=O(pJ),_J=dJ,yT=hJ,yJ=mJ,vT=vJ;function vJ(){var t=[],e=0,r=0,n=!1,i=null,o=null;function a(u){if(r){var c=1e5*r,d=new Int32Array(c),h=[],p=function(y){h.push(y)};return o=yT.decompress(i,p,d,c,o),o===null?(r=0,!1):(u(Buffer.from(h)),!0)}else return r=yT.header(i),!0}var s=0;function l(u){if(!n)try{return a(function(c){u.queue(c),c!==null&&(s+=c.length)})}catch(c){return u.emit("error",c),n=!0,!1}}return _J(function(c){for(t.push(c),e+=c.length,i===null&&(i=yJ(function(){return t.shift()}));!n&&e-i.bytesRead+1>=(25e3+1e5*r||4);)l(this)},function(c){for(;!n&&e>i.bytesRead;)l(this);n||(o!==null&&stream.emit("error",new Error("input stream ended prematurely")),this.queue(null))})}var gJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:vT},[vT])),bJ=O(gJ),$J=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wJ=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gn=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$J(e,t,r);return wJ(e,t),e},Am=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});var gT=ms.BrowserFetcher=void 0;const Tc=Gn(ue),Gt=Gn(ue),Rr=Gn(ue),SJ=Gn(ue),Fm=Gn(ue),EJ=Gn(ue),TJ=Gn(ue),PJ=Am(IK),OJ=Ua,Pc=ue,CJ=Am(NS),Lm=Gn(ue),MJ=Am(yV),kJ=TV,Oc=vt,qs=OJ.debug("puppeteer:fetcher"),Dm={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}},bT={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function Cc(t,e,r){if(t==="chrome"){if(e==="linux")return"chrome-linux";if(e==="mac")return"chrome-mac";if(e==="win32"||e==="win64")return parseInt(r,10)>591479?"chrome-win":"chrome-win32"}else if(t==="firefox")return e}function zm(t,e,r,n){return SJ.format(Dm[t][e],r,n,Cc(t,e,n))}function xJ(){Gt.stat("/usr/bin/chromium-browser",function(t,e){e===void 0&&Gt.stat("/usr/bin/chromium",function(r,n){if(n===void 0)throw console.error(`The chromium binary is not available for arm64.
If you are on Ubuntu, you can install with: 

 sudo apt install chromium


 sudo apt install chromium-browser
`),new Error})})}const $T=Pc.promisify(Gt.readdir.bind(Gt)),wT=Pc.promisify(Gt.mkdir.bind(Gt)),RJ=Pc.promisify(Gt.unlink.bind(Gt)),NJ=Pc.promisify(Gt.chmod.bind(Gt));function Us(t){return new Promise(e=>{Gt.access(t,r=>e(!r))})}class IJ{constructor(e,r={}){this._product=(r.product||"chrome").toLowerCase(),Oc.assert(this._product==="chrome"||this._product==="firefox",`Unknown product: "${r.product}"`),this._downloadsFolder=r.path||Rr.join(e,bT[this._product].destination),this._downloadHost=r.host||bT[this._product].host,this.setPlatform(r.platform),Oc.assert(Dm[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e){if(e){this._platform=e;return}const r=Tc.platform();r==="darwin"?this._platform="mac":r==="linux"?this._platform="linux":r==="win32"?this._platform=Tc.arch()==="x64"?"win64":"win32":Oc.assert(this._platform,"Unsupported platform: "+r)}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){const r=zm(this._product,this._platform,this._downloadHost,e);return new Promise(n=>{qm(r,"HEAD",o=>{n(o.statusCode===200)}).on("error",o=>{console.error(o),n(!1)})})}async download(e,r=()=>{}){const n=zm(this._product,this._platform,this._downloadHost,e),i=n.split("/").pop(),o=Rr.join(this._downloadsFolder,i),a=this._getFolderPath(e);if(await Us(a))return this.revisionInfo(e);if(await Us(this._downloadsFolder)||await wT(this._downloadsFolder),Tc.platform()!=="darwin"&&Tc.arch()==="arm64"){xJ();return}try{await AJ(n,o,r),await FJ(o,a)}finally{await Us(o)&&await RJ(o)}const s=this.revisionInfo(e);return s&&await NJ(s.executablePath,493),s}async localRevisions(){return await Us(this._downloadsFolder)?(await $T(this._downloadsFolder)).map(r=>jJ(this._product,r)).filter(r=>r&&r.platform===this._platform).map(r=>r.revision):[]}async remove(e){const r=this._getFolderPath(e);Oc.assert(await Us(r),`Failed to remove: revision ${e} is not downloaded`),await new Promise(n=>CJ.default(r,n))}revisionInfo(e){const r=this._getFolderPath(e);let n="";if(this._product==="chrome")if(this._platform==="mac")n=Rr.join(r,Cc(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if(this._platform==="linux")n=Rr.join(r,Cc(this._product,this._platform,e),"chrome");else if(this._platform==="win32"||this._platform==="win64")n=Rr.join(r,Cc(this._product,this._platform,e),"chrome.exe");else throw new Error("Unsupported platform: "+this._platform);else if(this._product==="firefox")if(this._platform==="mac")n=Rr.join(r,"Firefox Nightly.app","Contents","MacOS","firefox");else if(this._platform==="linux")n=Rr.join(r,"firefox","firefox");else if(this._platform==="win32"||this._platform==="win64")n=Rr.join(r,"firefox","firefox.exe");else throw new Error("Unsupported platform: "+this._platform);else throw new Error("Unsupported product: "+this._product);const i=zm(this._product,this._platform,this._downloadHost,e),o=Gt.existsSync(r);return qs({revision:e,executablePath:n,folderPath:r,local:o,url:i,product:this._product}),{revision:e,executablePath:n,folderPath:r,local:o,url:i,product:this._product}}_getFolderPath(e){return Rr.join(this._downloadsFolder,`${this._platform}-${e}`)}}gT=ms.BrowserFetcher=IJ;function jJ(t,e){const n=Rr.basename(e).split("-");if(n.length!==2)return null;const[i,o]=n;return Dm[t][i]?{product:t,platform:i,revision:o}:null}function AJ(t,e,r){qs(`Downloading binary from ${t}`);let n,i,o=0,a=0;const s=new Promise((c,d)=>{n=c,i=d});return qm(t,"GET",c=>{if(c.statusCode!==200){const h=new Error(`Download failed: server returned code ${c.statusCode}. URL: ${t}`);c.resume(),i(h);return}const d=Gt.createWriteStream(e);d.on("finish",()=>n()),d.on("error",h=>i(h)),c.pipe(d),a=parseInt(c.headers["content-length"],10),r&&c.on("data",u)}).on("error",c=>i(c)),s;function u(c){o+=c.length,r(o,a)}}function FJ(t,e){if(qs(`Installing ${t} to ${e}`),t.endsWith(".zip"))return PJ.default(t,{dir:e});if(t.endsWith(".tar.bz2"))return LJ(t,e);if(t.endsWith(".dmg"))return wT(e).then(()=>DJ(t,e));throw new Error(`Unsupported archive format: ${t}`)}function LJ(t,e){const r=uJ,n=bJ;return new Promise((i,o)=>{const a=r.extract(e);a.on("error",o),a.on("finish",i),Gt.createReadStream(t).pipe(n()).pipe(a)})}function DJ(t,e){let r;function n(o,a){const s=`hdiutil attach -nobrowse -noautoopen "${t}"`;Fm.exec(s,(l,u)=>{if(l)return a(l);const c=u.match(/\/Volumes\/(.*)/m);if(!c)return a(new Error(`Could not find volume path in ${u}`));r=c[0],$T(r).then(d=>{const h=d.find(y=>typeof y=="string"&&y.endsWith(".app"));if(!h)return a(new Error(`Cannot find app in ${r}`));const p=Rr.join(r,h);qs(`Copying ${p} to ${e}`),Fm.exec(`cp -R "${p}" "${e}"`,y=>{y?a(y):o()})}).catch(a)})}function i(){if(!r)return;const o=`hdiutil detach "${r}" -quiet`;qs(`Unmounting ${r}`),Fm.exec(o,a=>{a&&console.error(`Error unmounting dmg: ${a}`)})}return new Promise(n).catch(o=>{console.error(o)}).finally(i)}function qm(t,e,r){const n=Lm.parse(t);let i=ot(ge({},n),{method:e});const o=kJ.getProxyForUrl(t);if(o)if(t.startsWith("http:")){const l=Lm.parse(o);i={path:i.href,host:l.hostname,port:l.port}}else{const l=Lm.parse(o),u=ot(ge({},l),{secureProxy:l.protocol==="https:"});i.agent=MJ.default(u),i.rejectUnauthorized=!1}const a=l=>{l.statusCode>=300&&l.statusCode<400&&l.headers.location?qm(l.headers.location,e,r):r(l)},s=i.protocol==="https:"?EJ.request(i,a):TJ.request(i,a);return s.end(),s}var zJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get BrowserFetcher(){return gT},default:ms},[ms])),ST=O(zJ),Um={},Bs={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});var ET=Hs.PipeTransport=void 0;const Fi=Ht;class qJ{constructor(e,r){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[Fi.helper.addEventListener(r,"data",n=>this._dispatch(n)),Fi.helper.addEventListener(r,"close",()=>{this.onclose&&this.onclose.call(null)}),Fi.helper.addEventListener(r,"error",Fi.debugError),Fi.helper.addEventListener(e,"error",Fi.debugError)],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let r=e.indexOf("\0");if(r===-1){this._pendingMessage+=e.toString();return}const n=this._pendingMessage+e.toString(void 0,0,r);this.onmessage&&this.onmessage.call(null,n);let i=r+1;for(r=e.indexOf("\0",i);r!==-1;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,i,r)),i=r+1,r=e.indexOf("\0",i);this._pendingMessage=e.toString(void 0,i)}close(){this._pipeWrite=null,Fi.helper.removeEventListeners(this._eventListeners)}}ET=Hs.PipeTransport=qJ;var UJ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get PipeTransport(){return ET},default:Hs},[Hs])),BJ=O(UJ),HJ=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KJ=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TT=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HJ(e,t,r);return KJ(e,t),e},VJ=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});var PT=Bs.BrowserRunner=void 0;const WJ=Ua,OT=VJ(NS),GJ=TT(ue),XJ=vt,lr=Ht,CT=Va,JJ=V1,YJ=BJ,QJ=TT(ue),ZJ=Aa,eY=ue,tY=eY.promisify(OT.default),rY=WJ.debug("puppeteer:launcher"),nY=`Puppeteer was unable to kill the process which ran the browser binary.
This means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.
Please check your open processes and ensure that the browser processes that Puppeteer launched have been killed.
If you think this is a bug, please report it on the Puppeteer issue tracker.`;class iY{constructor(e,r,n,i){this.proc=null,this.connection=null,this._closed=!0,this._listeners=[],this._product=e,this._executablePath=r,this._processArguments=n,this._tempDirectory=i}start(e){const{handleSIGINT:r,handleSIGTERM:n,handleSIGHUP:i,dumpio:o,env:a,pipe:s}=e;let l=["pipe","pipe","pipe"];s&&(o?l=["ignore","pipe","pipe","pipe","pipe"]:l=["ignore","ignore","ignore","pipe","pipe"]),XJ.assert(!this.proc,"This process has previously been started."),rY(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`),this.proc=GJ.spawn(this._executablePath,this._processArguments,{detached:process.platform!=="win32",env:a,stdio:l}),o&&(this.proc.stderr.pipe(process.stderr),this.proc.stdout.pipe(process.stdout)),this._closed=!1,this._processClosing=new Promise((u,c)=>{this.proc.once("exit",()=>{this._closed=!0,this._tempDirectory?tY(this._tempDirectory).then(()=>u()).catch(d=>{console.error(d),c(d)}):u()})}),this._listeners=[lr.helper.addEventListener(process,"exit",this.kill.bind(this))],r&&this._listeners.push(lr.helper.addEventListener(process,"SIGINT",()=>{this.kill(),process.exit(130)})),n&&this._listeners.push(lr.helper.addEventListener(process,"SIGTERM",this.close.bind(this))),i&&this._listeners.push(lr.helper.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){return this._closed?Promise.resolve():(this._tempDirectory&&this._product!=="firefox"?this.kill():this.connection&&this.connection.send("Browser.close").catch(e=>{lr.debugError(e),this.kill()}),lr.helper.removeEventListeners(this._listeners),this._processClosing)}kill(){try{OT.default.sync(this._tempDirectory)}catch(e){}if(this.proc&&this.proc.pid&&!this.proc.killed)try{this.proc.kill("SIGKILL")}catch(e){throw new Error(`${nY}
Error cause: ${e.stack}`)}lr.helper.removeEventListeners(this._listeners)}async setupConnection(e){const{usePipe:r,timeout:n,slowMo:i,preferredRevision:o}=e;if(r){const{3:a,4:s}=this.proc.stdio,l=new YJ.PipeTransport(a,s);this.connection=new CT.Connection("",l,i)}else{const a=await oY(this.proc,n,o),s=await JJ.NodeWebSocketTransport.create(a);this.connection=new CT.Connection(a,s,i)}return this.connection}}PT=Bs.BrowserRunner=iY;function oY(t,e,r){return new Promise((n,i)=>{const o=QJ.createInterface({input:t.stderr});let a="";const s=[lr.helper.addEventListener(o,"line",d),lr.helper.addEventListener(o,"close",()=>u()),lr.helper.addEventListener(t,"exit",()=>u()),lr.helper.addEventListener(t,"error",p=>u(p))],l=e?setTimeout(c,e):0;function u(p){h(),i(new Error(["Failed to launch the browser process!"+(p?" "+p.message:""),a,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join(`
`)))}function c(){h(),i(new ZJ.TimeoutError(`Timed out after ${e} ms while trying to connect to the browser! Only Chrome at revision r${r} is guaranteed to work.`))}function d(p){a+=p+`
`;const y=p.match(/^DevTools listening on (ws:\/\/.*)$/);!y||(h(),n(y[1]))}function h(){l&&clearTimeout(l),lr.helper.removeEventListeners(s)}})}var aY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get BrowserRunner(){return PT},default:Bs},[Bs])),sY=O(aY),uY=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lY=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bm=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uY(e,t,r);return lY(e,t),e};Object.defineProperty(Um,"__esModule",{value:!0});const No=Bm(ue),Ks=Bm(ue),Hm=Bm(ue),cY=vt,MT=ST,kT=I1,xT=sY,RT=ue,NT=RT.promisify(Hm.mkdtemp),IT=RT.promisify(Hm.writeFile);class dY{constructor(e,r,n){this._projectRoot=e,this._preferredRevision=r,this._isPuppeteerCore=n}async launch(e={}){const{ignoreDefaultArgs:r=!1,args:n=[],dumpio:i=!1,channel:o=null,executablePath:a=null,pipe:s=!1,env:l=process.env,handleSIGINT:u=!0,handleSIGTERM:c=!0,handleSIGHUP:d=!0,ignoreHTTPSErrors:h=!1,defaultViewport:p={width:800,height:600},slowMo:y=0,timeout:_=3e4,waitForInitialPage:f=!0}=e,m=Ks.join(No.tmpdir(),"puppeteer_dev_chrome_profile-"),g=[];r?Array.isArray(r)?g.push(...this.defaultArgs(e).filter(M=>!r.includes(M))):g.push(...n):g.push(...this.defaultArgs(e));let w=null;g.some(M=>M.startsWith("--remote-debugging-"))||g.push(s?"--remote-debugging-pipe":"--remote-debugging-port=0"),g.some(M=>M.startsWith("--user-data-dir"))||(w=await NT(m),g.push(`--user-data-dir=${w}`));let P=a;if(o)cY.assert(!a,"`executablePath` must not be specified when `channel` is given."),P=jT(o);else if(!a)if(No.platform()!=="darwin"&&No.arch()==="arm64")P="/usr/bin/chromium-browser";else{const{missingText:M,executablePath:L}=Mc(this);if(M)throw new Error(M);P=L}const A=g.includes("--remote-debugging-pipe"),S=new xT.BrowserRunner(this.product,P,g,w);S.start({handleSIGHUP:d,handleSIGTERM:c,handleSIGINT:u,dumpio:i,env:l,pipe:A});try{const M=await S.setupConnection({usePipe:A,timeout:_,slowMo:y,preferredRevision:this._preferredRevision}),L=await kT.Browser.create(M,[],h,p,S.proc,S.close.bind(S));return f&&await L.waitForTarget(W=>W.type()==="page"),L}catch(M){throw S.kill(),M}}defaultArgs(e={}){const r=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=Translate","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection"],{devtools:n=!1,headless:i=!n,args:o=[],userDataDir:a=null}=e;return a&&r.push(`--user-data-dir=${Ks.resolve(a)}`),n&&r.push("--auto-open-devtools-for-tabs"),i&&r.push("--headless","--hide-scrollbars","--mute-audio"),o.every(s=>s.startsWith("-"))&&r.push("about:blank"),r.push(...o),r}executablePath(e){return e?jT(e):Mc(this).executablePath}get product(){return"chrome"}}class fY{constructor(e,r,n){this._projectRoot=e,this._preferredRevision=r,this._isPuppeteerCore=n}async launch(e={}){const{ignoreDefaultArgs:r=!1,args:n=[],dumpio:i=!1,executablePath:o=null,pipe:a=!1,env:s=process.env,handleSIGINT:l=!0,handleSIGTERM:u=!0,handleSIGHUP:c=!0,ignoreHTTPSErrors:d=!1,defaultViewport:h={width:800,height:600},slowMo:p=0,timeout:y=3e4,extraPrefsFirefox:_={},waitForInitialPage:f=!0}=e,m=[];r?Array.isArray(r)?m.push(...this.defaultArgs(e).filter(A=>!r.includes(A))):m.push(...n):m.push(...this.defaultArgs(e)),m.some(A=>A.startsWith("--remote-debugging-"))||m.push("--remote-debugging-port=0");let g=null;!m.includes("-profile")&&!m.includes("--profile")&&(g=await this._createProfile(_),m.push("--profile"),m.push(g)),await this._updateRevision();let w=o;if(!o){const{missingText:A,executablePath:S}=Mc(this);if(A)throw new Error(A);w=S}const P=new xT.BrowserRunner(this.product,w,m,g);P.start({handleSIGHUP:c,handleSIGTERM:u,handleSIGINT:l,dumpio:i,env:s,pipe:a});try{const A=await P.setupConnection({usePipe:a,timeout:y,slowMo:p,preferredRevision:this._preferredRevision}),S=await kT.Browser.create(A,[],d,h,P.proc,P.close.bind(P));return f&&await S.waitForTarget(M=>M.type()==="page"),S}catch(A){throw P.kill(),A}}executablePath(){return Mc(this).executablePath}async _updateRevision(){if(this._preferredRevision==="latest"){const r=await new MT.BrowserFetcher(this._projectRoot,{product:this.product}).localRevisions();r[0]&&(this._preferredRevision=r[0])}}get product(){return"firefox"}defaultArgs(e={}){const r=["--no-remote","--foreground"];No.platform().startsWith("win")&&r.push("--wait-for-browser");const{devtools:n=!1,headless:i=!n,args:o=[],userDataDir:a=null}=e;return a&&(r.push("--profile"),r.push(a)),i&&r.push("--headless"),n&&r.push("--devtools"),o.every(s=>s.startsWith("-"))&&r.push("about:blank"),r.push(...o),r}async _createProfile(e){const r=await NT(Ks.join(No.tmpdir(),"puppeteer_dev_firefox_profile-")),n=[],i=[],o="dummy.test",a={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${o}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${o}/dummy/discoveryURL`,"fission.autostart":!1,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":o,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${o}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};Object.assign(a,e);for(const[s,l]of Object.entries(a))i.push(`user_pref(${JSON.stringify(s)}, ${JSON.stringify(l)});`);return await IT(Ks.join(r,"user.js"),i.join(`
`)),await IT(Ks.join(r,"prefs.js"),n.join(`
`)),r}}function jT(t){const e=No.platform();let r;switch(e){case"win32":switch(t){case"chrome":r=`${{}.PROGRAMFILES}\\Google\\Chrome\\Application\\chrome.exe`;break;case"chrome-beta":r=`${{}.PROGRAMFILES}\\Google\\Chrome Beta\\Application\\chrome.exe`;break;case"chrome-canary":r=`${{}.PROGRAMFILES}\\Google\\Chrome SxS\\Application\\chrome.exe`;break;case"chrome-dev":r=`${{}.PROGRAMFILES}\\Google\\Chrome Dev\\Application\\chrome.exe`;break}break;case"darwin":switch(t){case"chrome":r="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";break;case"chrome-beta":r="/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta";break;case"chrome-canary":r="/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary";break;case"chrome-dev":r="/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev";break}break;case"linux":switch(t){case"chrome":r="/opt/google/chrome/chrome";break;case"chrome-beta":r="/opt/google/chrome-beta/chrome";break;case"chrome-dev":r="/opt/google/chrome-unstable/chrome";break}break}if(!r)throw new Error(`Unable to detect browser executable path for '${t}' on ${e}.`);try{Hm.accessSync(r)}catch(n){throw new Error(`Could not find Google Chrome executable for channel '${t}' at '${r}'.`)}return r}function Mc(t){let e;t._isPuppeteerCore||(e={}.npm_package_config_puppeteer_download_path);const r=new MT.BrowserFetcher(t._projectRoot,{product:t.product,path:e});if(!t._isPuppeteerCore&&t.product==="chrome"){const s=process.env.PUPPETEER_CHROMIUM_REVISION;if(s){const l=r.revisionInfo(s),u=l.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+l.executablePath;return{executablePath:l.executablePath,missingText:u}}}const n=r.revisionInfo(t._preferredRevision),i="Run `PUPPETEER_PRODUCT=firefox npm install` to download a supported Firefox browser binary.",o=`Run \`npm install\` to download the correct Chromium revision (${t._preferredRevision}).`,a=n.local?null:`Could not find expected browser (${t.product}) locally. ${t.product==="chrome"?o:i}`;return{executablePath:n.executablePath,missingText:a}}function hY(t,e,r,n){switch(!n&&!r&&(n={}.npm_package_config_puppeteer_product),n){case"firefox":return new fY(t,e,r);case"chrome":default:return typeof n!="undefined"&&n!=="chrome"&&console.warn(`Warning: unknown product name ${n}. Falling back to chrome.`),new dY(t,e,r)}}var pY=Um.default=hY,mY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pY},[Um])),_Y=O(mY),Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});var AT=Vs.PUPPETEER_REVISIONS=void 0;AT=Vs.PUPPETEER_REVISIONS={chromium:"901912",firefox:"latest"};var yY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get PUPPETEER_REVISIONS(){return AT},default:Vs},[Vs])),FT=O(yY),vY=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ia,"__esModule",{value:!0});var LT=Ia.PuppeteerNode=void 0;const gY=Q9,bY=ST,$Y=vY(_Y),DT=FT;class wY extends gY.Puppeteer{constructor(e){const a=e,{projectRoot:r,preferredRevision:n,productName:i}=a,o=__(a,["projectRoot","preferredRevision","productName"]);super(o);this._projectRoot=r,this.__productName=i,this._preferredRevision=n}connect(e){return e.product&&(this._productName=e.product),super.connect(e)}get _productName(){return this.__productName}set _productName(e){this.__productName!==e&&(this._changedProduct=!0),this.__productName=e}launch(e={}){return e.product&&(this._productName=e.product),this._launcher.launch(e)}executablePath(e){return this._launcher.executablePath(e)}get _launcher(){if(!this._lazyLauncher||this._lazyLauncher.product!==this._productName||this._changedProduct){switch(this._productName){case"firefox":this._preferredRevision=DT.PUPPETEER_REVISIONS.firefox;break;case"chrome":default:this._preferredRevision=DT.PUPPETEER_REVISIONS.chromium}this._changedProduct=!1,this._lazyLauncher=$Y.default(this._projectRoot,this._preferredRevision,this._isPuppeteerCore,this._productName)}return this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new bY.BrowserFetcher(this._projectRoot,e)}}LT=Ia.PuppeteerNode=wY;var SY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get PuppeteerNode(){return LT},default:Ia},[Ia])),EY=O(SY),Ws={exports:{}},Km={exports:{}},kc={exports:{}},xc={exports:{}},Rc={exports:{}},Nc={exports:{}};const zT=(t,...e)=>new Promise(r=>{r(t(...e))});Nc.exports=zT;Nc.exports.default=zT;var TY=Nc.exports,PY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:TY},[Nc.exports])),OY=O(PY);const CY=OY,qT=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const e=[];let r=0;const n=()=>{r--,e.length>0&&e.shift()()},i=(s,l,...u)=>{r++;const c=CY(s,...u);l(c),c.then(n,n)},o=(s,l,...u)=>{r<t?i(s,l,...u):e.push(i.bind(null,s,l,...u))},a=(s,...l)=>new Promise(u=>o(s,u,...l));return Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),a};Rc.exports=qT;Rc.exports.default=qT;var MY=Rc.exports,kY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:MY},[Rc.exports])),xY=O(kY);const UT=xY;class BT extends Error{constructor(e){super();this.value=e}}const RY=async(t,e)=>e(await t),NY=async t=>{const e=await Promise.all(t);if(e[1]===!0)throw new BT(e[0]);return!1},HT=async(t,e,r)=>{r=ge({concurrency:1/0,preserveOrder:!0},r);const n=UT(r.concurrency),i=[...t].map(a=>[a,n(RY,a,e)]),o=UT(r.preserveOrder?1:1/0);try{await Promise.all(i.map(a=>o(NY,a)))}catch(a){if(a instanceof BT)return a.value;throw a}};xc.exports=HT;xc.exports.default=HT;var IY=xc.exports,jY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:IY},[xc.exports])),AY=O(jY);const KT=ue,Ic=ue,{promisify:VT}=ue,FY=AY,LY=VT(Ic.stat),DY=VT(Ic.lstat),WT={directory:"isDirectory",file:"isFile"};function GT({type:t}){if(!(t in WT))throw new Error(`Invalid type specified: ${t}`)}const XT=(t,e)=>t===void 0||e[WT[t]]();kc.exports=async(t,e)=>{e=ge({cwd:process.cwd(),type:"file",allowSymlinks:!0},e),GT(e);const r=e.allowSymlinks?LY:DY;return FY(t,async n=>{try{const i=await r(KT.resolve(e.cwd,n));return XT(e.type,i)}catch(i){return!1}},e)};var zY=kc.exports.sync=(t,e)=>{e=ge({cwd:process.cwd(),allowSymlinks:!0,type:"file"},e),GT(e);const r=e.allowSymlinks?Ic.statSync:Ic.lstatSync;for(const n of t)try{const i=r(KT.resolve(e.cwd,n));if(XT(e.type,i))return n}catch(i){}},qY=kc.exports,UY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:qY,sync:zY},[kc.exports])),BY=O(UY),jc={exports:{}};const JT=ue,{promisify:HY}=ue,KY=HY(JT.access);jc.exports=async t=>{try{return await KY(t),!0}catch(e){return!1}};var VY=jc.exports.sync=t=>{try{return JT.accessSync(t),!0}catch(e){return!1}},WY=jc.exports,GY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:WY,sync:VY},[jc.exports])),XY=O(GY);(function(t){const e=ue,r=BY,n=XY,i=Symbol("findUp.stop");t.exports=async(o,a={})=>{let s=e.resolve(a.cwd||"");const{root:l}=e.parse(s),u=[].concat(o),c=async d=>{if(typeof o!="function")return r(u,d);const h=await o(d.cwd);return typeof h=="string"?r([h],d):h};for(;;){const d=await c(ot(ge({},a),{cwd:s}));if(d===i)return;if(d)return e.resolve(s,d);if(s===l)return;s=e.dirname(s)}},t.exports.sync=(o,a={})=>{let s=e.resolve(a.cwd||"");const{root:l}=e.parse(s),u=[].concat(o),c=d=>{if(typeof o!="function")return r.sync(u,d);const h=o(d.cwd);return typeof h=="string"?r.sync([h],d):h};for(;;){const d=c(ot(ge({},a),{cwd:s}));if(d===i)return;if(d)return e.resolve(s,d);if(s===l)return;s=e.dirname(s)}},t.exports.exists=n,t.exports.sync.exists=n.sync,t.exports.stop=i})(Km);var JY=Km.exports,YY=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:JY},[Km.exports])),QY=O(YY);const YT=ue,QT=QY,ZT=async t=>{const e=await QT("package.json",{cwd:t});return e&&YT.dirname(e)};Ws.exports=ZT;Ws.exports.default=ZT;var ZY=Ws.exports.sync=t=>{const e=QT.sync("package.json",{cwd:t});return e&&YT.dirname(e)},eQ=Ws.exports,tQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:eQ,sync:ZY},[Ws.exports])),rQ=O(tQ),nQ=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});var eP=Na.initializePuppeteerNode=void 0;const iQ=EY,tP=FT,oQ=nQ(rQ),aQ=t=>{const e=oQ.default.sync(__dirname);let r=tP.PUPPETEER_REVISIONS.chromium;const n=t==="puppeteer-core",i=n?void 0:{}.npm_package_config_puppeteer_product;return!n&&i==="firefox"&&(r=tP.PUPPETEER_REVISIONS.firefox),new iQ.PuppeteerNode({projectRoot:e,preferredRevision:r,isPuppeteerCore:n,productName:i})};eP=Na.initializePuppeteerNode=aQ;var sQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get initializePuppeteerNode(){return eP},default:Na},[Na])),uQ=O(sQ);Object.defineProperty(ep,"__esModule",{value:!0});const lQ=uQ,cQ=Nn;if(!cQ.isNode)throw new Error("Cannot run puppeteer-core outside of Node.js");const dQ=lQ.initializePuppeteerNode("puppeteer-core");var fQ=ep.default=dQ,hQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:fQ},[ep])),pQ=O(hQ);const mQ=pQ;var rP=mQ.default,_Q=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:rP},[rP])),nP=O(_Q),iP=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},oP=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ra,"__esModule",{value:!0});var aP=Ra.PioneerFactory=void 0,sP=nP,uP=pw,yQ=function(){function t(){}return t.launch=function(e){var r=this;return new Promise(function(n){return iP(r,void 0,void 0,function(){var i;return oP(this,function(o){switch(o.label){case 0:return[4,sP.launch(e)];case 1:return i=o.sent(),n(uP.Pioneer.create(i)),[2]}})})})},t.connect=function(e){var r=this;return new Promise(function(n){return iP(r,void 0,void 0,function(){var i;return oP(this,function(o){switch(o.label){case 0:return[4,sP.connect(e)];case 1:return i=o.sent(),n(uP.Pioneer.create(i)),[2]}})})})},t}();aP=Ra.PioneerFactory=yQ;var vQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get PioneerFactory(){return aP},default:Ra},[Ra])),gQ=O(vQ);(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=K&&K.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(pw,t),r(gQ,t),r(lw,t),r(Z$,t)})(Bh);var bQ=Pe(Bh),$Q=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:bQ},[Bh])),wQ=O($Q),Vm={};(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=K&&K.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(G$,t),r(J$,t),r(tw,t)})(Vm);var SQ=Pe(Vm),EQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:SQ},[Vm])),TQ=O(EQ),Wm={},Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});var PQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Gm},[Gm])),OQ=O(PQ),Gs={},CQ=K&&K.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MQ=K&&K.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Io=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},jo=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Gs,"__esModule",{value:!0});var lP=Gs.Utils=void 0,kQ=sn,xQ=Ml,RQ=function(t){CQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.type=function(r,n){return Io(this,void 0,void 0,function(){return jo(this,function(i){switch(i.label){case 0:return[4,this.page.click(r,{clickCount:3})];case 1:return i.sent(),[4,this.page.type(r,n)];case 2:return[2,i.sent()]}})})},e.prototype.value=function(r,n){return Io(this,void 0,void 0,function(){var i;return jo(this,function(o){switch(o.label){case 0:return n===void 0?[3,3]:[4,this.page.$(r)];case 1:return i=o.sent(),[4,this.page.evaluate(function(a,s){return a.value=s,a.value},i,n)];case 2:return[2,o.sent()];case 3:return[4,this.page.$eval(r,function(a){return a.value})];case 4:return[2,o.sent()]}})})},e.prototype.innerHTML=function(r){return Io(this,void 0,void 0,function(){return jo(this,function(n){switch(n.label){case 0:return[4,this.page.$eval(r,function(i){return i.innerHTML})];case 1:return[2,n.sent()]}})})},e.prototype.innerText=function(r){return Io(this,void 0,void 0,function(){return jo(this,function(n){switch(n.label){case 0:return[4,this.page.$eval(r,function(i){return i.innerText})];case 1:return[2,n.sent()]}})})},e.prototype.attr=function(r,n){return Io(this,void 0,void 0,function(){return jo(this,function(i){switch(i.label){case 0:return[4,this.page.$eval(r,function(o){return o[n]})];case 1:return[2,i.sent()]}})})},e.prototype.css=function(r,n){return Io(this,void 0,void 0,function(){var i;return jo(this,function(o){switch(o.label){case 0:return[4,this.page.$(r)];case 1:return i=o.sent(),[4,this.page.evaluate(function(a){return JSON.parse(JSON.stringify(window.getComputedStyle(a)))},i)];case 2:return[2,o.sent()]}})})},e=MQ([kQ.Injectable()],e),e}(xQ.InjectableScript);lP=Gs.Utils=RQ;var NQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",get Utils(){return lP},default:Gs},[Gs])),IQ=O(NQ);(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=K&&K.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ml,t),r(aw,t),r(OQ,t),r(iw,t),r(IQ,t)})(Wm);var jQ=Pe(Wm),AQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jQ},[Wm])),FQ=O(AQ);(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=K&&K.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(wQ,t),r(TQ,t),r(FQ,t)})(Uh);var LQ=Pe(Uh),DQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:LQ},[Uh])),Xn=O(DQ),Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.FromScriptName=void 0;function zQ(t){return t}Xs.FromScriptName=zQ;var cP={},Ao={},qQ=K&&K.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UQ=K&&K.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},dP=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},fP=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.CXLoginUtils=void 0;var BQ=sn,HQ=Xn,KQ=function(t){qQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.waitForCXLogin=function(){return dP(this,void 0,void 0,function(){var r=this;return fP(this,function(n){return[2,new Promise(function(i,o){var a=function(s){s.resourceType()==="document"&&r.isLogin()&&(r.page.off("request",a),i())};r.page.on("request",a)})]})})},e.prototype.isLogin=function(){return this.page.url().startsWith("http://i.mooc.chaoxing.com/space/index")},e.prototype.login=function(){return dP(this,void 0,void 0,function(){return fP(this,function(r){switch(r.label){case 0:return[4,Promise.all([this.waitForCXLogin(),this.page.click("#loginBtn")])];case 1:return r.sent(),[2]}})})},e=UQ([BQ.Injectable()],e),e}(HQ.InjectableScript);Ao.CXLoginUtils=KQ;(function(t){var e=K&&K.__extends||function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var f in _)Object.prototype.hasOwnProperty.call(_,f)&&(y[f]=_[f])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}(),r=K&&K.__decorate||function(d,h,p,y){var _=arguments.length,f=_<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,p):y,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,h,p,y);else for(var g=d.length-1;g>=0;g--)(m=d[g])&&(f=(_<3?m(f):_>3?m(h,p,f):m(h,p))||f);return _>3&&f&&Object.defineProperty(h,p,f),f},n=K&&K.__metadata||function(d,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,h)},i=K&&K.__awaiter||function(d,h,p,y){function _(f){return f instanceof p?f:new p(function(m){m(f)})}return new(p||(p=Promise))(function(f,m){function g(A){try{P(y.next(A))}catch(S){m(S)}}function w(A){try{P(y.throw(A))}catch(S){m(S)}}function P(A){A.done?f(A.value):_(A.value).then(g,w)}P((y=y.apply(d,h||[])).next())})},o=K&&K.__generator||function(d,h){var p={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},y,_,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(P){return function(A){return w([P,A])}}function w(P){if(y)throw new TypeError("Generator is already executing.");for(;p;)try{if(y=1,_&&(f=P[0]&2?_.return:P[0]?_.throw||((f=_.return)&&f.call(_),0):_.next)&&!(f=f.call(_,P[1])).done)return f;switch(_=0,f&&(P=[P[0]&2,f.value]),P[0]){case 0:case 1:f=P;break;case 4:return p.label++,{value:P[1],done:!1};case 5:p.label++,_=P[1],P=[0];continue;case 7:P=p.ops.pop(),p.trys.pop();continue;default:if(f=p.trys,!(f=f.length>0&&f[f.length-1])&&(P[0]===6||P[0]===2)){p=0;continue}if(P[0]===3&&(!f||P[1]>f[0]&&P[1]<f[3])){p.label=P[1];break}if(P[0]===6&&p.label<f[1]){p.label=f[1],f=P;break}if(f&&p.label<f[2]){p.label=f[2],p.ops.push(P);break}f[2]&&p.ops.pop(),p.trys.pop();continue}P=h.call(d,p)}catch(A){P=[6,A],_=0}finally{y=f=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CXPhoneLoginScript=t.CX_PHONE_LOGIN_URL=t.CX_PHONE_LOGIN_NAME=void 0;var a=Xn,s=sn,l=Ao;t.CX_PHONE_LOGIN_NAME="cx-phone-login",t.CX_PHONE_LOGIN_URL="https://passport2.chaoxing.com/login?loginType=2&newversion=true";var u=Xn,c=function(d){e(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.run=function(){return i(this,void 0,void 0,function(){return o(this,function(p){return[2]})})},h.prototype.login=function(p){return i(this,void 0,void 0,function(){var y,_,f,m;return o(this,function(g){switch(g.label){case 0:return y=p.loginInfo.cx.phoneLogin.phone,_=this,f=_.utils,m=_.loginUtils,[4,f.value("#phone",y)];case 1:return g.sent(),[4,m.waitForCXLogin()];case 2:return g.sent(),[2]}})})},r([s.Inject(),n("design:type",a.WaitForScript)],h.prototype,"waitFor",void 0),r([s.Inject(),n("design:type",a.Utils)],h.prototype,"utils",void 0),r([s.Inject(),n("design:type",l.CXLoginUtils)],h.prototype,"loginUtils",void 0),h=r([s.Runnable({name:t.CX_PHONE_LOGIN_NAME,url:t.CX_PHONE_LOGIN_URL})],h),h}(u.RunnableScript);t.CXPhoneLoginScript=c})(cP);var hP={},Ac={},Fc={exports:{}},pP=function(e,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(r,i)}},VQ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:pP},[pP])),mP=O(VQ),WQ=mP,Li=Object.prototype.toString;function Xm(t){return Li.call(t)==="[object Array]"}function Jm(t){return typeof t=="undefined"}function GQ(t){return t!==null&&!Jm(t)&&t.constructor!==null&&!Jm(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function XQ(t){return Li.call(t)==="[object ArrayBuffer]"}function JQ(t){return typeof FormData!="undefined"&&t instanceof FormData}function YQ(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function QQ(t){return typeof t=="string"}function ZQ(t){return typeof t=="number"}function _P(t){return t!==null&&typeof t=="object"}function Lc(t){if(Li.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function eZ(t){return Li.call(t)==="[object Date]"}function tZ(t){return Li.call(t)==="[object File]"}function rZ(t){return Li.call(t)==="[object Blob]"}function yP(t){return Li.call(t)==="[object Function]"}function nZ(t){return _P(t)&&yP(t.pipe)}function iZ(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function oZ(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function aZ(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Ym(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Xm(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Qm(){var t={};function e(i,o){Lc(t[o])&&Lc(i)?t[o]=Qm(t[o],i):Lc(i)?t[o]=Qm({},i):Xm(i)?t[o]=i.slice():t[o]=i}for(var r=0,n=arguments.length;r<n;r++)Ym(arguments[r],e);return t}function sZ(t,e,r){return Ym(e,function(i,o){r&&typeof i=="function"?t[o]=WQ(i,r):t[o]=i}),t}function uZ(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var vP={isArray:Xm,isArrayBuffer:XQ,isBuffer:GQ,isFormData:JQ,isArrayBufferView:YQ,isString:QQ,isNumber:ZQ,isObject:_P,isPlainObject:Lc,isUndefined:Jm,isDate:eZ,isFile:tZ,isBlob:rZ,isFunction:yP,isStream:nZ,isURLSearchParams:iZ,isStandardBrowserEnv:aZ,forEach:Ym,merge:Qm,extend:sZ,trim:oZ,stripBOM:uZ},lZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:vP},[vP])),rr=O(lZ),Fo=rr;function gP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var bP=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Fo.isURLSearchParams(r))i=r.toString();else{var o=[];Fo.forEach(r,function(l,u){l===null||typeof l=="undefined"||(Fo.isArray(l)?u=u+"[]":l=[l],Fo.forEach(l,function(d){Fo.isDate(d)?d=d.toISOString():Fo.isObject(d)&&(d=JSON.stringify(d)),o.push(gP(u)+"="+gP(d))}))}),i=o.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},cZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:bP},[bP])),$P=O(cZ),dZ=rr;function Dc(){this.handlers=[]}Dc.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Dc.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Dc.prototype.forEach=function(e){dZ.forEach(this.handlers,function(n){n!==null&&e(n)})};var wP=Dc,fZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:wP},[wP])),hZ=O(fZ),pZ=rr,SP=function(e,r){pZ.forEach(e,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[o])})},mZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:SP},[SP])),_Z=O(mZ),EP=function(e,r,n,i,o){return e.config=r,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},yZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:EP},[EP])),TP=O(yZ),vZ=TP,PP=function(e,r,n,i,o){var a=new Error(e);return vZ(a,r,n,i,o)},gZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:PP},[PP])),OP=O(gZ),bZ=OP,CP=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(bZ("Request failed with status code "+n.status,n.config,null,n.request,n))},$Z=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:CP},[CP])),wZ=O($Z),zc=rr,MP=zc.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var l=[];l.push(r+"="+encodeURIComponent(n)),zc.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),zc.isString(o)&&l.push("path="+o),zc.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),SZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:MP},[MP])),EZ=O(SZ),kP=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},TZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:kP},[kP])),PZ=O(TZ),xP=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},OZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:xP},[xP])),CZ=O(OZ),MZ=PZ,kZ=CZ,RP=function(e,r){return e&&!MZ(r)?kZ(e,r):r},xZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:RP},[RP])),RZ=O(xZ),Zm=rr,NZ=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],NP=function(e){var r={},n,i,o;return e&&Zm.forEach(e.split(`
`),function(s){if(o=s.indexOf(":"),n=Zm.trim(s.substr(0,o)).toLowerCase(),i=Zm.trim(s.substr(o+1)),n){if(r[n]&&NZ.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},IZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:NP},[NP])),jZ=O(IZ),IP=rr,jP=IP.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=IP.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),AZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:jP},[jP])),FZ=O(AZ),qc=O(JO);function e_(t){this.message=t}e_.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};e_.prototype.__CANCEL__=!0;var AP=e_,LZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:AP},[AP])),Uc=O(LZ),Bc=rr,DZ=wZ,zZ=EZ,qZ=$P,UZ=RZ,BZ=jZ,HZ=FZ,t_=OP,KZ=qc,VZ=Uc,FP=function(e){return new Promise(function(n,i){var o=e.data,a=e.headers,s=e.responseType,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}Bc.isFormData(o)&&delete a["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(d+":"+h)}var p=UZ(e.baseURL,e.url);c.open(e.method.toUpperCase(),qZ(p,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function y(){if(!!c){var f="getAllResponseHeaders"in c?BZ(c.getAllResponseHeaders()):null,m=!s||s==="text"||s==="json"?c.responseText:c.response,g={data:m,status:c.status,statusText:c.statusText,headers:f,config:e,request:c};DZ(function(P){n(P),u()},function(P){i(P),u()},g),c=null}}if("onloadend"in c?c.onloadend=y:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(y)},c.onabort=function(){!c||(i(t_("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(t_("Network Error",e,null,c)),c=null},c.ontimeout=function(){var m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",g=e.transitional||KZ.transitional;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),i(t_(m,e,g.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Bc.isStandardBrowserEnv()){var _=(e.withCredentials||HZ(p))&&e.xsrfCookieName?zZ.read(e.xsrfCookieName):void 0;_&&(a[e.xsrfHeaderName]=_)}"setRequestHeader"in c&&Bc.forEach(a,function(m,g){typeof o=="undefined"&&g.toLowerCase()==="content-type"?delete a[g]:c.setRequestHeader(g,m)}),Bc.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(f){!c||(i(!f||f&&f.type?new VZ("canceled"):f),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null),c.send(o)})},WZ=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:FP},[FP])),LP=O(WZ),Ct=rr,DP=_Z,GZ=TP,XZ={"Content-Type":"application/x-www-form-urlencoded"};function zP(t,e){!Ct.isUndefined(t)&&Ct.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function JZ(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=LP),t}function YZ(t,e,r){if(Ct.isString(t))try{return(e||JSON.parse)(t),Ct.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Hc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:JZ(),transformRequest:[function(e,r){return DP(r,"Accept"),DP(r,"Content-Type"),Ct.isFormData(e)||Ct.isArrayBuffer(e)||Ct.isBuffer(e)||Ct.isStream(e)||Ct.isFile(e)||Ct.isBlob(e)?e:Ct.isArrayBufferView(e)?e.buffer:Ct.isURLSearchParams(e)?(zP(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Ct.isObject(e)||r&&r["Content-Type"]==="application/json"?(zP(r,"application/json"),YZ(e)):e}],transformResponse:[function(e){var r=this.transitional||Hc.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Ct.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?GZ(a,this,"E_JSON_PARSE"):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ct.forEach(["delete","get","head"],function(e){Hc.headers[e]={}});Ct.forEach(["post","put","patch"],function(e){Hc.headers[e]=Ct.merge(XZ)});var qP=Hc,QZ=rr,ZZ=qc,UP=function(e,r,n){var i=this||ZZ;return QZ.forEach(n,function(a){e=a.call(i,e,r)}),e},eee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:UP},[UP])),tee=O(eee),BP=function(e){return!!(e&&e.__CANCEL__)},ree=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:BP},[BP])),HP=O(ree),KP=rr,r_=tee,nee=HP,iee=qc,oee=Uc;function n_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oee("canceled")}var VP=function(e){n_(e),e.headers=e.headers||{},e.data=r_.call(e,e.data,e.headers,e.transformRequest),e.headers=KP.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),KP.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||iee.adapter;return r(e).then(function(i){return n_(e),i.data=r_.call(e,i.data,i.headers,e.transformResponse),i},function(i){return nee(i)||(n_(e),i&&i.response&&(i.response.data=r_.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},aee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:VP},[VP])),see=O(aee),nr=rr,WP=function(e,r){r=r||{};var n={};function i(c,d){return nr.isPlainObject(c)&&nr.isPlainObject(d)?nr.merge(c,d):nr.isPlainObject(d)?nr.merge({},d):nr.isArray(d)?d.slice():d}function o(c){if(nr.isUndefined(r[c])){if(!nr.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],r[c])}function a(c){if(!nr.isUndefined(r[c]))return i(void 0,r[c])}function s(c){if(nr.isUndefined(r[c])){if(!nr.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,r[c])}function l(c){if(c in r)return i(e[c],r[c]);if(c in e)return i(void 0,e[c])}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return nr.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var h=u[d]||o,p=h(d);nr.isUndefined(p)&&h!==l||(n[d]=p)}),n},uee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:WP},[WP])),GP=O(uee),XP={version:"0.23.0"},lee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:XP},[XP])),JP=O(lee),cee=JP.version,i_={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){i_[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var YP={};i_.transitional=function(e,r,n){function i(o,a){return"[Axios v"+cee+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(e===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!YP[a]&&(YP[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,s):!0}};function dee(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],a=e[o];if(a){var s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(r!==!0)throw Error("Unknown option "+o)}}var QP={assertOptions:dee,validators:i_},fee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:QP},[QP])),hee=O(fee),ZP=rr,pee=$P,eO=hZ,tO=see,Kc=GP,rO=hee,Lo=rO.validators;function Js(t){this.defaults=t,this.interceptors={request:new eO,response:new eO}}Js.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Kc(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&rO.assertOptions(r,{silentJSONParsing:Lo.transitional(Lo.boolean),forcedJSONParsing:Lo.transitional(Lo.boolean),clarifyTimeoutError:Lo.transitional(Lo.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var a;if(!i){var s=[tO,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(e);s.length;)a=a.then(s.shift(),s.shift());return a}for(var l=e;n.length;){var u=n.shift(),c=n.shift();try{l=u(l)}catch(d){c(d);break}}try{a=tO(l)}catch(d){return Promise.reject(d)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Js.prototype.getUri=function(e){return e=Kc(this.defaults,e),pee(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};ZP.forEach(["delete","get","head","options"],function(e){Js.prototype[e]=function(r,n){return this.request(Kc(n||{},{method:e,url:r,data:(n||{}).data}))}});ZP.forEach(["post","put","patch"],function(e){Js.prototype[e]=function(r,n,i){return this.request(Kc(i||{},{method:e,url:r,data:n}))}});var nO=Js,mee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:nO},[nO])),_ee=O(mee),yee=Uc;function Do(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i){r.reason||(r.reason=new yee(i),e(r.reason))})}Do.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Do.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Do.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};Do.source=function(){var e,r=new Do(function(i){e=i});return{token:r,cancel:e}};var iO=Do,vee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:iO},[iO])),gee=O(vee),oO=function(e){return function(n){return e.apply(null,n)}},bee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:oO},[oO])),$ee=O(bee),aO=function(e){return typeof e=="object"&&e.isAxiosError===!0},wee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:aO},[aO])),See=O(wee),sO=rr,Eee=mP,Vc=_ee,Tee=GP,Pee=qc;function uO(t){var e=new Vc(t),r=Eee(Vc.prototype.request,e);return sO.extend(r,Vc.prototype,e),sO.extend(r,e),r.create=function(i){return uO(Tee(t,i))},r}var Gr=uO(Pee);Gr.Axios=Vc;Gr.Cancel=Uc;Gr.CancelToken=gee;Gr.isCancel=HP;Gr.VERSION=JP.version;Gr.all=function(e){return Promise.all(e)};Gr.spread=$ee;Gr.isAxiosError=See;Fc.exports=Gr;Fc.exports.default=Gr;var Oee=Fc.exports,Cee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:Oee},[Fc.exports])),Mee=O(Cee),lO=Mee,kee=Object.freeze(C({__proto__:null,[Symbol.toStringTag]:"Module",default:lO},[lO])),xee=O(kee),Ree=K&&K.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Nee=K&&K.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Iee=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.OCR=void 0;var jee=Iee(xee),Aee="http://api.ttshitu.com/predict",Fee=function(){function t(){}return t.resolve=function(e,r){var n=e.username,i=e.password,o=e.typeid,a=o===void 0?"1":o;return Ree(this,void 0,void 0,function(){var s,l,u,c,d;return Nee(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),s=r.toString("base64"),[4,jee.default.post(Aee,{username:n,password:i,typeid:a,image:s})];case 1:return l=h.sent(),u=l.data,u.success?(c=u.data,d=c.result,[2,d]):[2,void 0];case 2:return h.sent(),[2,void 0];case 3:return[2]}})})},t}();Ac.OCR=Fee;(function(t){var e=K&&K.__extends||function(){var p=function(y,_){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])},p(y,_)};return function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");p(y,_);function f(){this.constructor=y}y.prototype=_===null?Object.create(_):(f.prototype=_.prototype,new f)}}(),r=K&&K.__decorate||function(p,y,_,f){var m=arguments.length,g=m<3?y:f===null?f=Object.getOwnPropertyDescriptor(y,_):f,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,y,_,f);else for(var P=p.length-1;P>=0;P--)(w=p[P])&&(g=(m<3?w(g):m>3?w(y,_,g):w(y,_))||g);return m>3&&g&&Object.defineProperty(y,_,g),g},n=K&&K.__metadata||function(p,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,y)},i=K&&K.__awaiter||function(p,y,_,f){function m(g){return g instanceof _?g:new _(function(w){w(g)})}return new(_||(_=Promise))(function(g,w){function P(M){try{S(f.next(M))}catch(L){w(L)}}function A(M){try{S(f.throw(M))}catch(L){w(L)}}function S(M){M.done?g(M.value):m(M.value).then(P,A)}S((f=f.apply(p,y||[])).next())})},o=K&&K.__generator||function(p,y){var _={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function P(S){return function(M){return A([S,M])}}function A(S){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,m&&(g=S[0]&2?m.return:S[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,S[1])).done)return g;switch(m=0,g&&(S=[S[0]&2,g.value]),S[0]){case 0:case 1:g=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,m=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(g=_.trys,!(g=g.length>0&&g[g.length-1])&&(S[0]===6||S[0]===2)){_=0;continue}if(S[0]===3&&(!g||S[1]>g[0]&&S[1]<g[3])){_.label=S[1];break}if(S[0]===6&&_.label<g[1]){_.label=g[1],g=S;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(S);break}g[2]&&_.ops.pop(),_.trys.pop();continue}S=y.call(p,_)}catch(M){S=[6,M],m=0}finally{f=g=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CXUnitLoginScript=t.CX_UNIT_LOGIN_URL=t.CX_UNIT_LOGIN_NAME=void 0;var a=Ao,s=Xn,l=Ac,u=sn,c=Yc,d=Xn;t.CX_UNIT_LOGIN_NAME="cx-user-login",t.CX_UNIT_LOGIN_URL="https://passport2.chaoxing.com/login?loginType=3&newversion=true";var h=function(p){e(y,p);function y(){return p!==null&&p.apply(this,arguments)||this}return y.prototype.run=function(){return i(this,void 0,void 0,function(){return o(this,function(_){return[2]})})},y.prototype.login=function(_){return i(this,void 0,void 0,function(){var f,m,g,w,P,A,S;return o(this,function(M){switch(M.label){case 0:return f=_.loginInfo.cx.unitLogin,m=f.unitname,g=f.uname,w=f.password,P=this,A=P.utils,S=P.loginUtils,[4,A.value("#inputunitname",m)];case 1:return M.sent(),[4,A.value("#uname",g)];case 2:return M.sent(),[4,A.value("#password",w)];case 3:return M.sent(),c.StoreGet("setting").script.account.ocr.username===""?[3,9]:[4,this.breakCode(c.StoreGet("setting").script.account.ocr)];case 4:return M.sent()?[4,S.login()]:[3,6];case 5:return M.sent(),[3,8];case 6:return[4,S.waitForCXLogin()];case 7:M.sent(),M.label=8;case 8:return[3,11];case 9:return[4,S.waitForCXLogin()];case 10:M.sent(),M.label=11;case 11:return[2]}})})},y.prototype.getElementClip=function(_){return i(this,void 0,void 0,function(){return o(this,function(f){switch(f.label){case 0:return[4,this.page.evaluate(function(m){var g=document.querySelector(m);if(g){var w=g.getBoundingClientRect()||{},P=w.x,A=w.y,S=w.width,M=w.height;return{x:P,y:A,width:S,height:M}}},_)];case 1:return[2,f.sent()]}})})},y.prototype.breakCode=function(_){return i(this,void 0,void 0,function(){var f,m,g,w,P,A,S;return o(this,function(M){switch(M.label){case 0:return f=this,m=f.utils,g=f.waitFor,w=f.page,[4,this.getElementClip("#numVerCode")];case 1:return P=M.sent(),P?[4,this.page.screenshot({clip:P})]:[3,7];case 2:return A=M.sent(),A?[4,l.OCR.resolve(_,A)]:[3,7];case 3:return S=M.sent(),S&&S.trim()!==""?[4,m.value("#vercode",S)]:[3,7];case 4:return M.sent(),[4,w.click("#loginBtn")];case 5:return M.sent(),[4,g.documentReady()];case 6:return M.sent(),[2,!0];case 7:return[2,!1]}})})},r([u.Inject(),n("design:type",s.WaitForScript)],y.prototype,"waitFor",void 0),r([u.Inject(),n("design:type",s.Utils)],y.prototype,"utils",void 0),r([u.Inject(),n("design:type",a.CXLoginUtils)],y.prototype,"loginUtils",void 0),y=r([u.Runnable({name:t.CX_UNIT_LOGIN_NAME,url:t.CX_UNIT_LOGIN_URL})],y),y}(d.RunnableScript);t.CXUnitLoginScript=h})(hP);var cO={};(function(t){var e=K&&K.__extends||function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var f in _)Object.prototype.hasOwnProperty.call(_,f)&&(y[f]=_[f])},d(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}(),r=K&&K.__decorate||function(d,h,p,y){var _=arguments.length,f=_<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,p):y,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,h,p,y);else for(var g=d.length-1;g>=0;g--)(m=d[g])&&(f=(_<3?m(f):_>3?m(h,p,f):m(h,p))||f);return _>3&&f&&Object.defineProperty(h,p,f),f},n=K&&K.__metadata||function(d,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,h)},i=K&&K.__awaiter||function(d,h,p,y){function _(f){return f instanceof p?f:new p(function(m){m(f)})}return new(p||(p=Promise))(function(f,m){function g(A){try{P(y.next(A))}catch(S){m(S)}}function w(A){try{P(y.throw(A))}catch(S){m(S)}}function P(A){A.done?f(A.value):_(A.value).then(g,w)}P((y=y.apply(d,h||[])).next())})},o=K&&K.__generator||function(d,h){var p={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},y,_,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(P){return function(A){return w([P,A])}}function w(P){if(y)throw new TypeError("Generator is already executing.");for(;p;)try{if(y=1,_&&(f=P[0]&2?_.return:P[0]?_.throw||((f=_.return)&&f.call(_),0):_.next)&&!(f=f.call(_,P[1])).done)return f;switch(_=0,f&&(P=[P[0]&2,f.value]),P[0]){case 0:case 1:f=P;break;case 4:return p.label++,{value:P[1],done:!1};case 5:p.label++,_=P[1],P=[0];continue;case 7:P=p.ops.pop(),p.trys.pop();continue;default:if(f=p.trys,!(f=f.length>0&&f[f.length-1])&&(P[0]===6||P[0]===2)){p=0;continue}if(P[0]===3&&(!f||P[1]>f[0]&&P[1]<f[3])){p.label=P[1];break}if(P[0]===6&&p.label<f[1]){p.label=f[1],f=P;break}if(f&&p.label<f[2]){p.label=f[2],p.ops.push(P);break}f[2]&&p.ops.pop(),p.trys.pop();continue}P=h.call(d,p)}catch(A){P=[6,A],_=0}finally{y=f=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CXUserLoginScript=t.CX_USER_LOGIN_NAME=t.CX_USER_LOGIN_URL=void 0;var a=Xn,s=Xn,l=sn,u=Ao;t.CX_USER_LOGIN_URL="https://passport2.chaoxing.com/login?loginType=1&newversion=true",t.CX_USER_LOGIN_NAME="cx-user-login";var c=function(d){e(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.run=function(){return i(this,void 0,void 0,function(){return o(this,function(p){return[2]})})},h.prototype.login=function(p){return i(this,void 0,void 0,function(){var y,_,f,m,g,w;return o(this,function(P){switch(P.label){case 0:return y=p.loginInfo.cx.userLogin,_=y.phone,f=y.password,m=this,g=m.utils,w=m.loginUtils,[4,g.value("#phone",_)];case 1:return P.sent(),[4,g.value("#pwd",f)];case 2:return P.sent(),[4,w.login()];case 3:return P.sent(),[2]}})})},r([l.Inject(),n("design:type",a.WaitForScript)],h.prototype,"waitFor",void 0),r([l.Inject(),n("design:type",a.Utils)],h.prototype,"utils",void 0),r([l.Inject(),n("design:type",u.CXLoginUtils)],h.prototype,"loginUtils",void 0),h=r([l.Runnable({name:t.CX_USER_LOGIN_NAME,url:t.CX_USER_LOGIN_URL})],h),h}(s.RunnableScript);t.CXUserLoginScript=c})(cO);(function(t){var e=K&&K.__createBinding||(Object.create?function(p,y,_,f){f===void 0&&(f=_),Object.defineProperty(p,f,{enumerable:!0,get:function(){return y[_]}})}:function(p,y,_,f){f===void 0&&(f=_),p[f]=y[_]}),r=K&&K.__exportStar||function(p,y){for(var _ in p)_!=="default"&&!Object.prototype.hasOwnProperty.call(y,_)&&e(y,p,_)},n=K&&K.__awaiter||function(p,y,_,f){function m(g){return g instanceof _?g:new _(function(w){w(g)})}return new(_||(_=Promise))(function(g,w){function P(M){try{S(f.next(M))}catch(L){w(L)}}function A(M){try{S(f.throw(M))}catch(L){w(L)}}function S(M){M.done?g(M.value):m(M.value).then(P,A)}S((f=f.apply(p,y||[])).next())})},i=K&&K.__generator||function(p,y){var _={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function P(S){return function(M){return A([S,M])}}function A(S){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,m&&(g=S[0]&2?m.return:S[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,S[1])).done)return g;switch(m=0,g&&(S=[S[0]&2,g.value]),S[0]){case 0:case 1:g=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,m=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(g=_.trys,!(g=g.length>0&&g[g.length-1])&&(S[0]===6||S[0]===2)){_=0;continue}if(S[0]===3&&(!g||S[1]>g[0]&&S[1]<g[3])){_.label=S[1];break}if(S[0]===6&&_.label<g[1]){_.label=g[1],g=S;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(S);break}g[2]&&_.ops.pop(),_.trys.pop();continue}S=y.call(p,_)}catch(M){S=[6,M],m=0}finally{f=g=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.StartPuppeteer=t.FromScriptName=void 0;var o=Yc,a=Xn,s=Xs;Object.defineProperty(t,"FromScriptName",{enumerable:!0,get:function(){return s.FromScriptName}});var l=cP,u=hP,c=cO,d=nP;r(Xs,t);function h(p,y){var _;return n(this,void 0,void 0,function(){var f,m,g;return i(this,function(w){switch(w.label){case 0:return f=o.StoreGet("setting").script.launch.binaryPath,f?[4,d.launch({executablePath:f,defaultViewport:null,headless:!1})]:[3,3];case 1:return m=w.sent(),g=a.Pioneer.create(m),[4,g.startup({scripts:[c.CXUserLoginScript,l.CXPhoneLoginScript,u.CXUnitLoginScript],events:["request","response"]})];case 2:return w.sent(),y((_=g.runnableScripts)===null||_===void 0?void 0:_.find(function(P){return P.name===p})),[2,g];case 3:console.error("\u627E\u4E0D\u5230 chrome \u8DEF\u5F84!!!"),w.label=4;case 4:return[2]}})})}t.StartPuppeteer=h})(Ui);const Lee={id:"user-form"},Dee=Lr(" \u8D85\u661F "),zee=Lr(" \u667A\u6167\u6811 "),qee=Lr(" \u7528\u6237\u767B\u5F55 "),Uee=Lr(" \u624B\u673A\u9A8C\u8BC1\u7801\u767B\u5F55 "),Bee=Lr(" \u673A\u6784\u5355\u4F4D\u767B\u5F55 "),Hee={class:"space-10 flex"},Kee=Lr(" \u83B7\u53D6\u8BFE\u7A0B\u5217\u8868 "),dO=Gc({props:{btnText:{type:String,required:!0},user:{type:null,required:!1},mode:{type:String,required:!0}},emits:["ok"],setup(t,{emit:e}){const r=t,n=require("uuid"),{btnText:i,user:o,mode:a}=y_(r),s=TO((o==null?void 0:o.value)||u());function l(c){console.log("getCourseList",c),Ui.StartPuppeteer(c,d=>{const h=d;console.log("LoginScript",h),h==null||h.login(PO(s))})}function u(){return{uid:n.v4().replace(/-/g,""),name:"",loginTime:0,delete:!1,updateTime:Date.now(),createTime:Date.now(),platform:"cx",params:"userLogin",loginScript:"cx-user-login",course:[],loginInfo:{cx:{phoneLogin:{phone:""},unitLogin:{password:"",uname:"",unitname:""},userLogin:{password:"",phone:""}},zhs:{phoneLogin:{password:"",phone:""},studentIdLogin:{password:"",school:"",studentId:""}}}}}return(c,d)=>{const h=OO,p=CO,y=MO,_=kO,f=v_,m=g_,g=xO;return jt(),$n("div",Lee,[Ee(g,null,{default:xe(()=>[Ee(p,{label:"\u7528\u6237\u540D\u5B57/\u5907\u6CE8"},{default:xe(()=>[Ee(h,{value:Oe(s).name,"onUpdate:value":d[0]||(d[0]=w=>Oe(s).name=w)},null,8,["value"])]),_:1}),Ee(p,{label:"\u5E73\u53F0\u7C7B\u578B"},{default:xe(()=>[Ee(_,{"default-value":"cx",onChange:d[3]||(d[3]=w=>Oe(s).platform=w.target.value)},{default:xe(()=>[Ee(y,{value:"cx",onClick:d[1]||(d[1]=w=>Oe(s).params="userLogin")},{default:xe(()=>[Dee]),_:1}),Ee(y,{value:"zhs",onClick:d[2]||(d[2]=w=>Oe(s).params="phoneLogin")},{default:xe(()=>[zee]),_:1})]),_:1})]),_:1}),Ee(p,{label:"\u767B\u5F55\u7C7B\u578B"},{default:xe(()=>[Oe(s).platform==="cx"?(jt(),Qn(_,{key:0,"default-value":Oe(Ui.FromScriptName)("cx-user-login"),onChange:d[4]||(d[4]=w=>Oe(s).params=w.target.value)},{default:xe(()=>[Ee(y,{value:Oe(Ui.FromScriptName)("cx-user-login")},{default:xe(()=>[qee]),_:1},8,["value"]),Ee(y,{value:Oe(Ui.FromScriptName)("cx-phone-login")},{default:xe(()=>[Uee]),_:1},8,["value"]),Ee(y,{value:Oe(Ui.FromScriptName)("cx-unit-login")},{default:xe(()=>[Bee]),_:1},8,["value"])]),_:1},8,["default-value"])):tu("",!0)]),_:1}),Oe(s).platform==="cx"?(jt(),$n(Bo,{key:0},[Oe(s).loginScript==="cx-user-login"?(jt(),$n(Bo,{key:0},[Ee(p,{label:"\u8D26\u53F7"},{default:xe(()=>[Ee(h,{value:Oe(s).loginInfo.cx.userLogin.phone,"onUpdate:value":d[5]||(d[5]=w=>Oe(s).loginInfo.cx.userLogin.phone=w)},null,8,["value"])]),_:1}),Ee(p,{label:"\u5BC6\u7801"},{default:xe(()=>[Ee(h,{value:Oe(s).loginInfo.cx.userLogin.password,"onUpdate:value":d[6]||(d[6]=w=>Oe(s).loginInfo.cx.userLogin.password=w)},null,8,["value"])]),_:1})],64)):Oe(s).loginScript==="cx-phone-login"?(jt(),Qn(p,{key:1,label:"\u624B\u673A\u53F7"},{default:xe(()=>[Ee(h,{value:Oe(s).loginInfo.cx.phoneLogin.phone,"onUpdate:value":d[7]||(d[7]=w=>Oe(s).loginInfo.cx.phoneLogin.phone=w)},null,8,["value"])]),_:1})):Oe(s).loginScript==="cx-unit-login"?(jt(),$n(Bo,{key:2},[Ee(p,{label:"\u5B66\u6821/\u5355\u4F4D"},{default:xe(()=>[Ee(h,{value:Oe(s).loginInfo.cx.unitLogin.unitname,"onUpdate:value":d[8]||(d[8]=w=>Oe(s).loginInfo.cx.unitLogin.unitname=w)},null,8,["value"])]),_:1}),Ee(p,{label:"\u5DE5\u53F7/\u5B66\u53F7"},{default:xe(()=>[Ee(h,{value:Oe(s).loginInfo.cx.unitLogin.uname,"onUpdate:value":d[9]||(d[9]=w=>Oe(s).loginInfo.cx.unitLogin.uname=w)},null,8,["value"])]),_:1}),Ee(p,{label:"\u5BC6\u7801"},{default:xe(()=>[Ee(h,{value:Oe(s).loginInfo.cx.unitLogin.password,"onUpdate:value":d[10]||(d[10]=w=>Oe(s).loginInfo.cx.unitLogin.password=w)},null,8,["value"])]),_:1})],64)):tu("",!0)],64)):tu("",!0),Ee(p,{"wrapper-col":{span:12,offset:12}},{default:xe(()=>[qi("div",Hee,[Oe(a)==="create"?(jt(),Qn(f,{key:0,type:"primary",onClick:d[11]||(d[11]=w=>l("cx-user-login"))},{default:xe(()=>[Kee]),_:1})):tu("",!0),Oe(s).course.length===0?(jt(),Qn(m,{key:1,content:"\u8BF7\u5148\u83B7\u53D6\u8BFE\u7A0B\u5217\u8868\uFF0C\u4E4B\u540E\u624D\u80FD\u6DFB\u52A0 "},{default:xe(()=>[Ee(f,{type:"primary",disabled:!0},{default:xe(()=>[Lr(ru(Oe(i)),1)]),_:1})]),_:1})):(jt(),Qn(f,{key:2,type:"primary",onClick:d[12]||(d[12]=w=>e("ok",Oe(s)))},{default:xe(()=>[Lr(ru(Oe(i)),1)]),_:1}))])]),_:1})]),_:1})])}}}),Vee={class:"user-info"},Wee={class:"font-v4"},Gee=Gc({props:{user:{type:null,required:!0}},emits:["delete","modify"],setup(t,{emit:e}){const r=t,{user:n}=y_(r),i=Xc(!1);function o(){i.value=!1,e("modify",n.value)}function a(){i.value=!0}function s(){const l=require("puppeteer-core");console.log("core",l.launch({executablePath:"C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe",defaultViewport:null,headless:!1}))}return(l,u)=>{const c=RO,d=NO,h=g_,p=IO,y=jO,_=AO,f=FO,m=LO,g=b_,w=DO;return jt(),Qn(w,{hoverable:"",style:{width:"210px",margin:"8px"},bodyStyle:{padding:"12px",display:"flex",alignItems:"baseline"}},{actions:xe(()=>[Ee(h,{content:"\u5220\u9664"},{default:xe(()=>[Ee(d,{title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u8D26\u53F7\u5417","ok-text":"\u786E\u5B9A","cancel-text":"\u53D6\u6D88",onConfirm:u[0]||(u[0]=P=>e("delete",Oe(n)))},{default:xe(()=>[Ee(c)]),_:1})]),_:1}),Ee(h,{content:"\u4FEE\u6539"},{default:xe(()=>[Ee(p,{onClick:a})]),_:1}),Ee(h,{content:"\u542F\u52A8"},{default:xe(()=>[Ee(y,{onClick:s})]),_:1})]),default:xe(()=>[Ee(m,null,{title:xe(()=>[qi("span",Vee,[Lr(ru(Oe(n).name)+" ",1),qi("span",Wee,ru(Oe(n).loginInfo.phone||Oe(n).loginInfo.uname||Oe(n).loginInfo.studentId),1)])]),avatar:xe(()=>[Ee(f,null,{icon:xe(()=>[Ee(_)]),_:1})]),_:1}),Ee(g,{visible:i.value,"onUpdate:visible":u[1]||(u[1]=P=>i.value=P),title:"\u4FEE\u6539\u7528\u6237",footer:null,destroyOnClose:!0},{default:xe(()=>[Ee(dO,{onOk:o,btnText:"\u4FEE\u6539",user:Oe(n),mode:"modify"},null,8,["user"])]),_:1},8,["visible"])]),_:1})}}});const Xee={style:{"text-align":"center",padding:"0px 50px",height:"100%"}},Jee={key:0,style:{width:"100%",height:"100%"},class:"flex jc-center ac-center ai-center"},Yee=Lr(" \u6DFB\u52A0\u8D26\u53F7 "),Qee={style:{margin:"18px auto",width:"420px"}},Zee={class:"flex wrap"},ete={style:{width:"210px",height:"100px"},class:"flex ac-center ai-center jc-center add-card"},ute=Gc({setup(t){Jc.users&&(Jc.users=[]);const e=Jc.users,r=Xc(!1),n=Xc(""),i=u=>{r.value=!1,e.push(u),console.log("add-user",u),BO.success("\u521B\u5EFA\u6210\u529F!")};function o(u){return u.filter(d=>{if(d.name.indexOf(n.value)!==-1)return d;for(const h in d.loginInfo)if(d.loginInfo[h].toString().indexOf(n.value)!==-1)return d})}function a(u){e.splice(e.findIndex(c=>c.uid===u.uid),1)}function s(u){Object.assign(e,e.map(c=>c.uid===u.uid?u:c))}function l(){r.value=!0}return(u,c)=>{const d=HO,h=v_,p=qO,y=UO,_=b_;return jt(),$n("div",Xee,[Oe(e).length===0?(jt(),$n("div",Jee,[Ee(p,{description:""},{default:xe(()=>[Ee(h,{type:"primary",shape:"round",onClick:l},{icon:xe(()=>[Ee(d)]),default:xe(()=>[Yee]),_:1})]),_:1})])):(jt(),$n(Bo,{key:1},[qi("div",Qee,[Ee(y,{value:n.value,"onUpdate:value":c[0]||(c[0]=f=>n.value=f),placeholder:"\u8F93\u5165\u540D\u5B57\uFF0C\u6216\u8005\u5176\u4ED6\u4FE1\u606F\u7247\u6BB5","enter-button":"",style:{"border-radius":"12px"}},null,8,["value"])]),qi("div",Zee,[(jt(!0),$n(Bo,null,zO(o(Oe(e)),f=>(jt(),Qn(Gee,{user:f,onDelete:a,onModify:s},null,8,["user"]))),256)),qi("div",ete,[Ee(h,{type:"primary",shape:"circle",onClick:l},{icon:xe(()=>[Ee(d)]),_:1})])])],64)),Ee(_,{visible:r.value,"onUpdate:visible":c[1]||(c[1]=f=>r.value=f),title:"\u6DFB\u52A0\u7528\u6237",footer:null,destroyOnClose:!0},{default:xe(()=>[Ee(dO,{onOk:i,btnText:"\u6DFB\u52A0",mode:"create"})]),_:1},8,["visible"])])}}});export{ute as default};
