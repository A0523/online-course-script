import{d as k,r as w,o as d,c as E,a as p,t as h,u as n,b as e,w as t,M as ke,m as x,_ as xe,e as J,f as K,g as V,h as ee,i as te,j as A,k as v,l as we,n as le,p as Ie,q as Ue,s as ae,v as ie,x as Oe,y as ce,z as _e,A as Q,L as re,T as ne,K as pe,B as de,C as Se,D as me,E as Pe,F as Te,G as z,H as W,I as N,J as ue,N as fe,O as Ne,P as I,Q as ve,R as Fe,S as qe,U as Re,V as ye,W as je,X,Y as Le,Z as ze,$ as Y,a0 as We,a1 as Ge,a2 as Me,a3 as He,a4 as Ke,a5 as Ve,a6 as ge,a7 as Qe,a8 as Xe,a9 as Ye,aa as Ze,ab as Je,ac as et,ad as tt,ae as nt,af as ut,ag as ot,ah as st,ai as lt,aj as at,ak as it,al as he,am as Z,an as Be,ao as Ee,ap as ct,aq as be,ar as _t,as as rt,at as Ce,au as pt,av as dt,aw as mt,ax as ft,ay as vt}from"./vendor.e2a36570.js";const Ft=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}};Ft();const yt="online-course-script",gt="1.0.0",ht="./app/lib/electron/index.js",Bt={dev:'node clearn.js && cd ./app && tsc && cd .. &&   concurrently vite "ehmr -i app/**/*.js " ',build:"vue-tsc --noEmit && vite build",pack:"  cd app  && tsc && npm run pack",dist:"  cd app  && tsc && npm run dist",bp:"npm run build && npm run pack",bd:"npm run build && npm run dist",serve:"vite preview","pup:test":"cd ./app && tsc && node lib/test.js"},Et={"@ant-design/icons-vue":"^6.0.1","ant-design-vue":"^2.2.8",axios:"^0.22.0","electron-store":"^8.0.1","mark-ui":"^1.1.6",uuid:"^8.3.2",vue:"^3.2.6","vue-router":"^4.0.11"},bt={"@types/electron":"^1.6.10","@types/node":"^16.9.1","@vitejs/plugin-vue":"^1.9.3","@vue/cli-plugin-router":"~4.5.0","@vue/compiler-sfc":"^3.2.6",chalk:"^4.1.2",concurrently:"^6.2.1",electron:"^15.0.0","electron-builder":"^22.11.7","electron-hmr":"^1.1.7",less:"^4.1.1","less-loader":"^10.0.1","puppeteer-core":"^10.4.0",typescript:"^4.3.2",vite:"^2.6.3","vite-plugin-components":"^0.13.3","vue-tsc":"^0.3.0"},Ct="ocs - \u5728\u7EBF\u7F51\u7EDC\u8BFE\u7A0B\u8F85\u52A9\u5DE5\u5177",$t={type:"git",url:"git+https://github.com/enncy/online-course-script.git"},At=["ocs","script","puppeteer","electron","vue3","antdv"],Dt="enncy",kt="Apache-2.0",xt={url:"https://github.com/enncy/online-course-script/issues"},wt="https://github.com/enncy/online-course-script#readme";var O={name:yt,version:gt,main:ht,scripts:Bt,dependencies:Et,devDependencies:bt,description:Ct,repository:$t,keywords:At,author:Dt,license:kt,bugs:xt,homepage:wt};const It={class:"font-v4 flex nowrap height-24"},Ut={class:"flex nowrap space-10 jc-flex-start ai-center"},Ot={class:"flex nowrap space-10 jc-flex-end ai-center ac-center"},St={style:{cursor:"pointer",display:"flex"}},Pt={style:{cursor:"pointer",display:"flex"}},Tt=p("pre",null,`  \r
                     - \u672C\u8F6F\u4EF6\u5B8C\u5168\u5F00\u6E90\u514D\u8D39\uFF0C**\u8C28\u9632\u4E0A\u5F53\u53D7\u9A97** \uFF0C\u7981\u6B62\u7528\u4E8E\u5546\u4E1A\u7528\u9014\uFF0C\u4EC5\u4F9B\u5B66\u4E60\u4EA4\u6D41\u4F7F\u7528\r
                     - \u6B64\u8F6F\u4EF6\u4E0D\u4F1A\u6536\u96C6\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u6240\u6709\u4FE1\u606F\u5747\u4FDD\u5B58\u5230\u672C\u5730\r
                     - \u6B64\u8F6F\u4EF6\u6D89\u53CA\u5230\u7684\u811A\u672C\u5982\u6709\u4EFB\u4F55\u4FB5\u6743\u884C\u4E3A\uFF0C\u8BF7\u8054\u7CFB\u4F5C\u8005\u8FDB\u884C\u5220\u9664\r
                     - \u5982\u6709\u4EFB\u4F55\u7591\u95EE\uFF0C\u8BF7\u5230BUG\u53CD\u9988\u5904\u53CD\u9988\uFF0C\u6216\u8005\u76F4\u63A5\u8054\u7CFB\u4F5C\u8005\u90AE\u7BB1 **enncyemail@qq.com**\r
                    `,-1),Nt=k({setup(r){function c(){x.success("\u590D\u5236\u6210\u529F!")}const s=w(!1),u=()=>{s.value=!0},o=i=>{console.log(i),s.value=!1};return(i,l)=>{const g=xe,y=J,_=K;return d(),E("div",It,[p("div",Ut,[p("li",null,h(n(O).name)+" - v"+h(n(O).version),1)]),p("div",Ot,[p("span",St,[e(g,{title:"\u9996\u9875",class:"font-v2",onClick:l[0]||(l[0]=a=>i.$router.push("/"))})]),p("span",Pt,[e(y,{title:"\u5173\u4E8E",class:"font-v2",onClick:u})])]),e(_,{visible:s.value,"onUpdate:visible":l[1]||(l[1]=a=>s.value=a),title:"\u4F7F\u7528\u987B\u77E5",onOk:o,footer:!1},{default:t(()=>[p("p",null,[e(n(ke),{codeStyle:"github-dark",renderKey:"1",style:{"text-align":"left","letter-spacing":"1px"},raw:"",onCopy:c},{default:t(()=>[Tt]),_:1})])]),_:1},8,["visible"])])}}}),qt=require("electron-store"),q=new qt,Rt=q.get("setting"),U=V(Rt);ee(U,()=>{console.log("setting change",U),q.set("setting",U)});var j;(function(r){r.CX="cx",r.CX_LOGIN="cx-login",r.ZHS="zhs",r.ZHS_LOGIN="zhs-login",r.DEBUG="debug",r.INFO="info",r.WARN="warn",r.SUCCESS="success",r.ERROR="error",r.NOTIFY="notify"})(j||(j={}));var R;(function(r){r.APP_UPDATE="app-update",r.CANCEL_APP_UPDATE="cancel-app-update",r.IS_NEED_UPDATE="is-need-update",r.SCRIPT_LOGIN="script-login"})(R||(R={}));function jt(r){return{get:r+"-get",set:r+"-set",call:r+"-call",on:r+"-on",once:r+"-once"}}function Lt(r){if([1,2,3,4].includes(r))return"cx";if([5,6,7].includes(r))return"zhs"}const{ipcRenderer:L}=require("electron"),$e=require("uuid");function oe(r){const c=jt(r);return{get(s){return L.sendSync(c.get,[s])},set(s,u){return L.sendSync(c.set,[s,u])},call(s,...u){return L.sendSync(c.call,[s,...u])},on(s,u){const o=s+"-"+$e.v4().replace(/-/g,"");L.send(c.on,o),L.on(o,u)},once(s,u){const o=s+"-"+$e.v4().replace(/-/g,"");L.send(c.once,o),L.once(o,u)}}}const P={win:oe("win"),app:oe("app"),dialog:oe("dialog")};const zt=v(" \u8D26\u53F7\u7BA1\u7406 "),Wt=v(" \u4EFB\u52A1\u5217\u8868 "),Gt=v(" \u8BBE\u7F6E "),Mt=k({setup(r){const c=w(["1"]),{system:s}=U;return(u,o)=>{const i=we,l=le,g=Ie,y=Ue,_=ae,a=ie,m=te("IconFont"),f=Oe,b=ce,C=_e;return d(),A(C,null,{default:t(()=>[e(a,{span:20,class:"font-v3"},{default:t(()=>[e(_,{theme:"light",mode:"horizontal",selectedKeys:c.value,"onUpdate:selectedKeys":o[3]||(o[3]=$=>c.value=$)},{default:t(()=>[e(l,{key:"1",onClick:o[0]||(o[0]=$=>u.$router.push("/users"))},{default:t(()=>[e(i,{class:"icon"}),zt]),_:1}),e(l,{key:"2",onClick:o[1]||(o[1]=$=>u.$router.push("/task"))},{default:t(()=>[e(g,{class:"icon"}),Wt]),_:1}),e(l,{key:"3",onClick:o[2]||(o[2]=$=>u.$router.push("/setting/script"))},{default:t(()=>[e(y,{class:"icon"}),Gt]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),e(a,{span:4},{default:t(()=>[e(_,{theme:"light",mode:"horizontal",id:"operations",class:"flex jc-flex-end",selectable:!1},{default:t(()=>[e(l,{onClick:o[4]||(o[4]=$=>n(s).win.isAlwaysOnTop=!n(s).win.isAlwaysOnTop)},{default:t(()=>[n(s).win.isAlwaysOnTop?(d(),A(m,{key:0,title:"\u7F6E\u9876",type:"icon-relieve-full"})):(d(),A(m,{key:1,title:"\u53D6\u6D88\u7F6E\u9876",type:"icon-relieve"}))]),_:1}),e(l,{onClick:o[5]||(o[5]=$=>n(P).win.call("minimize")),title:"\u6700\u5C0F\u5316"},{default:t(()=>[e(f)]),_:1}),e(l,{onClick:o[6]||(o[6]=$=>n(P).win.call("close")),title:"\u6700\u5927\u5316"},{default:t(()=>[e(b)]),_:1})]),_:1})]),_:1})]),_:1})}}});const Ht=k({setup(r){const{ipcRenderer:c}=require("electron");return c.on(j.INFO,(s,u)=>{x.info(u)}),c.on(j.WARN,(s,u)=>{x.warn(u)}),c.on(j.SUCCESS,(s,u)=>{x.success(u)}),c.on(j.ERROR,(s,u)=>{x.error(u)}),c.on(j.NOTIFY,(s,u)=>{console.log(u);const o=u.name===R.APP_UPDATE,i={duration:o&&u.type==="info"?0:5,placement:"bottomRight",key:u.name,message:u.title,description:u.message,style:{padding:"12px"},class:"notification-message",onClose:()=>{o&&c.send(R.CANCEL_APP_UPDATE),Q.close(u.name)}};o&&u.type==="success"?(Q[u.type](i),setTimeout(()=>{Q.close(u.name)},5e3)):Q[u.type](i)}),(s,u)=>{const o=Se,i=te("router-view"),l=me,g=Nt,y=Pe,_=re;return d(),A(_,{class:"layout",style:{height:"100%"}},{default:t(()=>[e(o,{id:"layout-header"},{default:t(()=>[e(Mt)]),_:1}),e(l,{id:"layout-content"},{default:t(()=>[e(ne,{name:"fade"},{default:t(()=>[e(i,null,{default:t(({Component:a})=>[(d(),A(pe,null,[(d(),A(de(a)))],1024))]),_:1})]),_:1})]),_:1}),e(y,{id:"layout-footer"},{default:t(()=>[e(g)]),_:1})]),_:1})}}});const Kt={class:"font-v1",style:{"font-size":"42px",padding:"0px",margin:"24px 0px"}},Vt=v(" OCS "),Qt={class:"font-v1"},Xt=Te('<p class="space-8"><img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/enncy/OnlineCourseScript"><img alt="GitHub" src="https://img.shields.io/github/license/enncy/onlinecoursescript"><img alt="GitHub package.json version (branch)" src="https://img.shields.io/github/package-json/v/enncy/onlinecoursescript/v1.0"><img alt="GitHub repo size" src="https://img.shields.io/github/repo-size/enncy/OnlineCourseScript"></p>',1),Yt={style:{width:"100%","text-align":"left"}},Zt={style:{width:"450px",margin:"0 auto"}},Jt=p("a",{href:"https://ocs.enncy.cn/"},"https://ocs.enncy.cn/",-1),en=["href"],tn=p("a",{href:"https://github.com/enncy/online-course-script/discussions"},"https://github.com/enncy/online-course-script/discussions",-1),nn=["href"],un=k({setup(r){return(c,s)=>{const u=W,o=z;return d(),E("div",null,[p("p",Kt,[Vt,p("span",Qt,h(n(O).name),1)]),p("p",null,h(n(O).description),1),Xt,p("div",Yt,[p("div",Zt,[e(o,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(u,{label:"\u9879\u76EE\u540D"},{default:t(()=>[v(h(n(O).name),1)]),_:1}),e(u,{label:"\u7248\u672C"},{default:t(()=>[v(" v"+h(n(P).app.call("getVersion")),1)]),_:1}),e(u,{label:"\u4F5C\u8005"},{default:t(()=>[v(h(n(O).author),1)]),_:1}),e(u,{label:"\u6559\u7A0B"},{default:t(()=>[Jt]),_:1}),e(u,{label:"\u9879\u76EE\u5730\u5740"},{default:t(()=>[p("a",{href:n(O).homepage},h(n(O).homepage),9,en)]),_:1}),e(u,{label:"\u8BA8\u8BBA\u533A"},{default:t(()=>[tn]),_:1}),e(u,{label:"BUG\u53CD\u9988"},{default:t(()=>[p("a",{href:n(O).bugs.url},h(n(O).bugs.url),9,nn)]),_:1})]),_:1})])])])}}}),Ae=q.get("tasks");Ae||q.set("tasks",[]);const T=V(Ae||[]);ee(T,()=>{console.log(N(T)),q.set("tasks",N(T))});const on={class:"card"},sn={class:"title font-v2 flex ai-center"},ln={class:"body"},G=k({props:{color:{type:null,required:!0},title:{type:String,required:!1}},setup(r){const c=r,{color:s,title:u}=ue(c);return(o,i)=>{const l=Ne;return d(),E("div",on,[p("div",sn,[e(l,{color:n(s)},null,8,["color"]),fe(o.$slots,"title",{},()=>[v(h(n(u)),1)])]),p("div",ln,[fe(o.$slots,"body")])])}}});const an={id:"task-layout"},cn={key:0,style:{width:"100%",height:"100%"},class:"flex jc-center ac-center ai-center"},_n=v(" \u8BF7\u5728\u8D26\u53F7\u7BA1\u7406\u754C\u9762\u9009\u62E9\u8D26\u53F7\u542F\u52A8 "),rn={class:"flex jc-flex-start ai-baseline space-10"},pn={class:"font-v4"},dn={class:"flex jc-flex-end ai-center ac-center space-10"},mn=k({setup(r){const c=w(""),s=w(!1),u=w(void 0);function o(i){u.value=i,s.value=!0}return(i,l)=>{const g=Fe,y=ie,_=je,a=X,m=Le,f=ze,b=Y,C=We,$=ce,F=_e,D=W,M=z,H=K;return d(),E("div",an,[n(T).length===0?(d(),E("div",cn,[e(g,{description:""},{default:t(()=>[_n]),_:1})])):(d(!0),E(I,{key:1},ve(n(T),B=>(d(),E("div",null,[e(G,{color:"blue",onMousemove:S=>c.value=B.name,onMouseleave:l[0]||(l[0]=S=>c.value="")},{title:t(()=>[e(F,{class:"flex"},{default:t(()=>[e(y,{span:8},{default:t(()=>[p("span",rn,[p("span",null,h(B.user.name),1),p("span",pn,h(B.user.loginInfo.phone||B.user.loginInfo.uname||B.user.loginInfo.studentId),1)])]),_:2},1024),e(y,{span:16},{default:t(()=>[e(ne,{name:"fade"},{default:t(()=>[qe(p("span",dn,[B.pasue?(d(),A(a,{key:0,content:"\u5F00\u59CB"},{default:t(()=>[e(_,{style:{fontSize:"22px"},onClick:S=>B.pasue=!B.pasue},null,8,["onClick"])]),_:2},1024)):(d(),A(a,{key:1,content:"\u6682\u505C"},{default:t(()=>[e(m,{style:{fontSize:"24px"},onClick:S=>B.pasue=!B.pasue},null,8,["onClick"])]),_:2},1024)),e(a,{content:"\u4EFB\u52A1\u7F6E\u9876"},{default:t(()=>[e(b,{type:"primary",shape:"circle",size:"small"},{icon:t(()=>[e(f)]),_:1})]),_:1}),e(a,{content:"\u8BE6\u60C5"},{default:t(()=>[e(b,{type:"primary",shape:"circle",size:"small",onClick:S=>o(B)},{icon:t(()=>[e(C)]),_:2},1032,["onClick"])]),_:2},1024),e(a,{content:"\u5173\u95ED\u4EFB\u52A1"},{default:t(()=>[e(b,{type:"primary",shape:"circle",danger:"",size:"small",onClick:()=>{n(T).splice(n(T).findIndex(S=>S.name===B.name),1)}},{icon:t(()=>[e($)]),_:2},1032,["onClick"])]),_:2},1024)],512),[[Re,c.value===B.name]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove"])]))),256)),e(H,{visible:s.value,"onUpdate:visible":l[1]||(l[1]=B=>s.value=B),footer:!1},{default:t(()=>[u.value?(d(),A(M,{key:0,column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(D,{label:"\u6267\u884C\u7684\u811A\u672C\u540D"},{default:t(()=>[v(h(u.value.script),1)]),_:1}),e(D,{label:"\u8FD0\u884C\u72B6\u6001"},{default:t(()=>[v(h(u.value.pasue?"\u6682\u505C\u4E2D":"\u8FD0\u884C\u4E2D"),1)]),_:1}),u.value.status?(d(),E(I,{key:0},[e(D,{label:"\u5F00\u59CB\u65F6\u95F4"},{default:t(()=>[v(h(u.value.status.startTime),1)]),_:1}),e(D,{label:"\u5F53\u524D\u7F51\u5740"},{default:t(()=>[v(h(u.value.status.url),1)]),_:1}),e(D,{label:"\u5F53\u524D\u89C6\u9891\u4EFB\u52A1\u70B9"},{default:t(()=>[v(h(u.value.status.videos)+" \u4E2A ",1)]),_:1}),e(D,{label:"\u5F53\u524D\u7B54\u9898\u4EFB\u52A1\u70B9"},{default:t(()=>[v(h(u.value.status.qa)+" \u4E2A ",1)]),_:1})],64)):ye("",!0),e(D,{label:"\u4EFB\u52A1\u7F16\u53F7"},{default:t(()=>[v(h(u.value.name),1)]),_:1})]),_:1})):ye("",!0)]),_:1},8,["visible"])])}}});const fn=v(),vn=p("span",null," \u811A\u672C\u8BBE\u7F6E",-1),Fn=v(),yn=p("span",null," \u901A\u7528\u8BBE\u7F6E",-1),gn=v(),hn=p("span",null," \u7CFB\u7EDF\u8BBE\u7F6E",-1),Bn=v(),En=p("span",null," \u7248\u672C\u66F4\u65B0",-1),bn=k({setup(r){const c=w(["script"]);return(s,u)=>{const o=Ge,i=le,l=Me,g=He,y=Ke,_=ae,a=Ve,m=te("router-view"),f=me,b=re;return d(),A(b,{style:{background:"#fff",height:"100%"}},{default:t(()=>[e(a,{style:{background:"#fff"},collapsed:!0},{default:t(()=>[e(_,{mode:"inline",style:{height:"100%"},selectedKeys:c.value,"onUpdate:selectedKeys":u[4]||(u[4]=C=>c.value=C)},{default:t(()=>[e(i,{key:"script",class:"space-12",onClick:u[0]||(u[0]=C=>s.$router.push("/setting/script"))},{default:t(()=>[e(o),fn,vn]),_:1}),e(i,{key:"common",class:"space-12",onClick:u[1]||(u[1]=C=>s.$router.push("/setting/common"))},{default:t(()=>[e(l),Fn,yn]),_:1}),e(i,{key:"system",class:"space-12",onClick:u[2]||(u[2]=C=>s.$router.push("/setting/system"))},{default:t(()=>[e(g),gn,hn]),_:1}),e(i,{key:"version",class:"space-12",onClick:u[3]||(u[3]=C=>s.$router.push("/setting/version"))},{default:t(()=>[e(y),Bn,En]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),e(f,{id:"setting-content"},{default:t(()=>[e(ne,{name:"fade"},{default:t(()=>[e(m,null,{default:t(({Component:C})=>[(d(),A(pe,null,[(d(),A(de(C)))],1024))]),_:1})]),_:1})]),_:1})]),_:1})}}}),Cn=v("\u8D85\u661F\u8D26\u53F7\u767B\u5F55"),$n=v("\u8D85\u661F\u624B\u673A\u53F7\u7801\u767B\u5F55"),An=v("\u8D85\u661F\u673A\u6784\u767B\u5F55"),Dn=v("\u8D85\u661F\u624B\u52A8\u767B\u5F55"),kn=v("\u667A\u6167\u6811\u624B\u673A\u53F7\u767B\u5F55"),xn=v("\u667A\u6167\u6811\u5B66\u53F7\u767B\u5F55"),wn=v("\u667A\u6167\u6811\u624B\u52A8\u767B\u5F55"),In=v(" \u6682\u65E0\u8FD9\u79CD\u767B\u5F55\u65B9\u5F0F "),De=k({props:{btnText:{type:String,required:!0},user:{type:null,required:!1}},emits:["ok"],setup(r,{emit:c}){const s=r,u=require("uuid"),{btnText:o,user:i}=ue(s),l=V((i==null?void 0:i.value)||g());function g(){return{uid:u.v4().replace(/-/g,""),name:"",loginTime:0,delete:!1,updateTime:Date.now(),createTime:Date.now(),loginInfo:{type:1,phone:"",password:""}}}return(y,_)=>{const a=ge,m=Qe,f=Xe,b=Ye,C=Y,$=Ze;return d(),A($,{model:n(l),"label-col":{span:6},"wrapper-col":{span:14}},{default:t(()=>[e(m,{label:"\u540D\u5B57/\u5907\u6CE8"},{default:t(()=>[e(a,{value:n(l).name,"onUpdate:value":_[0]||(_[0]=F=>n(l).name=F)},null,8,["value"])]),_:1}),e(m,{label:"\u767B\u5F55\u7C7B\u578B"},{default:t(()=>[e(b,{value:n(l).loginInfo.type,"onUpdate:value":_[1]||(_[1]=F=>n(l).loginInfo.type=F)},{default:t(()=>[e(f,{value:1},{default:t(()=>[Cn]),_:1}),e(f,{value:2},{default:t(()=>[$n]),_:1}),e(f,{value:3},{default:t(()=>[An]),_:1}),e(f,{value:4},{default:t(()=>[Dn]),_:1}),e(f,{value:5},{default:t(()=>[kn]),_:1}),e(f,{value:6},{default:t(()=>[xn]),_:1}),e(f,{value:7},{default:t(()=>[wn]),_:1})]),_:1},8,["value"])]),_:1}),n(l).loginInfo.type===1?(d(),E(I,{key:0},[e(m,{label:"\u8D26\u53F7"},{default:t(()=>[e(a,{value:n(l).loginInfo.phone,"onUpdate:value":_[2]||(_[2]=F=>n(l).loginInfo.phone=F)},null,8,["value"])]),_:1}),e(m,{label:"\u5BC6\u7801"},{default:t(()=>[e(a,{value:n(l).loginInfo.password,"onUpdate:value":_[3]||(_[3]=F=>n(l).loginInfo.password=F)},null,8,["value"])]),_:1})],64)):n(l).loginInfo.type===2?(d(),A(m,{key:1,label:"\u624B\u673A\u53F7"},{default:t(()=>[e(a,{value:n(l).loginInfo.phone,"onUpdate:value":_[4]||(_[4]=F=>n(l).loginInfo.phone=F)},null,8,["value"])]),_:1})):n(l).loginInfo.type===3?(d(),E(I,{key:2},[e(m,{label:"\u5B66\u6821/\u5355\u4F4D"},{default:t(()=>[e(a,{value:n(l).loginInfo.unitname,"onUpdate:value":_[5]||(_[5]=F=>n(l).loginInfo.unitname=F)},null,8,["value"])]),_:1}),e(m,{label:"\u5DE5\u53F7/\u5B66\u53F7"},{default:t(()=>[e(a,{value:n(l).loginInfo.uname,"onUpdate:value":_[6]||(_[6]=F=>n(l).loginInfo.uname=F)},null,8,["value"])]),_:1}),e(m,{label:"\u5BC6\u7801"},{default:t(()=>[e(a,{value:n(l).loginInfo.password,"onUpdate:value":_[7]||(_[7]=F=>n(l).loginInfo.password=F)},null,8,["value"])]),_:1})],64)):n(l).loginInfo.type===4?(d(),E(I,{key:3},[],64)):n(l).loginInfo.type===5?(d(),E(I,{key:4},[e(m,{label:"\u624B\u673A\u53F7"},{default:t(()=>[e(a,{value:n(l).loginInfo.phone,"onUpdate:value":_[8]||(_[8]=F=>n(l).loginInfo.phone=F)},null,8,["value"])]),_:1}),e(m,{label:"\u5BC6\u7801"},{default:t(()=>[e(a,{value:n(l).loginInfo.password,"onUpdate:value":_[9]||(_[9]=F=>n(l).loginInfo.password=F)},null,8,["value"])]),_:1})],64)):n(l).loginInfo.type===6?(d(),E(I,{key:5},[e(m,{label:"\u5B66\u6821\u540D"},{default:t(()=>[e(a,{value:n(l).loginInfo.school,"onUpdate:value":_[10]||(_[10]=F=>n(l).loginInfo.school=F)},null,8,["value"])]),_:1}),e(m,{label:"\u5B66\u53F7"},{default:t(()=>[e(a,{value:n(l).loginInfo.studentId,"onUpdate:value":_[11]||(_[11]=F=>n(l).loginInfo.studentId=F)},null,8,["value"])]),_:1}),e(m,{label:"\u5BC6\u7801"},{default:t(()=>[e(a,{value:n(l).loginInfo.password,"onUpdate:value":_[12]||(_[12]=F=>n(l).loginInfo.password=F)},null,8,["value"])]),_:1})],64)):n(l).loginInfo.type===7?(d(),E(I,{key:6},[],64)):(d(),E(I,{key:7},[In],64)),e(m,{"wrapper-col":{span:4,offset:16}},{default:t(()=>[e(C,{type:"primary",onClick:_[13]||(_[13]=F=>c("ok",n(l)))},{default:t(()=>[v(h(n(o)),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),Un={class:"user-info"},On={class:"font-v4"},Sn=k({props:{user:{type:null,required:!0}},emits:["delete","modify"],setup(r,{emit:c}){const s=r,{ipcRenderer:u}=require("electron"),{user:o}=ue(s),i=w(!1);function l(){i.value=!1,c("modify",o.value)}function g(){i.value=!0}function y(){const _=o.value,a=Lt(_.loginInfo.type),m=a+"-"+_.loginInfo.type+"-"+_.uid;if(a)if(T.find(f=>f.name===m))x.warn("\u8BE5\u8D26\u53F7\u5DF2\u7ECF\u542F\u52A8!");else{const f={name:m,script:a,user:N(_),ocrOptions:N(U.script.account.ocr),pasue:!1};T.push(f),console.log(N(f)),u.send(R.SCRIPT_LOGIN,N(f)),x.success("\u5DF2\u6DFB\u52A0\u81F3\u4EFB\u52A1\u5217\u8868!")}else x.error("\u4EFB\u52A1\u542F\u52A8\u5931\u8D25, \u672A\u77E5\u7684\u767B\u5F55\u7C7B\u578B")}return(_,a)=>{const m=Je,f=et,b=X,C=tt,$=nt,F=ut,D=ot,M=st,H=K,B=lt;return d(),A(B,{hoverable:"",style:{width:"210px",margin:"8px"},bodyStyle:{padding:"12px",display:"flex",alignItems:"baseline"}},{actions:t(()=>[e(b,{content:"\u5220\u9664"},{default:t(()=>[e(f,{title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u8D26\u53F7\u5417","ok-text":"\u786E\u5B9A","cancel-text":"\u53D6\u6D88",onConfirm:a[0]||(a[0]=S=>c("delete",n(o)))},{default:t(()=>[e(m)]),_:1})]),_:1}),e(b,{content:"\u4FEE\u6539"},{default:t(()=>[e(C,{onClick:g})]),_:1}),e(b,{content:"\u542F\u52A8"},{default:t(()=>[e($,{onClick:y})]),_:1})]),default:t(()=>[e(M,null,{title:t(()=>[p("span",Un,[v(h(n(o).name)+" ",1),p("span",On,h(n(o).loginInfo.phone||n(o).loginInfo.uname||n(o).loginInfo.studentId),1)])]),avatar:t(()=>[e(D,null,{icon:t(()=>[e(F)]),_:1})]),_:1}),e(H,{visible:i.value,"onUpdate:visible":a[1]||(a[1]=S=>i.value=S),title:"\u4FEE\u6539\u7528\u6237",footer:null,width:"400px",destroyOnClose:!0},{default:t(()=>[e(De,{onOk:l,btnText:"\u4FEE\u6539",user:n(o)},null,8,["user"])]),_:1},8,["visible"])]),_:1})}}});const Pn={style:{"text-align":"center",padding:"0px 50px",height:"100%"}},Tn={key:0,style:{width:"100%",height:"100%"},class:"flex jc-center ac-center ai-center"},Nn=v(" \u6DFB\u52A0\u8D26\u53F7 "),qn={style:{margin:"18px auto",width:"420px"}},Rn={class:"flex wrap"},jn={style:{width:"210px",height:"100px"},class:"flex ac-center ai-center jc-center add-card"},Ln=k({setup(r){const c=q.get("users");c||q.set("users",[]);const s=V(c||[]),u=w(!1),o=w(""),i=a=>{u.value=!1,s.push(a),console.log("add-user",a),x.success("\u521B\u5EFA\u6210\u529F!")};function l(a){return a.filter(f=>{if(f.name.indexOf(o.value)!==-1)return f;for(const b in f.loginInfo)if(f.loginInfo[b].toString().indexOf(o.value)!==-1)return f})}function g(a){s.splice(s.findIndex(m=>m.uid===a.uid),1)}function y(a){Object.assign(s,s.map(m=>m.uid===a.uid?a:m))}function _(){u.value=!0}return ee(s,()=>{console.log(N(s)),q.set("users",N(s))}),(a,m)=>{const f=it,b=Y,C=Fe,$=at,F=K;return d(),E("div",Pn,[n(s).length===0?(d(),E("div",Tn,[e(C,{description:""},{default:t(()=>[e(b,{type:"primary",shape:"round",onClick:_},{icon:t(()=>[e(f)]),default:t(()=>[Nn]),_:1})]),_:1})])):(d(),E(I,{key:1},[p("div",qn,[e($,{value:o.value,"onUpdate:value":m[0]||(m[0]=D=>o.value=D),placeholder:"\u8F93\u5165\u540D\u5B57\uFF0C\u6216\u8005\u5176\u4ED6\u4FE1\u606F\u7247\u6BB5","enter-button":"",style:{"border-radius":"12px"}},null,8,["value"])]),p("div",Rn,[(d(!0),E(I,null,ve(l(n(s)),D=>(d(),A(Sn,{user:D,onDelete:g,onModify:y},null,8,["user"]))),256)),p("div",jn,[e(b,{type:"primary",shape:"circle",onClick:_},{icon:t(()=>[e(f)]),_:1})])])],64)),e(F,{visible:u.value,"onUpdate:visible":m[1]||(m[1]=D=>u.value=D),title:"\u6DFB\u52A0\u7528\u6237",footer:null,width:"400px",destroyOnClose:!0},{default:t(()=>[e(De,{onOk:i,btnText:"\u6DFB\u52A0"})]),_:1},8,["visible"])])}}}),zn={class:"space-10"},Wn=k({setup(r){const{common:c}=U;return(s,u)=>{const o=he,i=J,l=X,g=W,y=z,_=G;return d(),E("div",null,[e(_,{bordered:!1,color:"blue",title:"\u4EFB\u52A1\u8BBE\u7F6E"},{body:t(()=>[e(y,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(g,{label:"\u6700\u5927\u4EFB\u52A1\u6570\u91CF"},{default:t(()=>[p("span",zn,[e(o,{size:"small",value:n(c).task.maxTasks,"onUpdate:value":u[0]||(u[0]=a=>n(c).task.maxTasks=a),min:1,max:20},null,8,["value"]),e(l,{placement:"rightTop",content:"\u4EFB\u52A1\u5217\u8868\u91CC\u9762\u7684\u6700\u5927\u4EFB\u52A1\u6570\u91CF\uFF0C\u6BCF\u4E00\u4E2A\u542F\u52A8\u7684\u6D4F\u89C8\u5668\u5C31\u4EE3\u8868\u4E00\u4E2A\u4EFB\u52A1\uFF0C\u5982\u679C\u4EFB\u52A1\u8FC7\u591A\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7535\u8111\u5361\u987F\uFF0C\u8BF7\u8C28\u614E\u8BBE\u7F6E"},{default:t(()=>[e(i)]),_:1})])]),_:1})]),_:1})]),_:1})])}}});Z.interceptors.request.use(function(r){return r},function(r){return Promise.reject(r)});Z.interceptors.response.use(function(r){return r},function(r){return Promise.reject(r)});const Gn=Z.create({method:"get",timeout:5*60*1e3});Z.create({method:"post",timeout:5*60*1e3});const Mn={class:"space-10 flex ai-center"},Hn=v("\u81EA\u52A8\u64AD\u653E\u89C6\u9891"),Kn=v("\u81EA\u52A8\u7B54\u9898"),Vn={class:"space-10 ai-center"},Qn={key:0,class:"space-10"},Xn=p("span",null,"\u6B63\u5728\u52A0\u8F7D\u67E5\u9898\u4FE1\u606F",-1),Yn={class:"space-10"},Zn=p("span",null,"\u56FE\u5F62\u9A8C\u8BC1\u7801\u7834\u89E3(OCR)\u8BBE\u7F6E",-1),Jn={class:"space-10"},eu={class:"space-10"},tu=p("a",{href:"http://www.ttshitu.com/login.html"},"http://www.ttshitu.com/login.html",-1),nu=k({setup(r){const{shell:c}=require("electron"),{script:s}=U,u=w(!0);let o=w({all_times:0,query_times:0,success_times:0,msg:""});Be(()=>{i()});function i(){u.value=!0,Gn({url:"http://wk.enncy.cn/query/chatiId/"+s.account.queryToken}).then(g=>{g.data.code===1?o.value=g.data.data:o.value.msg="\u67E5\u9898\u7801\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u586B\u5199",u.value=!1}).catch(g=>{x.error("\u83B7\u53D6\u67E5\u9898\u6B21\u6570\u5931\u8D25")})}function l(){s.launch.binaryPath=P.dialog.call("showOpenDialogSync",{properties:["openFile"],multiSelections:!1,defaultPath:s.launch.binaryPath}).pop()}return(g,y)=>{const _=Ee,a=J,m=X,f=W,b=z,C=G,$=ct,F=ge,D=be,M=_t,H=rt;return d(),E("div",null,[e(C,{bordered:!1,color:"blue",title:"\u542F\u52A8\u8BBE\u7F6E"},{body:t(()=>[e(b,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(f,{label:"\u6D4F\u89C8\u5668\u8DEF\u5F84"},{default:t(()=>[p("div",Mn,[p("span",{class:"path",onClick:y[0]||(y[0]=B=>n(s).launch.binaryPath&&n(c).openPath(n(s).launch.binaryPath))},h(n(s).launch.binaryPath||"\u672A\u8BBE\u7F6E"),1),e(_,{onClick:y[1]||(y[1]=B=>l())})]),e(m,{placement:"rightTop",content:"\u8F6F\u4EF6\u4F1A\u81EA\u52A8\u68C0\u6D4B\u60A8\u7684\u8C37\u6B4C\u6D4F\u89C8\u5668\u8DEF\u5F84\uFF0C\u5F53\u8DEF\u5F84\u672A\u8BBE\u7F6E\uFF0C\u6216\u8005\u4F60\u9700\u8981\u8BBE\u7F6E\u5176\u4ED6\u6D4F\u89C8\u5668\u8FDB\u884C\u811A\u672C\u64CD\u4F5C\uFF0C\u4F60\u53EF\u4EE5\u70B9\u51FB\u84DD\u8272\u7684\u56FE\u7247\u8FDB\u884C\u6D4F\u89C8\u5668\u7684\u8DEF\u5F84\u8BBE\u7F6E"},{default:t(()=>[e(a)]),_:1})]),_:1})]),_:1})]),_:1}),e(C,{bordered:!1,color:"blue",title:"\u811A\u672C\u8BBE\u7F6E"},{body:t(()=>[e(b,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(f,{label:"\u529F\u80FD\u542F\u7528"},{default:t(()=>[e($,{checked:n(s).script.video,"onUpdate:checked":y[2]||(y[2]=B=>n(s).script.video=B)},{default:t(()=>[Hn]),_:1},8,["checked"]),e($,{checked:n(s).script.video,"onUpdate:checked":y[3]||(y[3]=B=>n(s).script.video=B)},{default:t(()=>[Kn]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1}),e(C,{bordered:!1,color:"blue",title:"\u67E5\u9898\u8BBE\u7F6E"},{body:t(()=>[e(b,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(f,{label:"\u67E5\u9898\u7801"},{default:t(()=>[p("span",Vn,[p("span",null,[e(F,{type:"text",size:"small",style:{width:"300px"},value:n(s).account.queryToken,"onUpdate:value":y[4]||(y[4]=B=>n(s).account.queryToken=B),onBlur:i},null,8,["value"])]),e(m,{placement:"rightTop",content:"\u5FC5\u987B\u914D\u7F6E\u67E5\u9898\u7801\u624D\u80FD\u4F7F\u7528\u81EA\u52A8\u7B54\u9898"},{default:t(()=>[e(a)]),_:1})])]),_:1}),u.value?(d(),E("span",Qn,[Xn,e(D)])):n(o).msg?(d(),A(f,{key:1,label:"\u63D0\u793A"},{default:t(()=>[e(M,{"show-icon":"",message:n(o).msg,type:"error",style:{height:"24px"}},null,8,["message"])]),_:1})):(d(),E(I,{key:2},[e(f,{label:"\u5269\u4F59\u6B21\u6570"},{default:t(()=>[v(h(n(o).query_times),1)]),_:1}),e(f,{label:"\u6210\u529F\u6B21\u6570"},{default:t(()=>[v(h(n(o).success_times),1)]),_:1}),e(f,{label:"\u603B\u67E5\u8BE2\u6B21\u6570"},{default:t(()=>[v(h(n(o).all_times),1)]),_:1})],64))]),_:1})]),_:1}),e(C,{bordered:!1,color:"blue"},{title:t(()=>[p("span",Yn,[Zn,e(m,{placement:"rightTop",content:"\u5F53\u811A\u672C\u9047\u5230\u9A8C\u8BC1\u7801\u7684\u65F6\u5019\u5FC5\u987B\u8BBE\u7F6E\uFF0C\u5426\u5219\u9700\u624B\u52A8\u8F93\u5165\u9A8C\u8BC1\u7801\u9A8C\u8BC1"},{default:t(()=>[e(a)]),_:1})])]),body:t(()=>[e(b,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(f,{label:"\u8D26\u53F7"},{default:t(()=>[p("span",Jn,[e(F,{value:n(s).account.ocr.username,"onUpdate:value":y[5]||(y[5]=B=>n(s).account.ocr.username=B),type:"text",size:"small",style:{width:"200px"}},null,8,["value"])])]),_:1}),e(f,{label:"\u5BC6\u7801"},{default:t(()=>[p("span",eu,[e(H,{value:n(s).account.ocr.password,"onUpdate:value":y[6]||(y[6]=B=>n(s).account.ocr.password=B),size:"small",style:{width:"200px"}},null,8,["value"])])]),_:1}),e(f,{label:"\u8D26\u53F7\u6CE8\u518C"},{default:t(()=>[tu]),_:1})]),_:1})]),_:1})])}}});const uu={class:"space-10 flex ai-center"},ou={class:"space-10 flex ai-center"},su=k({setup(r){const c=U.system,{shell:s}=require("electron");function u(o){U.system.path[o]=P.dialog.call("showOpenDialogSync",{properties:["openDirectory"],multiSelections:!1,defaultPath:U.system.path[o]}).pop()}return(o,i)=>{const l=Ce,g=W,y=z,_=Ee;return d(),E("div",null,[e(G,{bordered:!1,color:"blue",title:"\u7CFB\u7EDF\u8BBE\u7F6E"},{body:t(()=>[e(y,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(g,{label:"\u7A97\u53E3\u7F6E\u9876"},{default:t(()=>[e(l,{checked:n(c).win.isAlwaysOnTop,"onUpdate:checked":i[0]||(i[0]=a=>n(c).win.isAlwaysOnTop=a),onChange:i[1]||(i[1]=a=>n(P).win.call("setAlwaysOnTop",n(c).win.isAlwaysOnTop))},null,8,["checked"])]),_:1})]),_:1})]),_:1}),e(G,{bordered:!1,color:"blue",title:"\u8DEF\u5F84\u8BBE\u7F6E"},{body:t(()=>[e(y,{column:1,labelStyle:{fontWeight:"bold"}},{default:t(()=>[e(g,{label:"\u8F6F\u4EF6\u8DEF\u5F84"},{default:t(()=>[v(h(n(P).app.call("getAppPath")),1)]),_:1}),e(g,{label:"\u53EF\u6267\u884C\u6587\u4EF6"},{default:t(()=>[v(h(n(P).app.call("getPath","exe")),1)]),_:1}),e(g,{label:"\u7528\u6237\u6570\u636E"},{default:t(()=>[p("div",uu,[p("span",{class:"path",onClick:i[2]||(i[2]=a=>n(s).openPath(n(c).path.userData))},h(n(c).path.userData),1),e(_,{onClick:i[3]||(i[3]=a=>u("userData"))})])]),_:1}),e(g,{label:"\u65E5\u5FD7\u5B58\u50A8"},{default:t(()=>[p("div",ou,[p("span",{class:"path",onClick:i[4]||(i[4]=a=>n(s).openPath(n(c).path.logs))},h(n(c).path.logs),1),e(_,{onClick:i[5]||(i[5]=a=>u("logs"))})])]),_:1})]),_:1})]),_:1})])}}}),lu={class:"space-10 flex"},au={key:1},iu=v("\u9700\u8981\u66F4\u65B0"),cu={key:2},_u=v("\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C"),ru={class:"space-10"},pu=p("span",null,"\u5C0F\u65F6",-1),du={class:"space-10"},mu=v("\u66F4\u65B0\u68C0\u6D4B"),fu=v(" \u66F4\u65B0 "),vu=k({setup(r){const{update:c}=U,{ipcRenderer:s}=require("electron"),u=w(-1);function o(){u.value=-1,u.value=s.sendSync(R.IS_NEED_UPDATE)?1:0,u.value===1?x.warn("\u9700\u8981\u66F4\u65B0"):x.success("\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C")}function i(){s.send(R.APP_UPDATE)}return Be(()=>{u.value=s.sendSync(R.IS_NEED_UPDATE)?1:0}),(l,g)=>{const y=be,_=pt,a=W,m=Ce,f=he,b=z,C=Y,$=G;return d(),E("div",null,[e($,{bordered:!1,color:"blue",style:{"text-align":"right"},title:"\u66F4\u65B0\u8BBE\u7F6E"},{body:t(()=>[e(b,{column:1,labelStyle:{fontWeight:"bold",height:"32px"}},{default:t(()=>[e(a,{label:"\u5F53\u524D\u7248\u672C"},{default:t(()=>[p("span",lu,[p("span",null,h(n(P).app.call("getVersion")),1),u.value===-1?(d(),A(y,{key:0})):u.value===1?(d(),E("div",au,[e(_,{color:"#f50"},{default:t(()=>[iu]),_:1})])):(d(),E("div",cu,[e(_,{color:"#87d068"},{default:t(()=>[_u]),_:1})]))])]),_:1}),e(a,{label:"\u4E0A\u6B21\u68C0\u6D4B\u65F6\u95F4"},{default:t(()=>[v(h(new Date(n(c).lastTime).toLocaleString()),1)]),_:1}),e(a,{label:"\u81EA\u52A8\u66F4\u65B0"},{default:t(()=>[e(m,{checked:n(c).autoUpdate,"onUpdate:checked":g[0]||(g[0]=F=>n(c).autoUpdate=F)},null,8,["checked"])]),_:1}),e(a,{label:"\u81EA\u52A8\u66F4\u65B0\u95F4\u9694"},{default:t(()=>[p("div",ru,[e(f,{size:"small",min:1,max:24,"default-value":1,value:n(c).hour,"onUpdate:value":g[1]||(g[1]=F=>n(c).hour=F),disabled:!n(c).autoUpdate},null,8,["value","disabled"]),pu])]),_:1})]),_:1}),p("div",du,[e(C,{type:"primary",onClick:o},{default:t(()=>[mu]),_:1}),e(C,{type:"primary",onClick:i},{default:t(()=>[fu]),_:1})])]),_:1})])}}}),se=dt({history:mt(),routes:[{path:"/",name:"index",component:un,meta:{desc:"\u5173\u4E8E"}},{path:"/task",name:"task",component:mn,meta:{desc:"\u4EFB\u52A1\u5217\u8868"}},{path:"/setting",name:"setting",component:bn,children:[{path:"common",name:"setting-common",component:Wn,meta:{desc:"\u901A\u7528\u8BBE\u7F6E"}},{path:"script",name:"setting-script",component:nu,meta:{desc:"\u811A\u672C\u8BBE\u7F6E"}},{path:"system",name:"setting-system",component:su,meta:{desc:"\u7CFB\u7EDF\u8BBE\u7F6E"}},{path:"version",name:"setting-version-update",component:vu,meta:{desc:"\u7248\u672C\u66F4\u65B0"}}],meta:{desc:"\u8BBE\u7F6E"}},{path:"/users",name:"users",component:Ln,meta:{desc:"\u8D26\u53F7\u7BA1\u7406"}},{path:"/:catchAll(.*)",name:"404",redirect:"/"}]});se.beforeEach((r,c)=>!!r.name&&se.hasRoute(r.name));const Fu=ft({scriptUrl:"//at.alicdn.com/t/font_2849771_3az41crtc9.js"});x.config({top:"74px",duration:2,maxCount:3});vt(Ht).use(se).component("IconFont",Fu).mount("#app");
